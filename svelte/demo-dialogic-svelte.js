!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).demoDialogicSvelte=n()}(this,(function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function i(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function c(t,n,e){t.$$.on_destroy.push(a(n,e))}function u(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function l(t,n){t.appendChild(n)}function d(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function h(){return m("")}function b(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function O(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let w;function v(t){w=t}function y(){if(!w)throw new Error("Function called outside component initialization");return w}function _(t){y().$$.on_mount.push(t)}function j(){const t=y();return(n,e)=>{const i=t.$$.callbacks[n];if(i){const s=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);i.slice().forEach(n=>{n.call(t,s)})}}}const S=[],x=[],k=[],T=[],E=Promise.resolve();let P=!1;function A(t){k.push(t)}let C=!1;const D=new Set;function H(){if(!C){C=!0;do{for(let t=0;t<S.length;t+=1){const n=S[t];v(n),N(n.$$)}for(v(null),S.length=0;x.length;)x.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];D.has(n)||(D.add(n),n())}k.length=0}while(S.length);for(;T.length;)T.pop()();P=!1,C=!1,D.clear()}}function N(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const I=new Set;let M;function R(){M={r:0,c:[],p:M}}function q(){M.r||s(M.c),M=M.p}function L(t,n){t&&t.i&&(I.delete(t),t.i(n))}function F(t,n,e,i){if(t&&t.o){if(I.has(t))return;I.add(t),M.c.push(()=>{I.delete(t),i&&(e&&t.d(1),i())}),t.o(n)}}function K(t,n){F(t,1,1,()=>{n.delete(t.key)})}function B(t,n){const e={},i={},s={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=n[o];if(a){for(const t in r)t in a||(i[t]=1);for(const t in a)s[t]||(e[t]=a[t],s[t]=1);t[o]=a}else for(const t in r)s[t]=1}for(const t in i)t in e||(e[t]=void 0);return e}function J(t){return"object"==typeof t&&null!==t?t:{}}function V(t){t&&t.c()}function z(t,n,i,r){const{fragment:a,on_mount:c,on_destroy:u,after_update:l}=t.$$;a&&a.m(n,i),r||A(()=>{const n=c.map(e).filter(o);u?u.push(...n):s(n),t.$$.on_mount=[]}),l.forEach(A)}function G(t,n){const e=t.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(S.push(t),P||(P=!0,E.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function W(n,e,o,r,a,c,u=[-1]){const l=w;v(n);const d=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:e.context||[]),callbacks:i(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=o?o(n,e.props||{},(t,e,...i)=>{const s=i.length?i[0]:e;return d.ctx&&a(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),p&&U(n,t)),e}):[],d.update(),p=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();e.intro&&L(n.$$.fragment),z(n,e.target,e.anchor,e.customElement),H()}v(l)}class X{$destroy(){G(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Y=function(t){var n={exports:{}};return t(n,n.exports),n.exports}((function(t){!function(){e.SKIP={},e.lift=function(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return s(n).map((function(n){return t.apply(void 0,n)}))},e.scan=function(t,n,i){var s=i.map((function(i){var s=t(n,i);return s!==e.SKIP&&(n=s),s}));return s(n),s},e.merge=s,e.combine=i,e.scanMerge=function(t,n){var e=t.map((function(t){return t[0]})),s=i((function(){var i=arguments[arguments.length-1];return e.forEach((function(e,s){i.indexOf(e)>-1&&(n=t[s][1](n,e()))})),n}),e);return s(n),s},e["fantasy-land/of"]=e;var n=!1;function e(t){var n,s=[],r=[];function a(n){return arguments.length&&n!==e.SKIP&&(t=n,o(a)&&(a._changing(),a._state="active",s.forEach((function(n,e){n(r[e](t))})))),t}function c(){return(n=e()).map((function(t){return!0===t&&(a._parents.forEach((function(t){t._unregisterChild(a)})),a._state="ended",a._parents.length=s.length=r.length=0),t})),n}return a.constructor=e,a._state=arguments.length&&t!==e.SKIP?"active":"pending",a._parents=[],a._changing=function(){o(a)&&(a._state="changing"),s.forEach((function(t){t._changing()}))},a._map=function(n,i){var o=i?e():e(n(t));return o._parents.push(a),s.push(o),r.push(n),o},a.map=function(t){return a._map(t,"active"!==a._state)},a.toJSON=function(){return null!=t&&"function"==typeof t.toJSON?t.toJSON():t},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(t){return i((function(t,n){return t()(n())}),[t,a])},a._unregisterChild=function(t){var n=s.indexOf(t);-1!==n&&(s.splice(n,1),r.splice(n,1))},Object.defineProperty(a,"end",{get:function(){return n||c()}}),a}function i(t,n){var i=n.every((function(t){if(t.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===t._state})),s=i?e(t.apply(null,n.concat([n]))):e(),o=[],r=n.map((function(e){return e._map((function(r){return o.push(e),(i||n.every((function(t){return"pending"!==t._state})))&&(i=!0,s(t.apply(null,n.concat([o]))),o=[]),r}),!0)})),a=s.end.map((function(t){!0===t&&(r.forEach((function(t){t.end(!0)})),a.end(!0))}));return s}function s(t){return i((function(){return t.map((function(t){return t()}))}),t)}function o(t){return"pending"===t._state||"active"===t._state||"changing"===t._state}Object.defineProperty(e,"HALT",{get:function(){return n||console.log("HALT is deprecated and has been renamed to SKIP"),n=!0,e.SKIP}}),t.exports=e}()}));const Q=(t,n)=>{const e=((t,n)=>n.find(n=>n.id===t))(t,n);return e?n.indexOf(e):-1},Z=(t,n)=>[n,t.id,t.spawn].filter(Boolean).join("-"),tt={initialState:{store:{}},actions:t=>({add:(n,e)=>{t(i=>{const s=i.store[n]||[];return i.store[n]=[...s,e],e.timer&&e.timer.states.map(()=>tt.actions(t).refresh()),i})},remove:(n,e)=>{t(t=>{const i=t.store[n]||[],s=((t,n)=>{const e=Q(t,n);return-1!==e&&n.splice(e,1),n})(e,i);return t.store[n]=s,t})},replace:(n,e,i)=>{t(t=>{const s=t.store[n]||[];if(s){const o=Q(e,s);-1!==o&&(s[o]=i,t.store[n]=[...s])}return t})},removeAll:n=>{t(t=>(t.store[n]=[],t))},store:(n,e)=>{t(t=>(t.store[n]=[...e],t))},refresh:()=>{t(t=>Object.assign({},t))}}),selectors:t=>{const n={getStore:()=>t().store,find:(n,e)=>{const i=t().store[n]||[],s=Z(e,n),o=i.find(t=>t.id===s);return o?{just:o}:{nothing:void 0}},getAll:(n,e)=>{const i=t().store[n]||[],s=void 0!==e?e.spawn:void 0,o=void 0!==e?e.id:void 0,r=void 0!==s?i.filter(t=>t.identityOptions.spawn===s):i;return void 0!==o?r.filter(t=>t.identityOptions.id===o):r},getCount:(t,e)=>n.getAll(t,e).length};return n}},nt=Y(),et=Y.scan((t,n)=>n(t),Object.assign({},tt.initialState),nt),it=Object.assign({},tt.actions(nt)),st=Object.assign({},tt.selectors(et)),ot={callback:()=>{},isPaused:!1,onAbort:()=>{},onDone:()=>{},promise:void 0,remaining:void 0,startTime:void 0,timeoutFn:()=>{},timerId:void 0},rt=t=>(window.clearTimeout(t.timerId),{timerId:ot.timerId}),at=t=>Object.assign(Object.assign({},rt(t)),{isPaused:!0,remaining:ct(t)}),ct=t=>0===t.remaining||void 0===t.remaining?t.remaining:t.remaining-((new Date).getTime()-(t.startTime||0)),ut=()=>{const t={initialState:ot,actions:n=>({start:(e,i)=>{n(s=>Object.assign(Object.assign(Object.assign(Object.assign({},s),rt(s)),((t,n,e,i)=>{const s=()=>{n(),t.onDone(),i()};return Object.assign({timeoutFn:s,promise:new Promise(n=>{t.onDone=()=>n(),t.onAbort=()=>n()})},t.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(s,e),remaining:e})})(s,e,i,()=>t.actions(n).done())),s.isPaused&&at(s)))},stop:()=>{n(t=>Object.assign(Object.assign(Object.assign({},t),(t=>Object.assign({},rt(t)))(t)),ot))},pause:()=>{n(t=>Object.assign(Object.assign({},t),!t.isPaused&&at(t)))},resume:t=>{n(n=>Object.assign(Object.assign({},n),n.isPaused&&((t,n)=>{window.clearTimeout(t.timerId);const e=n?Math.max(t.remaining||0,n):t.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(t.timeoutFn,e)}})(n,t)))},abort:()=>{n(t=>(t.onAbort(),Object.assign(Object.assign({},t),rt(t))))},refresh:()=>{n(t=>Object.assign({},t))},done:()=>{n(()=>ot)}}),selectors:t=>({isPaused:()=>t().isPaused,getRemaining:()=>{const n=t();return n.isPaused?n.remaining:ct(n)},getResultPromise:()=>t().promise})},n=Y(),e=Y.scan((t,n)=>n(t),Object.assign({},t.initialState),n);return{states:e,actions:Object.assign({},t.actions(n)),selectors:Object.assign({},t.selectors(e))}},lt=(...t)=>n=>t.filter(Boolean).reduce((t,n)=>n(t),n),dt=({domElement:t,prop:n})=>{const e=document.defaultView;if(e){const i=e.getComputedStyle(t);if(i)return i.getPropertyValue(n)}},ft="show",pt="hide",mt=(t,n,e)=>{const i=e[n];i&&Object.keys(i).forEach(n=>{const e=i[n];t.style[n]=e})},gt=(t,n)=>t.split(/ /).map(t=>`${t}-${n}`),ht=(t,n,e,i)=>{if(n.styles){const s=((t,n)=>("function"==typeof n?n(t):n)||{})(t,n.styles);mt(t,"default",s),i&&(t=>{t.style.transitionDuration="0ms"})(t),mt(t,e,s)}if(n.className){const i={showStart:gt(n.className,"show-start"),showEnd:gt(n.className,"show-end"),hideStart:gt(n.className,"hide-start"),hideEnd:gt(n.className,"hide-end")};((t,n)=>{t.classList.remove(...n.showStart,...n.showEnd,...n.hideStart,...n.hideEnd)})(t,i),i&&t.classList.add(...i[e])}t.scrollTop},bt=t=>{const n=parseFloat(t)*(-1===t.indexOf("ms")?1e3:1);return Number.isNaN(n)?0:n},$t={showStart:{nextStep:"showEnd"},showEnd:{nextStep:void 0},hideStart:{nextStep:"hideEnd"},hideEnd:{nextStep:void 0}},Ot=(t,n)=>{const{domElement:e}=t;if(!e)return Promise.resolve("no domElement");clearTimeout(t.__transitionTimeoutId__);let i=n===ft?"showStart":"hideStart";return new Promise(n=>{ht(e,t,i,"showStart"===i),setTimeout(()=>{const{nextStep:s}=$t[i];if(s){i=s,ht(e,t,i);const o=(t=>{const n=dt({domElement:t,prop:"transition-duration"}),e=void 0!==n?bt(n):0,i=dt({domElement:t,prop:"transition-delay"});return e+(void 0!==i?bt(i):0)})(e);t.__transitionTimeoutId__=window.setTimeout(n,o)}},0)})},wt={uid:0};var vt;!function(t){t[t.Default=0]="Default",t[t.Displaying=1]="Displaying",t[t.Hiding=2]="Hiding"}(vt||(vt={}));const yt=t=>n=>e=>st.find(t,xt(n,e)),_t=t=>n=>void 0!==t.spawn?n.filter(n=>n.identityOptions.spawn===t.spawn):n,jt=t=>{let n=0;return t.map(t=>({item:t,queueCount:t.dialogicOptions.queued?n++:0})).filter(({queueCount:t})=>0===t).map(({item:t})=>t)},St=(t,n,e)=>{const i=n[t]||[];return 0===i.length?[]:lt(_t(e),jt)(i)},xt=(t,n={})=>({id:n.id||t.id,spawn:n.spawn||t.spawn}),kt=(t,n={})=>{const e={id:n.dialogic?n.dialogic.id:void 0,spawn:n.dialogic?n.dialogic.spawn:void 0};return{identityOptions:xt(t||{},e),dialogicOptions:Object.assign(Object.assign(Object.assign({},t),n.dialogic),{__transitionTimeoutId__:0}),passThroughOptions:(t=>{const n=Object.assign({},t);return delete n.dialogic,n})(n)}},Tt=t=>n=>e=>{const{identityOptions:i,dialogicOptions:s,passThroughOptions:o}=kt(n,e);return new Promise(r=>{const a={willShow:t=>(s.willShow&&s.willShow(t),r(t)),willHide:t=>(s.willHide&&s.willHide(t),r(t)),didShow:t=>(s.didShow&&s.didShow(t),r(t)),didHide:t=>(s.didHide&&s.didHide(t),r(t))},c={ns:t,identityOptions:i,dialogicOptions:s,callbacks:a,passThroughOptions:o,id:Z(i,t),timer:s.timeout?ut():void 0,key:(wt.uid===Number.MAX_VALUE?wt.uid=0:wt.uid+=1,wt.uid).toString(),transitionState:vt.Default},u=st.find(t,i).just;if(u&&s.toggle)return Et(t)(n)(e),r(u);if(u&&!s.queued){const n=Object.assign(Object.assign({},c),{key:u.key,transitionState:u.transitionState,dialogicOptions:u.dialogicOptions});it.replace(t,u.id,n)}else it.add(t,c);r(c)})},Et=t=>n=>e=>{const{identityOptions:i,dialogicOptions:s,passThroughOptions:o}=kt(n,e),r=st.find(t,i).just;if(r){const n=Object.assign(Object.assign({},r),{dialogicOptions:Object.assign(Object.assign({},r.dialogicOptions),s),passThroughOptions:Object.assign(Object.assign({},r.passThroughOptions),{passThroughOptions:o})});return it.replace(t,r.id,n),n.transitionState!==vt.Hiding?Jt(n):Promise.resolve(n)}return Promise.resolve({ns:t,id:i.id})},Pt=t=>n=>n=>{const e=It(t,n).filter(t=>!!t.timer);return e.forEach(t=>{t.timer&&t.timer.actions.pause()}),Promise.all(e)},At=t=>n=>n=>{const e=n||{},i={id:e.id,spawn:e.spawn},s=It(t,i).filter(t=>!!t.timer);return s.forEach(t=>{t.timer&&t.timer.actions.resume(e.minimumDuration)}),Promise.all(s)},Ct=(t,n,e)=>{var i,s;const o=yt(t)(n)(e);return null===(s=null===(i=null==o?void 0:o.just)||void 0===i?void 0:i.timer)||void 0===s?void 0:s.selectors},Dt=t=>n=>e=>{var i;return(null===(i=Ct(t,n,e))||void 0===i?void 0:i.isPaused())||!1},Ht=t=>n=>e=>{var i;return(null===(i=Ct(t,n,e))||void 0===i?void 0:i.getRemaining())||void 0},Nt=t=>n=>n=>!!It(t,n).length,It=(t,n)=>{const e=st.getAll(t);let i;return i=n?lt(_t(n),(t=>n=>void 0!==t.id?n.filter(n=>n.identityOptions.id===t.id):n)(n))(e):e,i},Mt=t=>n=>n=>{const e=It(t,n),i=[];return e.forEach(t=>{t.timer&&t.timer.actions.abort(),i.push(t)}),n?i.forEach(n=>{it.remove(t,n.id)}):it.removeAll(t),Promise.resolve(i)},Rt=(t,n)=>Object.assign(Object.assign({},t),{dialogicOptions:Object.assign(Object.assign({},t.dialogicOptions),n)}),qt=t=>n=>n=>{const e=n||{},i={id:e.id,spawn:e.spawn},s=It(t,i),o=s.filter(t=>!e.queued&&!t.dialogicOptions.queued),r=s.filter(t=>e.queued||t.dialogicOptions.queued),a=[];if(o.forEach(t=>a.push(Jt(Rt(t,e)))),r.length>0){const[n]=r;it.store(t,[n]),a.push(Jt(Rt(n,e)))}return Promise.all(a)},Lt=t=>n=>st.getCount(t,n),Ft=(t,n)=>Ot(t.dialogicOptions,n),Kt=async(t,n,e)=>(n.actions.start(()=>Jt(t),e),t=>n=>e=>{const i=yt(t)(n)(e);if(i.just)return i.just&&i.just.timer?i.just.timer.selectors.getResultPromise():void 0}),Bt=async t=>(t.callbacks.willShow&&t.callbacks.willShow(t),t.transitionState!==vt.Displaying&&(t.transitionState=vt.Displaying,await Ft(t,ft)),t.callbacks.didShow&&t.callbacks.didShow(t),t.dialogicOptions.timeout&&t.timer&&await Kt(t,t.timer,t.dialogicOptions.timeout),Promise.resolve(t)),Jt=async t=>{t.transitionState=vt.Hiding,t.timer&&t.timer.actions.stop(),t.callbacks.willHide&&t.callbacks.willHide(t),await Ft(t,pt),t.callbacks.didHide&&t.callbacks.didHide(t);const n=Object.assign({},t);return it.remove(t.ns,t.id),Promise.resolve(n)},Vt=({ns:t,queued:n,timeout:e})=>{const i="default_"+t,s="default_"+t,o=Object.assign(Object.assign({id:i,spawn:s},n&&{queued:n}),void 0!==e&&{timeout:e});return{ns:t,defaultId:i,defaultSpawn:s,defaultDialogicOptions:o,show:Tt(t)(o),hide:Et(t)(o),hideAll:qt(t)(o),resetAll:Mt(t)(o),pause:Pt(t)(o),resume:At(t)(o),exists:Nt(t)(o),getCount:Lt(t),isPaused:Dt(t)(o),getRemaining:Ht(t)(o)}},zt=Vt({ns:"dialog"}),Gt=Vt({ns:"notification",queued:!0,timeout:3e3}),Ut=t=>{let n,e,i=!1;const s={id:t.id,spawn:t.spawn},o=()=>{const r=t.instance.getRemaining(s);n!==r&&(n=void 0===r?r:t.roundToSeconds?Math.round(Math.max(r,0)/1e3):Math.max(r,0)),t.callback(n),t.instance.exists(s)?i||(e=window.requestAnimationFrame(o)):(window.cancelAnimationFrame(e),i=!0)};e=window.requestAnimationFrame(o)};Object.freeze({__proto__:null});const Wt=[];function Xt(n,e=t){let i;const s=[];function o(t){if(r(n,t)&&(n=t,i)){const t=!Wt.length;for(let t=0;t<s.length;t+=1){const e=s[t];e[1](),Wt.push(e,n)}if(t){for(let t=0;t<Wt.length;t+=2)Wt[t][0](Wt[t+1]);Wt.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(r,a=t){const c=[r,a];return s.push(c),1===s.length&&(i=e(o)||t),r(n),()=>{const t=s.indexOf(c);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}function Yt(n,e,i){const r=!Array.isArray(n),c=r?[n]:n,u=e.length<2;return{subscribe:Xt(i,n=>{let i=!1;const l=[];let d=0,f=t;const p=()=>{if(d)return;f();const i=e(r?l[0]:l,n);u?n(i):f=o(i)?i:t},m=c.map((t,n)=>a(t,t=>{l[n]=t,d&=~(1<<n),i&&p()},()=>{d|=1<<n}));return i=!0,p(),function(){s(m),f()}}).subscribe}}const Qt={...Xt(et),...st};et.map(t=>Qt.set({...t,...st}));const Zt=t=>n=>Yt(Qt,()=>st.getCount(t,n)),tn=t=>n=>e=>Yt(Qt,()=>Dt(t)(n)(e)),nn=t=>n=>e=>Yt(Qt,()=>Nt(t)(n)(e)),en={...zt,getCount:t=>Zt(zt.ns)(t),isPaused:t=>tn(zt.ns)(zt.defaultDialogicOptions)(t),exists:t=>nn(zt.ns)(zt.defaultDialogicOptions)(t)},sn={...Gt,getCount:t=>Zt(Gt.ns)(t),isPaused:t=>tn(Gt.ns)(Gt.defaultDialogicOptions)(t),exists:t=>nn(Gt.ns)(Gt.defaultDialogicOptions)(t)},on=t=>(n,e)=>{const i=st.find(t,n.detail.identityOptions);var s;i.just&&(s=n.detail.domElement,i.just.dialogicOptions.domElement=s);const o=st.find(t,n.detail.identityOptions);o.just&&e(o.just)};function rn(t){let e,i,s;const o=[{show:t[4]},{hide:t[5]},t[0]];var r=t[1].component;function a(t){let e={};for(let t=0;t<o.length;t+=1)e=n(e,o[t]);return{props:e}}return r&&(i=new r(a())),{c(){e=p("div"),i&&V(i.$$.fragment),$(e,"class",t[3])},m(n,o){d(n,e,o),i&&z(i,e,null),t[7](e),s=!0},p(t,[n]){const s=49&n?B(o,[16&n&&{show:t[4]},32&n&&{hide:t[5]},1&n&&J(t[0])]):{};if(r!==(r=t[1].component)){if(i){R();const t=i;F(t.$$.fragment,1,0,()=>{G(t,1)}),q()}r?(i=new r(a()),V(i.$$.fragment),L(i.$$.fragment,1),z(i,e,null)):i=null}else r&&i.$set(s)},i(t){s||(i&&L(i.$$.fragment,t),s=!0)},o(t){i&&F(i.$$.fragment,t),s=!1},d(n){n&&f(e),i&&G(i),t[7](null)}}}function an(t,n,e){const i=j();let s,{identityOptions:o}=n,{passThroughOptions:r}=n,{dialogicOptions:a}=n;const c=a?a.className:"",u=t=>i(t,{identityOptions:o,domElement:s});return _(()=>{u("mount")}),t.$$set=t=>{"identityOptions"in t&&e(6,o=t.identityOptions),"passThroughOptions"in t&&e(0,r=t.passThroughOptions),"dialogicOptions"in t&&e(1,a=t.dialogicOptions)},[r,a,s,c,()=>{u("show")},()=>{u("hide")},o,function(t){x[t?"unshift":"push"](()=>{s=t,e(2,s)})}]}class cn extends X{constructor(t){super(),W(this,t,an,rn,r,{identityOptions:6,passThroughOptions:0,dialogicOptions:1})}}function un(t,n,e){const i=t.slice();return i[1]=n[e].identityOptions,i[6]=n[e].dialogicOptions,i[7]=n[e].passThroughOptions,i[8]=n[e].key,i[10]=e,i}function ln(t,n){let e,i,s;return i=new cn({props:{identityOptions:n[1],dialogicOptions:n[6],passThroughOptions:n[7]}}),i.$on("mount",n[3]),i.$on("show",n[4]),i.$on("hide",n[5]),{key:t,first:null,c(){e=h(),V(i.$$.fragment),this.first=e},m(t,n){d(t,e,n),z(i,t,n),s=!0},p(t,e){n=t;const s={};7&e&&(s.identityOptions=n[1]),7&e&&(s.dialogicOptions=n[6]),7&e&&(s.passThroughOptions=n[7]),i.$set(s)},i(t){s||(L(i.$$.fragment,t),s=!0)},o(t){F(i.$$.fragment,t),s=!1},d(t){t&&f(e),G(i,t)}}}function dn(t){let n,e,i=[],s=new Map,o=St(t[0],t[2].store,t[1]);const r=t=>t[8];for(let n=0;n<o.length;n+=1){let e=un(t,o,n),a=r(e);s.set(a,i[n]=ln(a,e))}return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=h()},m(t,s){for(let n=0;n<i.length;n+=1)i[n].m(t,s);d(t,n,s),e=!0},p(t,[e]){63&e&&(o=St(t[0],t[2].store,t[1]),R(),i=function(t,n,e,i,s,o,r,a,c,u,l,d){let f=t.length,p=o.length,m=f;const g={};for(;m--;)g[t[m].key]=m;const h=[],b=new Map,$=new Map;for(m=p;m--;){const t=d(s,o,m),a=e(t);let c=r.get(a);c?i&&c.p(t,n):(c=u(a,t),c.c()),b.set(a,h[m]=c),a in g&&$.set(a,Math.abs(m-g[a]))}const O=new Set,w=new Set;function v(t){L(t,1),t.m(a,l),r.set(t.key,t),l=t.first,p--}for(;f&&p;){const n=h[p-1],e=t[f-1],i=n.key,s=e.key;n===e?(l=n.first,f--,p--):b.has(s)?!r.has(i)||O.has(i)?v(n):w.has(s)?f--:$.get(i)>$.get(s)?(w.add(i),v(n)):(O.add(s),f--):(c(e,r),f--)}for(;f--;){const n=t[f];b.has(n.key)||c(n,r)}for(;p;)v(h[p-1]);return h}(i,e,r,1,t,o,s,n.parentNode,K,ln,n,un),q())},i(t){if(!e){for(let t=0;t<o.length;t+=1)L(i[t]);e=!0}},o(t){for(let t=0;t<i.length;t+=1)F(i[t]);e=!1},d(t){for(let n=0;n<i.length;n+=1)i[n].d(t);t&&f(n)}}}function fn(t,n,e){let i;c(t,Qt,t=>e(2,i=t));let{identityOptions:s}=n,{ns:o}=n;const r=(t=>n=>on(t)(n,Bt))(o),a=(t=>n=>on(t)(n,Bt))(o),u=(t=>n=>on(t)(n,Jt))(o);return t.$$set=t=>{"identityOptions"in t&&e(1,s=t.identityOptions),"ns"in t&&e(0,o=t.ns)},[o,s,i,r,a,u]}class pn extends X{constructor(t){super(),W(this,t,fn,dn,r,{identityOptions:1,ns:0})}}function mn(t){let n,e;return n=new pn({props:{identityOptions:t[1],ns:t[0]}}),{c(){V(n.$$.fragment)},m(t,i){z(n,t,i),e=!0},p(t,[e]){const i={};1&e&&(i.ns=t[0]),n.$set(i)},i(t){e||(L(n.$$.fragment,t),e=!0)},o(t){F(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function gn(t,n,e){let{instance:i}=n,{ns:s=i.ns}=n,{spawn:o}=n,{id:r}=n,{onMount:a}=n;const c={id:r||i.defaultId,spawn:o||i.defaultSpawn};return _(()=>{"function"==typeof a&&a()}),t.$$set=t=>{"instance"in t&&e(2,i=t.instance),"ns"in t&&e(0,s=t.ns),"spawn"in t&&e(3,o=t.spawn),"id"in t&&e(4,r=t.id),"onMount"in t&&e(5,a=t.onMount)},[s,c,i,o,r,a]}class hn extends X{constructor(t){super(),W(this,t,gn,mn,r,{instance:2,ns:0,spawn:3,id:4,onMount:5})}}function bn(t){let e,i;const s=[t[0],{instance:en}];let o={};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new hn({props:o}),{c(){V(e.$$.fragment)},m(t,n){z(e,t,n),i=!0},p(t,[n]){const i=1&n?B(s,[1&n&&J(t[0]),0&n&&{instance:en}]):{};e.$set(i)},i(t){i||(L(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){G(e,t)}}}function $n(t,e,i){return t.$$set=t=>{i(0,e=n(n({},e),u(t)))},[e=u(e)]}class On extends X{constructor(t){super(),W(this,t,$n,bn,r,{})}}function wn(t){let e,i;const s=[t[0],{instance:sn}];let o={};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new hn({props:o}),{c(){V(e.$$.fragment)},m(t,n){z(e,t,n),i=!0},p(t,[n]){const i=1&n?B(s,[1&n&&J(t[0]),0&n&&{instance:sn}]):{};e.$set(i)},i(t){i||(L(e.$$.fragment,t),i=!0)},o(t){F(e.$$.fragment,t),i=!1},d(t){G(e,t)}}}function vn(t,e,i){return t.$$set=t=>{i(0,e=n(n({},e),u(t)))},[e=u(e)]}class yn extends X{constructor(t){super(),W(this,t,vn,wn,r,{})}}function _n(n){let e,i,o,r,a,c,u,h,w,v,y,_,j,S,x,k,T=n[0].title+"",E=n[0].body+"";return{c(){e=p("div"),i=p("div"),o=p("div"),r=p("h2"),a=m(T),c=g(),u=p("div"),h=m(E),w=g(),v=p("footer"),y=p("div"),_=p("button"),_.innerHTML='<span class="mdc-button__label">Never mind</span>',j=g(),S=p("button"),S.innerHTML='<span class="mdc-button__label">Yes, retry</span>',$(r,"class","h2 mdc-dialog__title"),$(u,"class","mdc-dialog__content"),$(_,"class","mdc-button mdc-dialog__button"),$(S,"class","mdc-button mdc-dialog__button"),$(v,"class","mdc-dialog__actions"),$(i,"class","mdc-dialog__surface"),$(e,"class","mdc-dialog__container")},m(t,s){d(t,e,s),l(e,i),l(i,o),l(o,r),l(r,a),l(o,c),l(o,u),l(u,h),l(o,w),l(o,v),l(v,y),l(y,_),l(y,j),l(y,S),x||(k=[b(_,"click",n[1]),b(S,"click",n[2])],x=!0)},p(t,[n]){1&n&&T!==(T=t[0].title+"")&&O(a,T),1&n&&E!==(E=t[0].body+"")&&O(h,E)},i:t,o:t,d(t){t&&f(e),x=!1,s(k)}}}function jn(t,e,i){return t.$$set=t=>{i(0,e=n(n({},e),u(t)))},[e=u(e),()=>{en.hide(),e.onReject()},()=>{en.hide(),e.onAccept()}]}class Sn extends X{constructor(t){super(),W(this,t,jn,_n,r,{})}}function xn(t){let e,i,s,o,r;const a=[t[0]];let c={};for(let t=0;t<a.length;t+=1)c=n(c,a[t]);return i=new Sn({props:c}),{c(){e=p("div"),V(i.$$.fragment),s=g(),o=p("div"),$(o,"class","mdc-dialog__scrim"),$(e,"class","mdc-dialog mdc-dialog--open"),$(e,"role","alertdialog"),$(e,"aria-modal","true"),$(e,"aria-labelledby","my-dialog-title"),$(e,"aria-describedby","my-dialog-content")},m(t,n){d(t,e,n),z(i,e,null),l(e,s),l(e,o),r=!0},p(t,[n]){const e=1&n?B(a,[J(t[0])]):{};i.$set(e)},i(t){r||(L(i.$$.fragment,t),r=!0)},o(t){F(i.$$.fragment,t),r=!1},d(t){t&&f(e),G(i)}}}function kn(t,e,i){return t.$$set=t=>{i(0,e=n(n({},e),u(t)))},[e=u(e)]}class Tn extends X{constructor(t){super(),W(this,t,kn,xn,r,{})}}function En(n){let e;return{c(){e=m("Can't send photo.")},m(t,n){d(t,e,n)},p:t,d(t){t&&f(e)}}}function Pn(t){let n,e,i;return{c(){n=m("Can't send photo. Retrying in "),e=m(t[0]),i=m(" seconds.")},m(t,s){d(t,n,s),d(t,e,s),d(t,i,s)},p(t,n){1&n&&O(e,t[0])},d(t){t&&f(n),t&&f(e),t&&f(i)}}}function An(n){let e,i,s,o,r,a;function c(t,n){return void 0!==t[0]?Pn:En}let u=c(n),m=u(n);return{c(){e=p("div"),m.c(),i=g(),s=p("div"),o=p("button"),o.textContent="Retry now",$(e,"class","mdc-snackbar__label"),$(o,"class","button mdc-button mdc-snackbar__action"),$(s,"class","mdc-snackbar__actions")},m(t,c){d(t,e,c),m.m(e,null),d(t,i,c),d(t,s,c),l(s,o),r||(a=b(o,"click",n[1]),r=!0)},p(t,[n]){u===(u=c(t))&&m?m.p(t,n):(m.d(1),m=u(t),m&&(m.c(),m.m(e,null)))},i:t,o:t,d(t){t&&f(e),m.d(),t&&f(i),t&&f(s),r=!1,a()}}}function Cn(t,n,e){let i;Ut({instance:sn,roundToSeconds:!0,callback:t=>{e(0,i=t)}});return[i,()=>{sn.pause(),en.show({dialogic:{component:Tn,className:"dialog"},title:"Retry sending?",body:"We have noticed a slow internet connection. Even when you retry now, sending may take longer than usual.",onAccept:()=>{sn.hide(),sn.resume()},onReject:()=>{sn.resume({minimumDuration:2e3})}})}]}class Dn extends X{constructor(t){super(),W(this,t,Cn,An,r,{})}}function Hn(n){let e,i,s,o;return s=new Dn({}),{c(){e=p("div"),i=p("div"),V(s.$$.fragment),$(i,"class","mdc-snackbar__surface"),$(e,"class","mdc-snackbar mdc-snackbar--open")},m(t,n){d(t,e,n),l(e,i),z(s,i,null),o=!0},p:t,i(t){o||(L(s.$$.fragment,t),o=!0)},o(t){F(s.$$.fragment,t),o=!1},d(t){t&&f(e),G(s)}}}class Nn extends X{constructor(t){super(),W(this,t,null,Hn,r,{})}}function In(n){let e,i,s,o=(void 0===n[0]?"0":n[0].toString())+"";return{c(){e=p("div"),i=p("span"),s=m(o),$(e,"class","remaining svelte-bf7089")},m(t,n){d(t,e,n),l(e,i),l(i,s)},p(t,[n]){1&n&&o!==(o=(void 0===t[0]?"0":t[0].toString())+"")&&O(s,o)},i:t,o:t,d(t){t&&f(e)}}}function Mn(t,n,e){let i,{instance:s}=n,{roundToSeconds:o}=n;return Ut({instance:s,roundToSeconds:o,callback:t=>{e(0,i=t)}}),t.$$set=t=>{"instance"in t&&e(1,s=t.instance),"roundToSeconds"in t&&e(2,o=t.roundToSeconds)},[i,s,o]}class Rn extends X{constructor(t){super(),W(this,t,Mn,In,r,{instance:1,roundToSeconds:2})}}function qn(n){let e,i,s,o,r;return o=new Rn({props:{instance:sn,roundToSeconds:!1}}),{c(){e=p("div"),i=m("Remaining\n\t\t\t\t\t"),s=p("div"),V(o.$$.fragment),$(s,"class","detail"),$(e,"class","ui label")},m(t,n){d(t,e,n),l(e,i),l(e,s),z(o,s,null),r=!0},p:t,i(t){r||(L(o.$$.fragment,t),r=!0)},o(t){F(o.$$.fragment,t),r=!1},d(t){t&&f(e),G(o)}}}function Ln(t){let n,e,i,o,r,a,c,u,h,w,v,y,_,j,S,x,k,T,E,P,A,C,D,H,N,I,M,K,B,J,U,W,X,Y,Q,Z,tt,nt=t[2]&&qn();return W=new On({}),Y=new yn({}),{c(){n=p("div"),e=p("main"),i=p("h1"),i.textContent="Dialogic for Svelte demo",o=g(),r=p("div"),r.textContent="Add one or more notifications, then click on the Retry button in the message.",a=g(),c=p("div"),u=p("button"),u.textContent="Add notification",h=g(),w=p("button"),w.textContent="Pause",v=g(),y=p("button"),y.textContent="Resume",_=g(),j=p("button"),j.textContent="Hide all",S=g(),x=p("button"),x.textContent="Reset all",k=g(),T=p("div"),E=p("div"),P=m("Notifications\n\t\t\t\t"),A=p("div"),C=m(t[0]),D=g(),H=p("div"),N=m("Is paused\n\t\t\t\t"),I=p("div"),M=m(t[1]),K=g(),nt&&nt.c(),B=g(),J=p("footer"),J.innerHTML='Dialogic: manage dialogs and notifications. <a href="https://github.com/ArthurClemens/dialogic">Main documentation on GitHub</a>',U=g(),V(W.$$.fragment),X=g(),V(Y.$$.fragment),$(r,"class","message"),$(u,"class","ui button primary"),$(w,"class","ui button"),$(y,"class","ui button"),$(j,"class","ui button"),$(x,"class","ui button"),$(c,"class","ui message"),$(A,"class","detail"),$(E,"class","ui label"),$(I,"class","detail"),$(H,"class","ui label"),$(T,"class","ui message"),$(n,"class","page")},m(s,f){d(s,n,f),l(n,e),l(e,i),l(e,o),l(e,r),l(e,a),l(e,c),l(c,u),l(c,h),l(c,w),l(c,v),l(c,y),l(c,_),l(c,j),l(c,S),l(c,x),l(e,k),l(e,T),l(T,E),l(E,P),l(E,A),l(A,C),l(T,D),l(T,H),l(H,N),l(H,I),l(I,M),l(T,K),nt&&nt.m(T,null),l(n,B),l(n,J),d(s,U,f),z(W,s,f),d(s,X,f),z(Y,s,f),Q=!0,Z||(tt=[b(u,"click",t[6]),b(w,"click",t[7]),b(y,"click",t[8]),b(j,"click",t[9]),b(x,"click",t[10])],Z=!0)},p(t,[n]){(!Q||1&n)&&O(C,t[0]),(!Q||2&n)&&O(M,t[1]),t[2]?nt?(nt.p(t,n),4&n&&L(nt,1)):(nt=qn(),nt.c(),L(nt,1),nt.m(T,null)):nt&&(R(),F(nt,1,1,()=>{nt=null}),q())},i(t){Q||(L(nt),L(W.$$.fragment,t),L(Y.$$.fragment,t),Q=!0)},o(t){F(nt),F(W.$$.fragment,t),F(Y.$$.fragment,t),Q=!1},d(t){t&&f(n),nt&&nt.d(),t&&f(U),G(W,t),t&&f(X),G(Y,t),Z=!1,s(tt)}}}function Fn(t,n,e){let i,s,o;const r=sn.isPaused();c(t,r,t=>e(1,s=t));const a=sn.exists();c(t,a,t=>e(2,o=t));const u=sn.getCount();c(t,u,t=>e(0,i=t));return[i,s,o,r,a,u,()=>{sn.show({dialogic:{component:Nn,className:"notification",timeout:4e3}})},()=>{sn.pause()},()=>{sn.resume()},()=>{sn.hideAll()},()=>{sn.resetAll()}]}return new class extends X{constructor(t){super(),W(this,t,Fn,Ln,r,{})}}({target:document.body})}));
//# sourceMappingURL=demo-dialogic-svelte.js.map
