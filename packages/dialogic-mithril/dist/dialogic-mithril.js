!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("mithril"),require("dialogic"),require("mithril-hooks"),require("dialogic-hooks")):"function"==typeof define&&define.amd?define(["exports","mithril","dialogic","mithril-hooks","dialogic-hooks"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self).dialogicMithril={},t.m,t.dialogic,t.mithrilHooks,t.dialogicHooks)}(this,(function(t,i,n,e,o){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=r(i),a=function(t){return function(i,e){var o=n.selectors.find(t,i.detail.identityOptions);o.just&&n.setDomElement(i.detail.domElement,o.just);var r=n.selectors.find(t,i.detail.identityOptions);r.just&&e(r.just)}},u=function(){return(u=Object.assign||function(t){for(var i,n=1,e=arguments.length;n<e;n++)for(var o in i=arguments[n])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)},f=function(t){var i,n=t.attrs,e=function(t){t({detail:{identityOptions:n.identityOptions,domElement:i}})},o=function(){e(n.onShow)},r=function(){e(n.onHide)};return{oncreate:function(t){i=t.dom,e(n.onMount)},view:function(t){var i=t.attrs,n=i.dialogicOptions.component;if(!n)throw"Component missing in dialogic options.";return s.default("div",{className:i.dialogicOptions.className},s.default(n,u(u({},i.passThroughOptions),{show:o,hide:r})))}}},c={view:function(t){var i,e=t.attrs,o=(i=e.ns,function(t){return a(i)(t,n.showItem)}),r=function(t){return function(i){return a(t)(i,n.showItem)}}(e.ns),u=function(t){return function(i){return a(t)(i,n.hideItem)}}(e.ns),c=e.identityOptions||{};return n.filterCandidates(e.ns,n.selectors.getStore(),c).map((function(t){return s.default(f,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:o,onShow:r,onHide:u})}))}},d=function(t){return{oncreate:function(t){var i=t.attrs;"function"==typeof i.onMount&&i.onMount()},view:function(i){var n=i.attrs,e={id:n.id||t.defaultId,spawn:n.spawn||t.defaultSpawn};return s.default(c,{identityOptions:e,ns:t.ns})}}},l=o.sharedUseDialogic({useEffect:e.useEffect}),p=o.sharedUseDialog({useEffect:e.useEffect,dialog:n.dialog}),g=o.sharedUseNotification({useEffect:e.useEffect,notification:n.notification}),h=d(n.dialog),m=d(n.notification);n.states.map((function(t){return s.default.redraw()})),Object.defineProperty(t,"dialog",{enumerable:!0,get:function(){return n.dialog}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return n.notification}}),t.Dialog=h,t.Dialogical=d,t.Notification=m,t.useDialog=p,t.useDialogic=l,t.useNotification=g,Object.defineProperty(t,"__esModule",{value:!0})}));
