!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("dialogic"),require("mithril"),require("dialogic-hooks"),require("mithril-hooks")):"function"==typeof define&&define.amd?define(["exports","dialogic","mithril","dialogic-hooks","mithril-hooks"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).dialogicMithril={},e.dialogic,e.m,e.dialogicHooks,e.mithrilHooks)}(this,(function(e,t,i,o,n){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=s(i);const d=({attrs:e})=>{let t;const i=i=>{i({detail:{identityOptions:e.identityOptions,domElement:t}})},o=()=>{i(e.onShow)},n=()=>{i(e.onHide)};return{oncreate:o=>{t=o.dom,i(e.onMount)},view:({attrs:e})=>{const t=e.dialogicOptions.component;if(!t)throw new Error("Component missing in dialogic options.");const i=e.passThroughOptions||{};return a.default("div",{className:e.dialogicOptions.className},a.default(t,Object.assign(Object.assign({},i),{show:o,hide:n})))}}},r=e=>(i,o)=>{const n=t.selectors.find(e,i.detail.identityOptions);n.just&&t.setDomElement(i.detail.domElement,n.just);const s=t.selectors.find(e,i.detail.identityOptions);s.just&&o(s.just)},u={view:({attrs:e})=>{const i=(o=e.ns,e=>r(o)(e,t.showItem));var o;const n=(e=>i=>r(e)(i,t.showItem))(e.ns),s=(e=>i=>r(e)(i,t.hideItem))(e.ns),u=e.identityOptions||{};return t.filterCandidates(e.ns,t.selectors.getStore(),u).map(e=>a.default(d,{key:e.key,identityOptions:e.identityOptions,dialogicOptions:e.dialogicOptions,passThroughOptions:e.passThroughOptions,onMount:i,onShow:n,onHide:s}))}},l=e=>({oncreate:({attrs:e})=>{"function"==typeof e.onMount&&e.onMount()},view:({attrs:t})=>{const i={id:t.id||e.defaultId,spawn:t.spawn||e.defaultSpawn};return a.default(u,{identityOptions:i,ns:e.ns})}}),c=o.sharedUseDialogic({useEffect:n.useEffect,useState:n.useState}),f=o.sharedUseDialog({useEffect:n.useEffect,useState:n.useState,dialog:t.dialog}),g=o.sharedUseNotification({useEffect:n.useEffect,useState:n.useState,notification:t.notification}),p=o.sharedUseRemaining({useMemo:n.useMemo,useState:n.useState}),m=l(t.dialog),h=l(t.notification);t.states.map(e=>a.default.redraw()),Object.defineProperty(e,"Dialogic",{enumerable:!0,get:function(){return t.Dialogic}}),Object.defineProperty(e,"dialog",{enumerable:!0,get:function(){return t.dialog}}),Object.defineProperty(e,"notification",{enumerable:!0,get:function(){return t.notification}}),e.Dialog=m,e.Dialogical=l,e.Notification=h,e.useDialog=f,e.useDialogic=c,e.useNotification=g,e.useRemaining=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=dialogic-mithril.js.map
