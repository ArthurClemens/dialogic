!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("mithril"),require("dialogic"),require("mithril-hooks"),require("dialogic-hooks")):"function"==typeof define&&define.amd?define(["exports","mithril","dialogic","mithril-hooks","dialogic-hooks"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self).dialogicMithril={},t.m,t.dialogic,t.mithrilHooks,t.dialogicHooks)}(this,(function(t,i,e,n,o){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=s(i),a=function(t){return function(i,n){var o=e.selectors.find(t,i.detail.identityOptions);o.just&&e.setDomElement(i.detail.domElement,o.just);var s=e.selectors.find(t,i.detail.identityOptions);s.just&&n(s.just)}},u=function(){return(u=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)},f=function(t){var i,e=t.attrs,n=function(t){t({detail:{identityOptions:e.identityOptions,domElement:i}})},o=function(){n(e.onShow)},s=function(){n(e.onHide)};return{oncreate:function(t){i=t.dom,n(e.onMount)},view:function(t){var i=t.attrs,e=i.dialogicOptions.component;if(!e)throw"Component missing in dialogic options.";return r.default("div",{className:i.dialogicOptions.className},r.default(e,u(u({},i.passThroughOptions),{show:o,hide:s})))}}},c={view:function(t){var i,n=t.attrs,o=(i=n.ns,function(t){return a(i)(t,e.showItem)}),s=function(t){return function(i){return a(t)(i,e.showItem)}}(n.ns),u=function(t){return function(i){return a(t)(i,e.hideItem)}}(n.ns),c=n.identityOptions||{};return e.filterCandidates(n.ns,e.selectors.getStore(),c).map((function(t){return r.default(f,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:o,onShow:s,onHide:u})}))}},d=function(t){return{oncreate:function(t){var i=t.attrs;"function"==typeof i.onMount&&i.onMount()},view:function(i){var e=i.attrs,n={id:e.id||t.defaultId,spawn:e.spawn||t.defaultSpawn};return r.default(c,{identityOptions:n,ns:t.ns})}}},l=o.sharedUseDialogic({useEffect:n.useEffect}),p=o.sharedUseDialog({useEffect:n.useEffect,dialog:e.dialog}),g=o.sharedUseNotification({useEffect:n.useEffect,notification:e.notification}),h=o.sharedUseRemaining({useMemo:n.useMemo,useState:n.useState}),m=d(e.dialog),y=d(e.notification);e.states.map((function(t){return r.default.redraw()})),Object.defineProperty(t,"dialog",{enumerable:!0,get:function(){return e.dialog}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return e.notification}}),t.Dialog=m,t.Dialogical=d,t.Notification=y,t.useDialog=p,t.useDialogic=l,t.useNotification=g,t.useRemaining=h,Object.defineProperty(t,"__esModule",{value:!0})}));
