!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("dialogic"),require("mithril-hooks"),require("dialogic-hooks")):"function"==typeof define&&define.amd?define(["exports","mithril","dialogic","mithril-hooks","dialogic-hooks"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).dialogicMithril={},t.m,t.dialogic,t.mithrilHooks,t.dialogicHooks)}(this,(function(t,e,i,o,n){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(e);const d=t=>(e,o)=>{const n=i.selectors.find(t,e.detail.identityOptions);n.just&&i.setDomElement(e.detail.domElement,n.just);const s=i.selectors.find(t,e.detail.identityOptions);s.just&&o(s.just)},u=({attrs:t})=>{let e;const i=i=>{i({detail:{identityOptions:t.identityOptions,domElement:e}})},o=()=>{i(t.onShow)},n=()=>{i(t.onHide)};return{oncreate:o=>{e=o.dom,i(t.onMount)},view:({attrs:t})=>{const e=t.dialogicOptions.component;if(!e)throw"Component missing in dialogic options.";return a.default("div",{className:t.dialogicOptions.className},a.default(e,{...t.passThroughOptions,show:o,hide:n}))}}},r={view:({attrs:t})=>{const e=(o=t.ns,t=>d(o)(t,i.showItem));var o;const n=(t=>e=>d(t)(e,i.showItem))(t.ns),s=(t=>e=>d(t)(e,i.hideItem))(t.ns),r=t.identityOptions||{};return i.filterCandidates(t.ns,i.selectors.getStore(),r).map(t=>a.default(u,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:e,onShow:n,onHide:s}))}},l=t=>({oncreate:({attrs:t})=>{"function"==typeof t.onMount&&t.onMount()},view:({attrs:e})=>{const i={id:e.id||t.defaultId,spawn:e.spawn||t.defaultSpawn};return a.default(r,{identityOptions:i,ns:t.ns})}}),c=n.sharedUseDialogic({useEffect:o.useEffect,useState:o.useState}),f=n.sharedUseDialog({useEffect:o.useEffect,useState:o.useState,dialog:i.dialog}),p=n.sharedUseNotification({useEffect:o.useEffect,useState:o.useState,notification:i.notification}),g=n.sharedUseRemaining({useMemo:o.useMemo,useState:o.useState}),h=l(i.dialog),m=l(i.notification);i.states.map(t=>a.default.redraw()),Object.defineProperty(t,"dialog",{enumerable:!0,get:function(){return i.dialog}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i.notification}}),t.Dialog=h,t.Dialogical=l,t.Notification=m,t.useDialog=f,t.useDialogic=c,t.useNotification=p,t.useRemaining=g,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=dialogic-mithril.js.map
