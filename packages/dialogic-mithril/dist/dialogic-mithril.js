!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("mithril"),require("dialogic")):"function"==typeof define&&define.amd?define(["exports","mithril","dialogic"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).dialogicMithril={},t.m,t.dialogic)}(this,(function(t,n,i){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=e(n),r=function(t){return function(n,e){var o=i.selectors.find(t,n.detail.identityOptions);o.just&&i.setDomElement(n.detail.domElement,o.just);var r=i.selectors.find(t,n.detail.identityOptions);r.just&&e(r.just)}},u=function(){return(u=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},a=function(t){var n,i=t.attrs,e=function(t){t({detail:{identityOptions:i.identityOptions,domElement:n}})},r=function(){e(i.onShow)},a=function(){e(i.onHide)};return{oncreate:function(t){n=t.dom,e(i.onMount)},view:function(t){var n=t.attrs,i=n.dialogicOptions.component;if(!i)throw"Component missing in dialogic options.";return o.default("div",{className:n.dialogicOptions.className},o.default(i,u(u({},n.passThroughOptions),{show:r,hide:a})))}}},s={view:function(t){var n,e=t.attrs,u=(n=e.ns,function(t){return r(n)(t,i.showItem)}),s=function(t){return function(n){return r(t)(n,i.showItem)}}(e.ns),d=function(t){return function(n){return r(t)(n,i.hideItem)}}(e.ns),f=e.identityOptions||{};return i.filterCandidates(e.ns,i.selectors.getStore(),f).map((function(t){return o.default(a,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:u,onShow:s,onHide:d})}))}},d=function(t){return{oncreate:function(t){var n=t.attrs;"function"==typeof n.onMount&&n.onMount()},view:function(n){var i=n.attrs,e={id:i.id||t.defaultId,spawn:i.spawn||t.defaultSpawn};return o.default(s,{identityOptions:e,ns:t.ns})}}},f=d(i.dialog),c=d(i.notification);i.states.map((function(t){return o.default.redraw()})),Object.defineProperty(t,"dialog",{enumerable:!0,get:function(){return i.dialog}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i.notification}}),t.Dialog=f,t.Dialogical=d,t.Notification=c,Object.defineProperty(t,"__esModule",{value:!0})}));
