!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("dialogic"),require("mithril"),require("dialogic-hooks"),require("mithril-hooks")):"function"==typeof define&&define.amd?define(["exports","dialogic","mithril","dialogic-hooks","mithril-hooks"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).dialogicMithril={},e.dialogic,e.m,e.dialogicHooks,e.mithrilHooks)}(this,(function(e,t,i,o,n){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=s(i);const u=({attrs:e})=>{let t;const i=i=>{i({detail:{identityOptions:e.identityOptions,domElement:t}})},o=()=>{i(e.onShow)},n=()=>{i(e.onHide)};return{oncreate:o=>{t=o.dom,i(e.onMount)},view:({attrs:e})=>{const t=e.dialogicOptions.component;if(!t)throw new Error("Component missing in dialogic options.");const i=e.passThroughOptions||{};return a.default("div",{className:e.dialogicOptions.className},a.default(t,Object.assign(Object.assign({},i),{show:o,hide:n})))}}},c=e=>(i,o)=>{const n=t.selectors.find(e,i.detail.identityOptions);n.just&&t.setDomElement(i.detail.domElement,n.just);const s=t.selectors.find(e,i.detail.identityOptions);s.just&&o(s.just)},r={view:({attrs:e})=>{const i=(o=e.ns,e=>c(o)(e,t.showItem));var o;const n=(e=>i=>c(e)(i,t.showItem))(e.ns),s=(e=>i=>c(e)(i,t.hideItem))(e.ns),r=e.identityOptions||{};return t.filterCandidates(e.ns,t.selectors.getStore(),r).map(e=>a.default(u,{key:e.key,identityOptions:e.identityOptions,dialogicOptions:e.dialogicOptions,passThroughOptions:e.passThroughOptions,onMount:i,onShow:n,onHide:s}))}},d=e=>({oncreate:({attrs:e})=>{"function"==typeof e.onMount&&e.onMount()},view:({attrs:t})=>{const i={id:t.id||e.defaultId,spawn:t.spawn||e.defaultSpawn};return a.default(r,{identityOptions:i,ns:e.ns})}}),l=d(t.dialog),f=d(t.notification);t.states.map(e=>a.default.redraw()),Object.defineProperty(e,"Dialogic",{enumerable:!0,get:function(){return t.Dialogic}}),Object.defineProperty(e,"dialog",{enumerable:!0,get:function(){return t.dialog}}),Object.defineProperty(e,"notification",{enumerable:!0,get:function(){return t.notification}}),e.Dialog=l,e.Dialogical=d,e.Notification=f,e.useDialog=e=>o.useDialogicShared(Object.assign({useEffect:n.useEffect,useState:n.useState,instance:t.dialog},e)),e.useDialogic=e=>o.useDialogicShared(Object.assign(Object.assign({},e),{useEffect:n.useEffect,useState:n.useState})),e.useNotification=e=>o.useDialogicShared(Object.assign({useEffect:n.useEffect,useState:n.useState,instance:t.notification},e)),e.useRemaining=e=>o.useRemainingShared(Object.assign({useState:n.useState,useMemo:n.useMemo},e)),Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=dialogic-mithril.js.map
