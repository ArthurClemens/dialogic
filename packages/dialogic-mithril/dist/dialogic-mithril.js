!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("mithril"),require("dialogic"),require("mithril-hooks"),require("dialogic-hooks")):"function"==typeof define&&define.amd?define(["exports","mithril","dialogic","mithril-hooks","dialogic-hooks"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).dialogicMithril={},t.m,t.dialogic,t.mithrilHooks,t.dialogicHooks)}(this,(function(t,e,i,n,o){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(e),r=function(t){return function(e,n){var o=i.selectors.find(t,e.detail.identityOptions);o.just&&i.setDomElement(e.detail.domElement,o.just);var s=i.selectors.find(t,e.detail.identityOptions);s.just&&n(s.just)}},u=function(){return(u=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=function(t){var e,i=t.attrs,n=function(t){t({detail:{identityOptions:i.identityOptions,domElement:e}})},o=function(){n(i.onShow)},s=function(){n(i.onHide)};return{oncreate:function(t){e=t.dom,n(i.onMount)},view:function(t){var e=t.attrs,i=e.dialogicOptions.component;if(!i)throw"Component missing in dialogic options.";return a.default("div",{className:e.dialogicOptions.className},a.default(i,u(u({},e.passThroughOptions),{show:o,hide:s})))}}},c={view:function(t){var e,n=t.attrs,o=(e=n.ns,function(t){return r(e)(t,i.showItem)}),s=function(t){return function(e){return r(t)(e,i.showItem)}}(n.ns),u=function(t){return function(e){return r(t)(e,i.hideItem)}}(n.ns),c=n.identityOptions||{};return i.filterCandidates(n.ns,i.selectors.getStore(),c).map((function(t){return a.default(f,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:o,onShow:s,onHide:u})}))}},d=function(t){return{oncreate:function(t){var e=t.attrs;"function"==typeof e.onMount&&e.onMount()},view:function(e){var i=e.attrs,n={id:i.id||t.defaultId,spawn:i.spawn||t.defaultSpawn};return a.default(c,{identityOptions:n,ns:t.ns})}}},l=o.sharedUseDialogic({useEffect:n.useEffect,useState:n.useState}),p=o.sharedUseDialog({useEffect:n.useEffect,useState:n.useState,dialog:i.dialog}),g=o.sharedUseNotification({useEffect:n.useEffect,useState:n.useState,notification:i.notification}),h=o.sharedUseRemaining({useMemo:n.useMemo,useState:n.useState}),m=d(i.dialog),y=d(i.notification);i.states.map((function(t){return a.default.redraw()})),Object.defineProperty(t,"dialog",{enumerable:!0,get:function(){return i.dialog}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i.notification}}),t.Dialog=m,t.Dialogical=d,t.Notification=y,t.useDialog=p,t.useDialogic=l,t.useNotification=g,t.useRemaining=h,Object.defineProperty(t,"__esModule",{value:!0})}));
