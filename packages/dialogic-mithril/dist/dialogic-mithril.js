!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("mithril"),require("dialogic")):"function"==typeof define&&define.amd?define(["exports","mithril","dialogic"],n):n((t=t||self).dialogicMithril={},t.m,t.dialogic)}(this,(function(t,n,i){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var e=function(t){return function(n,e){var o=i.selectors.find(t,n.detail.identityOptions);o.just&&i.setDomElement(n.detail.domElement,o.just);var r=i.selectors.find(t,n.detail.identityOptions);r.just&&e(r.just)}},o=function(){return(o=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},r=function(t){var i,e=t.attrs,r=function(t){t({detail:{identityOptions:e.identityOptions,domElement:i}})},s=function(){r(e.onShow)},a=function(){r(e.onHide)};return{oncreate:function(t){i=t.dom,r(e.onMount)},view:function(t){var i=t.attrs,e=i.dialogicOptions.component;if(!e)throw"Component missing in dialogic options.";return n("div",{className:i.dialogicOptions.className},n(e,o(o({},i.passThroughOptions),{show:s,hide:a})))}}},s={view:function(t){var o,s=t.attrs,a=(o=s.ns,function(t){return e(o)(t,i.showItem)}),u=function(t){return function(n){return e(t)(n,i.showItem)}}(s.ns),c=function(t){return function(n){return e(t)(n,i.hideItem)}}(s.ns),d=s.identityOptions||{};return i.filterCandidates(s.ns,i.selectors.getStore(),d).map((function(t){return n(r,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:a,onShow:u,onHide:c})}))}},a=function(t){return{oncreate:function(t){var n=t.attrs;"function"==typeof n.onMount&&n.onMount()},view:function(i){var e=i.attrs,o={id:e.id||t.defaultId,spawn:e.spawn||t.defaultSpawn};return n(s,{identityOptions:o,ns:t.ns})}}},u=a(i.dialog),c=a(i.notification);i.states.map((function(t){return n.redraw()})),Object.defineProperty(t,"dialog",{enumerable:!0,get:function(){return i.dialog}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i.notification}}),t.Dialog=u,t.Dialogical=a,t.Notification=c,Object.defineProperty(t,"__esModule",{value:!0})}));
