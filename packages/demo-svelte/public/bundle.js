var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}function c(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function d(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function m(){return f("")}function g(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function $(t,n){n=""+n,t.data!==n&&(t.data=n)}let w;function _(t){w=t}function y(){if(!w)throw new Error("Function called outside component initialization");return w}function x(t){y().$$.on_mount.push(t)}function v(){const t=w;return(n,e)=>{const i=t.$$.callbacks[n];if(i){const o=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);i.slice().forEach(n=>{n.call(t,o)})}}}const O=[],k=[],b=[],S=[],C=Promise.resolve();let E=!1;function P(t){b.push(t)}function N(){const t=new Set;do{for(;O.length;){const t=O.shift();_(t),D(t.$$)}for(;k.length;)k.pop()();for(let n=0;n<b.length;n+=1){const e=b[n];t.has(e)||(e(),t.add(e))}b.length=0}while(O.length);for(;S.length;)S.pop()();E=!1}function D(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(P))}const I=new Set;let T;function A(){T={r:0,c:[],p:T}}function M(){T.r||o(T.c),T=T.p}function H(t,n){t&&t.i&&(I.delete(t),t.i(n))}function j(t,n,e,i){if(t&&t.o){if(I.has(t))return;I.add(t),T.c.push(()=>{I.delete(t),i&&(e&&t.d(1),i())}),t.o(n)}}function R(t,n){j(t,1,1,()=>{n.delete(t.key)})}function F(t,n){const e={},i={},o={$$scope:1};let s=t.length;for(;s--;){const r=t[s],a=n[s];if(a){for(const t in r)t in a||(i[t]=1);for(const t in a)o[t]||(e[t]=a[t],o[t]=1);t[s]=a}else for(const t in r)o[t]=1}for(const t in i)t in e||(e[t]=void 0);return e}function q(t,n,i){const{fragment:r,on_mount:a,on_destroy:c,after_update:d}=t.$$;r.m(n,i),P(()=>{const n=a.map(e).filter(s);c?c.push(...n):o(n),t.$$.on_mount=[]}),d.forEach(P)}function Q(t,n){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function V(t,n){t.$$.dirty||(O.push(t),E||(E=!0,C.then(N)),t.$$.dirty=i()),t.$$.dirty[n]=!0}function K(n,e,s,r,a,c){const d=w;_(n);const u=e.props||{},l=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:i(),dirty:null};let p=!1;l.ctx=s?s(n,u,(t,e)=>{l.ctx&&a(l.ctx[t],l.ctx[t]=e)&&(l.bound[t]&&l.bound[t](e),p&&V(n,t))}):u,l.update(),p=!0,o(l.before_update),l.fragment=r(l.ctx),e.target&&(e.hydrate?l.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):l.fragment.c(),e.intro&&H(n.$$.fragment),q(n,e.target,e.anchor),N()),_(d)}class L{$destroy(){Q(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const B=({domElement:t,prop:n})=>{if(window.getComputedStyle){const e=document.defaultView;if(e){const i=e.getComputedStyle(t);if(i)return i.getPropertyValue(n)}}},J="show",W="hide",z=(t,n,e)=>{const i=e[n]||{};Object.keys(i).forEach(n=>{const e=i[n].toString();t.style[n]=e})},G=(t,n,e,i)=>{if(n.styles){const o=((t,n)=>("function"==typeof n?n(t):n)||{})(t,n.styles);z(t,"default",o),i&&(t=>t.style.transitionDuration="0ms")(t),z(t,e,o)}if(n.className){const i={showStart:`${n.className}-show-start`,showEnd:`${n.className}-show-end`,hideStart:`${n.className}-hide-start`,hideEnd:`${n.className}-hide-end`};((t,n)=>t.classList.remove(n.showStart,n.showEnd,n.hideStart,n.hideEnd))(t,i),i&&t.classList.add(i[e])}t.scrollTop},X={showStart:{nextStep:"showEnd"},showEnd:{nextStep:void 0},hideStart:{nextStep:"hideEnd"},hideEnd:{nextStep:void 0}},U=(t,n)=>{const e=t.domElement;if(!e)return Promise.resolve("no domElement");let i=n===J?"showStart":"hideStart";return new Promise(n=>{G(e,t,i,"showStart"===i),setTimeout(()=>{const o=X[i].nextStep;if(o){G(e,t,i=o);const s=(t=>{const n=B({domElement:t,prop:"transition-duration"}),e=void 0!==n?Y(n):0,i=B({domElement:t,prop:"transition-delay"});return e+(void 0!==i?Y(i):0)})(e);setTimeout(n,s)}},0)})},Y=t=>{const n=parseFloat(t)*(-1===t.indexOf("ms")?1e3:1);return isNaN(n)?0:n};var Z=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t){!function(){e.SKIP={},e.lift=function(){var t=arguments[0];return o(Array.prototype.slice.call(arguments,1)).map(function(n){return t.apply(void 0,n)})},e.scan=function(t,n,i){var o=i.map(function(i){var o=t(n,i);return o!==e.SKIP&&(n=o),o});return o(n),o},e.merge=o,e.combine=i,e.scanMerge=function(t,n){var e=t.map(function(t){return t[0]}),o=i(function(){var i=arguments[arguments.length-1];return e.forEach(function(e,o){i.indexOf(e)>-1&&(n=t[o][1](n,e()))}),n},e);return o(n),o},e["fantasy-land/of"]=e;var n=!1;function e(t){var n,o=[],r=[];function a(n){return arguments.length&&n!==e.SKIP&&(t=n,s(a)&&(a._changing(),a._state="active",o.forEach(function(n,e){n(r[e](t))}))),t}return a.constructor=e,a._state=arguments.length&&t!==e.SKIP?"active":"pending",a._parents=[],a._changing=function(){s(a)&&(a._state="changing"),o.forEach(function(t){t._changing()})},a._map=function(n,i){var s=i?e():e(n(t));return s._parents.push(a),o.push(s),r.push(n),s},a.map=function(t){return a._map(t,"active"!==a._state)},a.toJSON=function(){return null!=t&&"function"==typeof t.toJSON?t.toJSON():t},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(t){return i(function(t,n){return t()(n())},[t,a])},a._unregisterChild=function(t){var n=o.indexOf(t);-1!==n&&(o.splice(n,1),r.splice(n,1))},Object.defineProperty(a,"end",{get:function(){return n||((n=e()).map(function(t){return!0===t&&(a._parents.forEach(function(t){t._unregisterChild(a)}),a._state="ended",a._parents.length=o.length=r.length=0),t}),n)}}),a}function i(t,n){var i=n.every(function(t){if(t.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===t._state}),o=i?e(t.apply(null,n.concat([n]))):e(),s=[],r=n.map(function(e){return e._map(function(r){return s.push(e),(i||n.every(function(t){return"pending"!==t._state}))&&(i=!0,o(t.apply(null,n.concat([s]))),s=[]),r},!0)}),a=o.end.map(function(t){!0===t&&(r.forEach(function(t){t.end(!0)}),a.end(!0))});return o}function o(t){return i(function(){return t.map(function(t){return t()})},t)}function s(t){return"pending"===t._state||"active"===t._state||"changing"===t._state}Object.defineProperty(e,"HALT",{get:function(){return n||console.log("HALT is deprecated and has been renamed to SKIP"),n=!0,e.SKIP}}),t.exports=e}()});const tt=(t,n)=>{const e=((t,n)=>n.find(n=>n.id===t))(t,n);return n.indexOf(e)},nt=(t,n)=>[n,t.id,t.spawn].filter(Boolean).join("-"),et={initialState:{store:{}},actions:t=>({add:(n,e)=>{t(i=>{const o=i.store[n]||[];return i.store[n]=[...o,e],e.timer&&e.timer.states.map(()=>et.actions(t).refresh()),i})},remove:(n,e)=>{t(t=>{const i=t.store[n]||[],o=((t,n)=>{const e=tt(t,n);return-1!==e&&n.splice(e,1),n})(e,i);return t.store[n]=o,t})},replace:(n,e,i)=>{t(t=>{const o=t.store[n]||[];if(o){const s=tt(e,o);-1!==s&&(o[s]=i,t.store[n]=[...o])}return t})},removeAll:n=>{t(t=>(t.store[n]=[],t))},store:(n,e)=>{t(t=>(t.store[n]=[...e],t))},refresh:()=>{t(t=>({...t}))}}),selectors:t=>{const n={getStore:()=>{return t().store},find:(n,e)=>{const i=t().store[n]||[],o=nt(e,n),s=i.find(t=>t.id===o);return s?{just:s}:{nothing:void 0}},getAll:(n,e)=>{const i=t().store[n]||[],o=void 0!==e?e.spawn:void 0,s=void 0!==e?e.id:void 0,r=void 0!==o?i.filter(t=>t.identityOptions.spawn===o):i;return void 0!==s?r.filter(t=>t.identityOptions.id===s):r},getCount:(t,e)=>n.getAll(t,e).length};return n}},it=Z(),ot=Z.scan((t,n)=>n(t),{...et.initialState},it),st={...et.actions(it)},rt={...et.selectors(ot)},at={callback:()=>{},isPaused:void 0,onAbort:()=>{},onDone:()=>{},promise:void 0,remaining:void 0,startTime:void 0,timeoutFn:()=>{},timerId:void 0},ct=(t,n,e,i)=>{const o=()=>{n(),t.onDone(),i()};return{timeoutFn:o,promise:new Promise((n,e)=>{t.onDone=()=>n(),t.onAbort=()=>e()}),...t.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(o,e),remaining:e}}},dt=t=>(window.clearTimeout(t.timerId),{timerId:at.timerId}),ut=t=>({...dt(t)}),lt=t=>({...dt(t),isPaused:!0,remaining:ft(t)}),pt=(t,n)=>{window.clearTimeout(t.timerId);const e=n?Math.max(t.remaining||0,n):t.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(t.timeoutFn,e)}},ft=t=>void 0===t.remaining?void 0:t.remaining-((new Date).getTime()-(t.startTime||0)),ht=()=>{const t={initialState:at,actions:n=>({start:(e,i)=>{n(o=>({...o,...dt(o),...ct(o,e,i,()=>t.actions(n).done()),...o.isPaused&&lt(o)}))},stop:()=>{n(t=>({...t,...ut(t),...at}))},pause:()=>{n(t=>({...t,...!t.isPaused&&lt(t)}))},resume:t=>{n(n=>({...n,...n.isPaused&&pt(n,t)}))},abort:()=>{n(t=>(t.onAbort(),{...t,...dt(t)}))},done:()=>{n(t=>at)},refresh:()=>{n(t=>({...t}))}}),selectors:t=>({isPaused:()=>{return t().isPaused},getRemaining:()=>{const n=t();return n.isPaused?n.remaining:ft(n)},getResultPromise:()=>{return t().promise}})},n=Z(),e=Z.scan((t,n)=>n(t),{...t.initialState},n);return{states:e,actions:{...t.actions(n)},selectors:{...t.selectors(e)}}};let mt=0;const gt=()=>mt===Number.MAX_SAFE_INTEGER?0:mt++,$t=0,wt=1,_t=2,yt=t=>n=>e=>i=>{const o=xt(n)(e)(i);return o.just?t(n,o.just,i):Promise.resolve()},xt=t=>n=>e=>rt.find(t,bt(n,e)),vt=t=>n=>n.filter(n=>n.identityOptions.spawn===t.spawn),Ot=t=>{let n=0;return t.map(t=>({item:t,queueCount:t.dialogicOptions.queued?n++:0})).filter(({queueCount:t})=>0===t).map(({item:t})=>t)},kt=(t,n,e)=>{const i=n[t]||[];return 0==i.length?[]:((...t)=>n=>t.filter(Boolean).reduce((t,n)=>n(t),n))(Ot,vt(e))(i)},bt=(t,n={})=>({id:n.id||t.id,spawn:n.spawn||t.spawn}),St=t=>n=>(e={})=>new Promise(i=>{const o={id:e.dialogic?e.dialogic.id:void 0,spawn:e.dialogic?e.dialogic.spawn:void 0},s=bt(n,o),r={...n,...e.dialogic},a=(t=>{const n={...t};return delete n.dialogic,n})(e),c={didShow:t=>(r.didShow&&r.didShow(t),i(t)),didHide:t=>(r.didHide&&r.didHide(t),i(t))},d={ns:t,identityOptions:s,dialogicOptions:r,callbacks:c,passThroughOptions:a,id:nt(s,t),timer:r.timeout?ht():void 0,key:gt().toString(),transitionState:$t},u=rt.find(t,s);if(u.just&&r.toggle){const e=Ct(t)(n)(o);return i(e)}if(u.just&&!r.queued){const n=u.just,e=n.dialogicOptions,i={...d,transitionState:n.transitionState,dialogicOptions:e};st.replace(t,n.id,i)}else st.add(t,d);i(d)}),Ct=yt((t,n)=>n.transitionState!==_t?qt(n):Promise.resolve(n)),Et=yt((t,n)=>(n&&n.timer&&n.timer.actions.pause(),Promise.resolve(n))),Pt=yt((t,n,e={})=>(n&&n.timer&&n.timer.actions.resume(e.minimumDuration),Promise.resolve(n))),Nt=t=>n=>e=>i=>{const o=xt(n)(e)(i);return o.just&&o.just&&o.just.timer?o.just.timer.selectors[t]():void 0},Dt=Nt("isPaused"),It=Nt("getRemaining"),Tt=t=>n=>e=>{return!!xt(t)(n)(e).just},At=t=>n=>e=>{const i=rt.getAll(t),o=e?vt({...n,...e})(i):i,s=[];return o.forEach(t=>{t.timer&&t.timer.actions.abort(),s.push(t)}),e?o.forEach(n=>{st.remove(t,n.id)}):st.removeAll(t),Promise.resolve(s)},Mt=(t,n)=>({...t,dialogicOptions:{...t.dialogicOptions,...n}}),Ht=t=>n=>e=>{const i=rt.getAll(t),o=e?vt({...n,...e})(i):i,s=e||{},r=o.filter(t=>!s.queued&&!t.dialogicOptions.queued),a=o.filter(t=>s.queued||t.dialogicOptions.queued),c=[];if(r.forEach(t=>c.push(qt(Mt(t,s)))),a.length>0){const[n]=a;st.store(t,[n]),c.push(qt(Mt(n,s)))}return Promise.all(c)},jt=t=>n=>rt.getCount(t,n),Rt=(t,n)=>U(t.dialogicOptions,n),Ft=async function(t){return t.transitionState!==wt&&(t.transitionState=wt,await Rt(t,J)),t.callbacks.didShow&&await t.callbacks.didShow(t),t.dialogicOptions.timeout&&t.timer&&await async function(t,n,e){return n.actions.start(()=>qt(t),e),Nt("getResultPromise")}(t,t.timer,t.dialogicOptions.timeout),Promise.resolve(t)},qt=async function(t){t.transitionState=_t,t.timer&&t.timer.actions.stop(),await Rt(t,W),t.callbacks.didHide&&await t.callbacks.didHide(t);const n={...t};return st.remove(t.ns,t.id),Promise.resolve(n)},Qt=({ns:t,queued:n,timeout:e})=>{const i=`default_${t}`,o=`default_${t}`,s={id:i,spawn:o,...n&&{queued:n},...void 0!==e&&{timeout:e}};return{ns:t,defaultId:i,defaultSpawn:o,defaultDialogicOptions:s,show:St(t)(s),hide:Ct(t)(s),hideAll:Ht(t)(s),resetAll:At(t)(s),pause:Et(t)(s),resume:Pt(t)(s),exists:Tt(t)(s),getCount:jt(t),isPaused:Dt(t)(s),getRemaining:It(t)(s)}},Vt=Qt({ns:"dialog"}),Kt=Qt({ns:"notification",queued:!0,timeout:3e3}),Lt=[];function Bt(n,e=t){let i;const o=[];function s(t){if(r(n,t)&&(n=t,i)){const t=!Lt.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),Lt.push(e,n)}if(t){for(let t=0;t<Lt.length;t+=2)Lt[t][0](Lt[t+1]);Lt.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(r,a=t){const c=[r,a];return o.push(c),1===o.length&&(i=e(s)||t),r(n),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}function Jt(n,e,i){const r=!Array.isArray(n),a=r?[n]:n,c=e.length<2;return{subscribe:Bt(i,n=>{let i=!1;const d=[];let u=0,l=t;const p=()=>{if(u)return;l();const i=e(r?d[0]:d,n);c?n(i):l=s(i)?i:t},f=a.map((t,n)=>t.subscribe(t=>{d[n]=t,u&=~(1<<n),i&&p()},()=>{u|=1<<n}));return i=!0,p(),function(){o(f),l()}}).subscribe}}const Wt={...Bt(ot),...rt};ot.map(t=>Wt.set({...t,...rt}));const zt=t=>n=>Jt(Wt,()=>rt.getCount(t,n)),Gt=t=>n=>e=>Jt(Wt,()=>Nt("isPaused")(t)(n)(e)),Xt=t=>n=>e=>Jt(Wt,()=>Tt(t)(n)(e)),Ut={...Vt,getCount:t=>zt(Vt.ns)(t),isPaused:t=>Gt(Vt.ns)(Vt.defaultDialogicOptions)(t),exists:t=>Xt(Vt.ns)(Vt.defaultDialogicOptions)(t)},Yt={...Kt,getCount:t=>zt(Kt.ns)(t),isPaused:t=>Gt(Kt.ns)(Kt.defaultDialogicOptions)(t),exists:t=>Xt(Kt.ns)(Kt.defaultDialogicOptions)(t)},Zt=t=>(n,e)=>{const i=rt.find(t,n.detail.identityOptions);i.just&&((t,n)=>{n.dialogicOptions.domElement=t})(n.detail.domElement,i.just);const o=rt.find(t,n.detail.identityOptions);o.just&&e(o.just)},tn=t=>n=>Zt(t)(n,Ft),nn=t=>n=>Zt(t)(n,Ft),en=t=>n=>Zt(t)(n,qt);function on(t){var e,i,o=[{show:t.show},{hide:t.hide},t.passThroughOptions],s=t.dialogicOptions.component;function r(t){let e={};for(var i=0;i<o.length;i+=1)e=n(e,o[i]);return{props:e}}if(s)var a=new s(r());return{c(){var n,i,o;e=p("div"),a&&a.$$.fragment.c(),n=e,i="class",null==(o=t.className)?n.removeAttribute(i):n.setAttribute(i,o)},m(n,o){u(n,e,o),a&&q(a,e,null),t.div_binding(e),i=!0},p(t,n){var i=t.show||t.hide||t.passThroughOptions?F(o,[t.show&&{show:n.show},t.hide&&{hide:n.hide},t.passThroughOptions&&n.passThroughOptions]):{};if(s!==(s=n.dialogicOptions.component)){if(a){A();const t=a;j(t.$$.fragment,1,0,()=>{Q(t,1)}),M()}s?((a=new s(r())).$$.fragment.c(),H(a.$$.fragment,1),q(a,e,null)):a=null}else s&&a.$set(i)},i(t){i||(a&&H(a.$$.fragment,t),i=!0)},o(t){a&&j(a.$$.fragment,t),i=!1},d(n){n&&l(e),a&&Q(a),t.div_binding(null)}}}function sn(t,n,e){const i=v();let o,{identityOptions:s,passThroughOptions:r,dialogicOptions:a}=n;const c=a.className,d=t=>i(t,{identityOptions:s,domElement:o});return x(()=>{d("mount")}),t.$set=t=>{"identityOptions"in t&&e("identityOptions",s=t.identityOptions),"passThroughOptions"in t&&e("passThroughOptions",r=t.passThroughOptions),"dialogicOptions"in t&&e("dialogicOptions",a=t.dialogicOptions)},{domElement:o,identityOptions:s,passThroughOptions:r,dialogicOptions:a,className:c,show:()=>{d("show")},hide:()=>{d("hide")},div_binding:function(t){k[t?"unshift":"push"](()=>{e("domElement",o=t)})}}}class rn extends L{constructor(t){super(),K(this,t,sn,on,r,["identityOptions","passThroughOptions","dialogicOptions"])}}function an(t,n,e){const i=Object.create(t);return i.identityOptions=n[e].identityOptions,i.dialogicOptions=n[e].dialogicOptions,i.passThroughOptions=n[e].passThroughOptions,i.key=n[e].key,i.index=e,i}function cn(t,n){var e,i,o=new rn({props:{identityOptions:n.identityOptions,dialogicOptions:n.dialogicOptions,passThroughOptions:n.passThroughOptions}});return o.$on("mount",n.nsOnInstanceMounted),o.$on("show",n.nsOnShowInstance),o.$on("hide",n.nsOnHideInstance),{key:t,first:null,c(){e=m(),o.$$.fragment.c(),this.first=e},m(t,n){u(t,e,n),q(o,t,n),i=!0},p(t,n){var e={};(t.filterCandidates||t.ns||t.$appState||t.identityOptions)&&(e.identityOptions=n.identityOptions),(t.filterCandidates||t.ns||t.$appState||t.identityOptions)&&(e.dialogicOptions=n.dialogicOptions),(t.filterCandidates||t.ns||t.$appState||t.identityOptions)&&(e.passThroughOptions=n.passThroughOptions),o.$set(e)},i(t){i||(H(o.$$.fragment,t),i=!0)},o(t){j(o.$$.fragment,t),i=!1},d(t){t&&l(e),Q(o,t)}}}function dn(t){var n,e,i=[],o=new Map,s=kt(t.ns,t.$appState.store,t.identityOptions);const r=t=>t.key;for(var a=0;a<s.length;a+=1){let n=an(t,s,a),e=r(n);o.set(e,i[a]=cn(e,n))}return{c(){for(a=0;a<i.length;a+=1)i[a].c();n=m()},m(t,o){for(a=0;a<i.length;a+=1)i[a].m(t,o);u(t,n,o),e=!0},p(t,e){const s=kt(e.ns,e.$appState.store,e.identityOptions);A(),i=function(t,n,e,i,o,s,r,a,c,d,u,l){let p=t.length,f=s.length,h=p;const m={};for(;h--;)m[t[h].key]=h;const g=[],$=new Map,w=new Map;for(h=f;h--;){const t=l(o,s,h),a=e(t);let c=r.get(a);c?i&&c.p(n,t):(c=d(a,t)).c(),$.set(a,g[h]=c),a in m&&w.set(a,Math.abs(h-m[a]))}const _=new Set,y=new Set;function x(t){H(t,1),t.m(a,u),r.set(t.key,t),u=t.first,f--}for(;p&&f;){const n=g[f-1],e=t[p-1],i=n.key,o=e.key;n===e?(u=n.first,p--,f--):$.has(o)?!r.has(i)||_.has(i)?x(n):y.has(o)?p--:w.get(i)>w.get(o)?(y.add(i),x(n)):(_.add(o),p--):(c(e,r),p--)}for(;p--;){const n=t[p];$.has(n.key)||c(n,r)}for(;f;)x(g[f-1]);return g}(i,t,r,1,e,s,o,n.parentNode,R,cn,n,an),M()},i(t){if(!e){for(var n=0;n<s.length;n+=1)H(i[n]);e=!0}},o(t){for(a=0;a<i.length;a+=1)j(i[a]);e=!1},d(t){for(a=0;a<i.length;a+=1)i[a].d(t);t&&l(n)}}}function un(t,n,e){let i;a(t,Wt,t=>{e("$appState",i=t)});let{identityOptions:o,ns:s}=n;const r=tn(s),c=nn(s),d=en(s);return t.$set=t=>{"identityOptions"in t&&e("identityOptions",o=t.identityOptions),"ns"in t&&e("ns",s=t.ns)},{identityOptions:o,ns:s,nsOnInstanceMounted:r,nsOnShowInstance:c,nsOnHideInstance:d,$appState:i}}class ln extends L{constructor(t){super(),K(this,t,un,dn,r,["identityOptions","ns"])}}function pn(t){var n,e=new ln({props:{identityOptions:t.identityOptions,ns:t.ns}});return{c(){e.$$.fragment.c()},m(t,i){q(e,t,i),n=!0},p(t,n){var i={};t.identityOptions&&(i.identityOptions=n.identityOptions),t.ns&&(i.ns=n.ns),e.$set(i)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function fn(t,n,e){let{type:i,ns:o=i.ns,spawn:s,id:r,onMount:a}=n;const c={id:r||i.defaultId,spawn:s||i.defaultSpawn};return x(()=>{"function"==typeof a&&a()}),t.$set=t=>{"type"in t&&e("type",i=t.type),"ns"in t&&e("ns",o=t.ns),"spawn"in t&&e("spawn",s=t.spawn),"id"in t&&e("id",r=t.id),"onMount"in t&&e("onMount",a=t.onMount)},{type:i,ns:o,spawn:s,id:r,onMount:a,identityOptions:c}}class hn extends L{constructor(t){super(),K(this,t,fn,pn,r,["type","ns","spawn","id","onMount"])}}function mn(t){var e,i=[t.$$props,{type:Ut}];let o={};for(var s=0;s<i.length;s+=1)o=n(o,i[s]);var r=new hn({props:o});return{c(){r.$$.fragment.c()},m(t,n){q(r,t,n),e=!0},p(t,n){var e=t.$$props||t.dialog?F(i,[t.$$props&&n.$$props,t.dialog&&{type:Ut}]):{};r.$set(e)},i(t){e||(H(r.$$.fragment,t),e=!0)},o(t){j(r.$$.fragment,t),e=!1},d(t){Q(r,t)}}}function gn(t,e,i){return t.$set=t=>{i("$$props",e=n(n({},e),t))},{$$props:e,$$props:e=c(e)}}class $n extends L{constructor(t){super(),K(this,t,gn,mn,r,[])}}function wn(t){var e,i=[t.$$props,{type:Yt}];let o={};for(var s=0;s<i.length;s+=1)o=n(o,i[s]);var r=new hn({props:o});return{c(){r.$$.fragment.c()},m(t,n){q(r,t,n),e=!0},p(t,n){var e=t.$$props||t.notification?F(i,[t.$$props&&n.$$props,t.notification&&{type:Yt}]):{};r.$set(e)},i(t){e||(H(r.$$.fragment,t),e=!0)},o(t){j(r.$$.fragment,t),e=!1},d(t){Q(r,t)}}}function _n(t,e,i){return t.$set=t=>{i("$$props",e=n(n({},e),t))},{$$props:e,$$props:e=c(e)}}class yn extends L{constructor(t){super(),K(this,t,_n,wn,r,[])}}function xn(n){var e,i,o,s,r,a,c=n.$$props.title;return{c(){e=p("div"),i=p("h2"),o=f(c),s=h(),(r=p("button")).textContent="hide from instance",a=g(r,"click",n.$$props.hide)},m(t,n){u(t,e,n),d(e,i),d(i,o),d(e,s),d(e,r)},p(t,n){t.$$props&&c!==(c=n.$$props.title)&&$(o,c)},i:t,o:t,d(t){t&&l(e),a()}}}function vn(t,e,i){return t.$set=t=>{i("$$props",e=n(n({},e),t))},{$$props:e,$$props:e=c(e)}}class On extends L{constructor(t){super(),K(this,t,vn,xn,r,[])}}function kn(n){var e,i,o;return{c(){e=p("div"),i=f("Remaining: "),o=f(n.displayValue)},m(t,n){u(t,e,n),d(e,i),d(e,o)},p(t,n){t.displayValue&&$(o,n.displayValue)},i:t,o:t,d(t){t&&l(e)}}}function bn(t,n,e){let i,{getRemainingFn:o}=n,s=0;const r=()=>{const t=o();e("displayValue",s=void 0===t?void 0:Math.max(t,0)),i=window.requestAnimationFrame(r)};var a;return i=window.requestAnimationFrame(r),a=()=>{window.cancelAnimationFrame(i)},y().$$.on_destroy.push(a),t.$set=t=>{"getRemainingFn"in t&&e("getRemainingFn",o=t.getRemainingFn)},{getRemainingFn:o,displayValue:s}}class Sn extends L{constructor(t){super(),K(this,t,bn,kn,r,["getRemainingFn"])}}function Cn(t){var n,e,i,s,r,a,c,m,w,_,y,x,v,O,k,b,S,C,E,P,N,D,I,T,R,F,V,K,L,B,J,W,z,G,X,U,Y,Z,tt,nt,et,it,ot,st,rt,at,ct,dt,ut,lt,pt,ft,ht,mt,gt,$t,wt,_t,yt,xt,vt,Ot,kt,bt,St,Ct,Et,Pt,Nt,Dt,It,Tt,At,Mt,Ht,jt,Rt,Ft,qt,Qt=t.$timerDialogExists&&En(t),Vt=new $n({}),Kt=new $n({props:{spawn:"special"}}),Lt=new $n({props:{spawn:"Q"}}),Bt=new $n({props:{spawn:"initial",onMount:t.func_1}});return{c(){(n=p("h2")).textContent="Dialog",e=h(),i=p("p"),s=f("Dialog count = "),r=f(t.$dialogCount),a=h(),c=p("hr"),m=h(),w=p("div"),(_=p("button")).textContent="Default",y=h(),(x=p("button")).textContent="Hide",v=h(),O=p("div"),Qt&&Qt.c(),k=h(),(b=p("button")).textContent="With timer",S=h(),(C=p("button")).textContent="Pause",E=h(),(P=p("button")).textContent="Resume",N=h(),(D=p("button")).textContent="Hide",I=h(),T=p("div"),(R=p("button")).textContent="Show with promises",F=h(),(V=p("button")).textContent="Hide",K=h(),L=p("div"),(B=p("button")).textContent="Show delay",J=h(),(W=p("button")).textContent="Hide",z=h(),G=p("div"),(X=p("button")).textContent="Show slow fade",U=h(),(Y=p("button")).textContent="Hide",Z=h(),tt=p("div"),(nt=p("button")).textContent="Show transition",et=h(),(it=p("button")).textContent="Hide",ot=h(),st=p("div"),(rt=p("button")).textContent="Show default in spawn",at=h(),(ct=p("button")).textContent="Hide",dt=h(),ut=p("hr"),lt=h(),pt=p("div"),(ft=p("p")).textContent="Dialog:",ht=h(),Vt.$$.fragment.c(),mt=h(),gt=p("div"),($t=p("p")).textContent="Dialog with spawn:",wt=h(),Kt.$$.fragment.c(),_t=h(),yt=p("hr"),xt=f("\nQueued dialog\n"),vt=p("div"),(Ot=p("button")).textContent="Queued",kt=h(),(bt=p("button")).textContent="Hide",St=h(),Ct=p("div"),(Et=p("p")).textContent="Dialog queued:",Pt=h(),Lt.$$.fragment.c(),Nt=h(),Dt=p("hr"),It=f("\nInitially shown dialog\n"),Tt=p("div"),(At=p("button")).textContent="Initially shown",Mt=h(),(Ht=p("button")).textContent="Hide",jt=h(),Rt=p("div"),Bt.$$.fragment.c(),qt=[g(_,"click",t.click_handler_5),g(x,"click",t.click_handler_6),g(b,"click",t.click_handler_7),g(C,"click",t.click_handler_8),g(P,"click",t.click_handler_9),g(D,"click",t.click_handler_10),g(R,"click",t.click_handler_11),g(V,"click",t.click_handler_12),g(B,"click",t.click_handler_13),g(W,"click",t.click_handler_14),g(X,"click",t.click_handler_15),g(Y,"click",t.click_handler_16),g(nt,"click",t.click_handler_17),g(it,"click",t.click_handler_18),g(rt,"click",t.click_handler_19),g(ct,"click",t.click_handler_20),g(Ot,"click",t.click_handler_21),g(bt,"click",t.click_handler_22),g(At,"click",t.click_handler_23),g(Ht,"click",t.click_handler_24)]},m(t,o){u(t,n,o),u(t,e,o),u(t,i,o),d(i,s),d(i,r),u(t,a,o),u(t,c,o),u(t,m,o),u(t,w,o),d(w,_),d(w,y),d(w,x),u(t,v,o),u(t,O,o),Qt&&Qt.m(O,null),d(O,k),d(O,b),d(O,S),d(O,C),d(O,E),d(O,P),d(O,N),d(O,D),u(t,I,o),u(t,T,o),d(T,R),d(T,F),d(T,V),u(t,K,o),u(t,L,o),d(L,B),d(L,J),d(L,W),u(t,z,o),u(t,G,o),d(G,X),d(G,U),d(G,Y),u(t,Z,o),u(t,tt,o),d(tt,nt),d(tt,et),d(tt,it),u(t,ot,o),u(t,st,o),d(st,rt),d(st,at),d(st,ct),u(t,dt,o),u(t,ut,o),u(t,lt,o),u(t,pt,o),d(pt,ft),d(pt,ht),q(Vt,pt,null),u(t,mt,o),u(t,gt,o),d(gt,$t),d(gt,wt),q(Kt,gt,null),u(t,_t,o),u(t,yt,o),u(t,xt,o),u(t,vt,o),d(vt,Ot),d(vt,kt),d(vt,bt),u(t,St,o),u(t,Ct,o),d(Ct,Et),d(Ct,Pt),q(Lt,Ct,null),u(t,Nt,o),u(t,Dt,o),u(t,It,o),u(t,Tt,o),d(Tt,At),d(Tt,Mt),d(Tt,Ht),u(t,jt,o),u(t,Rt,o),q(Bt,Rt,null),Ft=!0},p(t,n){Ft&&!t.$dialogCount||$(r,n.$dialogCount),n.$timerDialogExists?Qt?(Qt.p(t,n),H(Qt,1)):((Qt=En(n)).c(),H(Qt,1),Qt.m(O,k)):Qt&&(A(),j(Qt,1,1,()=>{Qt=null}),M());var e={};t.showInitial&&(e.onMount=n.func_1),Bt.$set(e)},i(t){Ft||(H(Qt),H(Vt.$$.fragment,t),H(Kt.$$.fragment,t),H(Lt.$$.fragment,t),H(Bt.$$.fragment,t),Ft=!0)},o(t){j(Qt),j(Vt.$$.fragment,t),j(Kt.$$.fragment,t),j(Lt.$$.fragment,t),j(Bt.$$.fragment,t),Ft=!1},d(t){t&&(l(n),l(e),l(i),l(a),l(c),l(m),l(w),l(v),l(O)),Qt&&Qt.d(),t&&(l(I),l(T),l(K),l(L),l(z),l(G),l(Z),l(tt),l(ot),l(st),l(dt),l(ut),l(lt),l(pt)),Q(Vt),t&&(l(mt),l(gt)),Q(Kt),t&&(l(_t),l(yt),l(xt),l(vt),l(St),l(Ct)),Q(Lt),t&&(l(Nt),l(Dt),l(It),l(Tt),l(jt),l(Rt)),Q(Bt),o(qt)}}}function En(t){var n,e=new Sn({props:{getRemainingFn:t.func}});return{c(){e.$$.fragment.c()},m(t,i){q(e,t,i),n=!0},p(t,n){var i={};t.dialog&&(i.getRemainingFn=n.func),e.$set(i)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Pn(t){var n,e,i,s,r,a,c,m,w,_,y,x,v,O,k,b,S,C,E,P,N,D,I,T,A,M,R,F=new yn({props:{spawn:"NO"}});return{c(){(n=p("h2")).textContent="Notification",e=h(),i=p("p"),s=f("Notification count: "),r=f(t.$notificationCount),a=h(),c=p("p"),m=f("Notification exists: "),w=f(t.$notificationExists),_=h(),y=p("p"),x=f("Is paused: "),v=f(t.$notificationItemIsPaused),O=h(),k=p("div"),(b=p("button")).textContent="Queued",S=h(),(C=p("button")).textContent="Hide",E=h(),(P=p("button")).textContent="Pause",N=h(),(D=p("button")).textContent="Resume",I=h(),F.$$.fragment.c(),T=h(),A=p("hr"),R=[g(b,"click",t.click_handler_26),g(C,"click",t.click_handler_27),g(P,"click",t.click_handler_28),g(D,"click",t.click_handler_29)]},m(t,o){u(t,n,o),u(t,e,o),u(t,i,o),d(i,s),d(i,r),u(t,a,o),u(t,c,o),d(c,m),d(c,w),u(t,_,o),u(t,y,o),d(y,x),d(y,v),u(t,O,o),u(t,k,o),d(k,b),d(k,S),d(k,C),d(k,E),d(k,P),d(k,N),d(k,D),u(t,I,o),q(F,t,o),u(t,T,o),u(t,A,o),M=!0},p(t,n){M&&!t.$notificationCount||$(r,n.$notificationCount),M&&!t.$notificationExists||$(w,n.$notificationExists),M&&!t.$notificationItemIsPaused||$(v,n.$notificationItemIsPaused)},i(t){M||(H(F.$$.fragment,t),M=!0)},o(t){j(F.$$.fragment,t),M=!1},d(t){t&&(l(n),l(e),l(i),l(a),l(c),l(_),l(y),l(O),l(k),l(I)),Q(F,t),t&&(l(T),l(A)),o(R)}}}function Nn(t){var n,e,i,s,r,a,c,d,f,$,w,_,y,x,v,O,k,b,S,C,E=t.showDialogs&&Cn(t),P=t.showNotifications&&Pn(t);return{c(){(n=p("button")).textContent="Hide notifications",e=h(),(i=p("button")).textContent="Reset notifications",s=h(),(r=p("button")).textContent="Hide dialogs",a=h(),(c=p("button")).textContent="Reset dialogs",d=h(),f=p("hr"),$=h(),(w=p("button")).textContent="Toggle dialogs",_=h(),E&&E.c(),y=h(),x=p("hr"),v=h(),(O=p("button")).textContent="Toggle notifications",k=h(),P&&P.c(),b=m(),C=[g(n,"click",t.click_handler),g(i,"click",t.click_handler_1),g(r,"click",t.click_handler_2),g(c,"click",t.click_handler_3),g(w,"click",t.click_handler_4),g(O,"click",t.click_handler_25)]},m(t,o){u(t,n,o),u(t,e,o),u(t,i,o),u(t,s,o),u(t,r,o),u(t,a,o),u(t,c,o),u(t,d,o),u(t,f,o),u(t,$,o),u(t,w,o),u(t,_,o),E&&E.m(t,o),u(t,y,o),u(t,x,o),u(t,v,o),u(t,O,o),u(t,k,o),P&&P.m(t,o),u(t,b,o),S=!0},p(t,n){n.showDialogs?E?(E.p(t,n),H(E,1)):((E=Cn(n)).c(),H(E,1),E.m(y.parentNode,y)):E&&(A(),j(E,1,1,()=>{E=null}),M()),n.showNotifications?P?(P.p(t,n),H(P,1)):((P=Pn(n)).c(),H(P,1),P.m(b.parentNode,b)):P&&(A(),j(P,1,1,()=>{P=null}),M())},i(t){S||(H(E),H(P),S=!0)},o(t){j(E),j(P),S=!1},d(t){t&&(l(n),l(e),l(i),l(s),l(r),l(a),l(c),l(d),l(f),l($),l(w),l(_)),E&&E.d(t),t&&(l(y),l(x),l(v),l(O),l(k)),P&&P.d(t),t&&l(b),o(C)}}}function Dn(t,n,e){let i,o,s,r,c;const d=Ut.getCount();a(t,d,t=>{e("$dialogCount",i=t)});const u=Ut.exists({id:"timer"});a(t,u,t=>{e("$timerDialogExists",o=t)});const l=Yt.getCount({spawn:"NO"});a(t,l,t=>{e("$notificationCount",s=t)});const p=Yt.isPaused({spawn:"NO"});a(t,p,t=>{e("$notificationItemIsPaused",c=t)});const f=Yt.exists({spawn:"NO"});a(t,f,t=>{e("$notificationExists",r=t)});const h=()=>Math.round(1e3*Math.random()).toString(),m=({isOnMount:t}={})=>Ut.show({title:h(),className:"xxx-content",dialogic:{component:On,styles:{showStart:{opacity:t?1:0},showEnd:{transitionDuration:t?0:"500ms",opacity:1},hideEnd:{transitionDuration:"500ms",opacity:0}},className:"xxx",spawn:"initial"}}),g={component:On,dialogic:{styles:{showEnd:{transitionDuration:"500ms"},hideEnd:{transitionDuration:"500ms"}},className:"xxx"},className:"xxx-content",title:"Clock",id:h()},$={dialogic:{component:On,className:"xxx",styles:{showEnd:{transitionDelay:0,transitionDuration:"1s"},hideEnd:{transitionDelay:0,transitionDuration:"1s"}}},className:"xxx-content",title:"Fade",id:h()},w={className:"xxx-content",dialogic:{component:On,className:"xxx-delay"},title:"Delay",id:h()},_={dialogic:{styles:t=>{const n=t.getBoundingClientRect().height;return{default:{transition:"all 300ms ease-in-out"},showStart:{opacity:0,transform:`translate3d(0, ${n}px, 0)`},showEnd:{opacity:1,transform:"translate3d(0, 0px,  0)"},hideEnd:{transform:`translate3d(0, ${n}px, 0)`,opacity:0}}},component:On},title:"Transitions",id:h()},y={styles:{hideEnd:{transitionDuration:"500ms",transitionDelay:"0ms",opacity:0}}};let x,v;return e("showDialogs",x=!0),e("showNotifications",v=!1),{dialogCount:d,timerDialogExists:u,notificationCount:l,notificationItemIsPaused:p,notificationExists:f,getRandomId:h,showInitial:m,dialogOneProps:g,dialogSlowFadeProps:$,dialogDelayProps:w,dialogFourProps:_,hideAllOptions:y,Math:Math,showDialogs:x,showNotifications:v,$dialogCount:i,$timerDialogExists:o,$notificationCount:s,$notificationExists:r,$notificationItemIsPaused:c,click_handler:function(){return Yt.hideAll({hideDelay:0,hideDuration:.25})},click_handler_1:function(){return Yt.resetAll().catch(()=>{})},click_handler_2:function(){return Ut.hideAll(y)},click_handler_3:function(){return Ut.resetAll().catch(()=>{})},click_handler_4:function(){const t=x=!x;return e("showDialogs",x),t},click_handler_5:function(){return Ut.show({title:"Default",dialogic:{component:On,className:"xxx"}})},click_handler_6:function(){return Ut.hide()},func:function(){return Ut.getRemaining({id:"timer"})},click_handler_7:function(){return Ut.show({dialogic:{timeout:2e3,component:On,id:"timer"},title:"With timer"})},click_handler_8:function(){return Ut.pause({id:"timer"})},click_handler_9:function(){return Ut.resume({id:"timer",minimumDuration:2e3})},click_handler_10:function(){return Ut.hide({id:"timer"}).catch(()=>console.log("caught"))},click_handler_11:function(){return Ut.show({dialogic:{didShow:t=>console.log("didShow",t),didHide:t=>console.log("didHide",t),styles:{startEnd:{transitionDuration:"500ms"},hideEnd:{transitionDuration:"250ms"}},component:On,className:"xxx",id:"withPromise"},title:"With Promise"}).then(t=>console.log("dialog shown",t))},click_handler_12:function(){return Ut.hide({id:"withPromise"}).then(t=>console.log("dialog hidden",t))},click_handler_13:function(){return Ut.show({...w,dialogic:{...w.dialogic,id:g.id},title:g.title+" "+h()})},click_handler_14:function(){return Ut.hide({id:g.id})},click_handler_15:function(){return Ut.show({...$,dialogic:{...$.dialogic,id:$.id}})},click_handler_16:function(){return Ut.hide({id:$.id})},click_handler_17:function(){return Ut.show({..._,dialogic:{..._.dialogic,id:_.id}})},click_handler_18:function(){return Ut.hide({id:_.id})},click_handler_19:function(){return Ut.show({dialogic:{component:On,spawn:"special"},title:"Custom spawn"})},click_handler_20:function(){return Ut.hide({spawn:"special"})},click_handler_21:function(){return Ut.show({dialogic:{component:On,spawn:"Q",queued:!0},title:"Queued "+Math.round(1e3*Math.random())})},click_handler_22:function(){return Ut.hide({spawn:"Q"})},click_handler_23:function(){return m()},click_handler_24:function(){return Ut.hide({spawn:"initial"})},func_1:function(){return m({isOnMount:!0})},click_handler_25:function(){const t=v=!v;return e("showNotifications",v),t},click_handler_26:function(){const t="N "+h();Yt.show({dialogic:{didShow:n=>console.log("didShow",n,t),didHide:n=>console.log("didHide",n,t),component:On,className:"xxx-timings",spawn:"NO"},className:"xxx-timings-content",title:t}).then(n=>console.log("notification shown",n,t))},click_handler_27:function(t){return Yt.hide({spawn:"NO"}).then(t=>console.log("notification hidden from App",t))},click_handler_28:function(){return Yt.pause({spawn:"NO"})},click_handler_29:function(){return Yt.resume({spawn:"NO"})}}}return new class extends L{constructor(t){super(),K(this,t,Dn,Nn,r,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
