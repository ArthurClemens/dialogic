!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self)["dialogic-svelte"]={})}(this,function(n){"use strict";const t="undefined"!=typeof document,e="show",i="hide",s={component:!0,didHide:!0,didShow:!0,hideDelay:!0,hideDuration:!0,hideTimingFunction:!0,showDelay:!0,showDuration:!0,showTimingFunction:!0,timeout:!0,transitions:!0,transitionClassName:!0},o=(n,t)=>n.classList.remove(t.enter,t.enterActive,t.exit,t.exitActive),r=(n,i)=>{const s=n.domElement;return s?new Promise(r=>{const c=s.style,p=t?window.getComputedStyle(s):null,d=i===e,f=u(n,d),l=void 0!==f.duration?1e3*f.duration:p?a(p.transitionDuration):0,m=void 0!==f.delay?1e3*f.delay:p?a(p.transitionDelay):0,h=l+m;f.before&&"function"==typeof f.before&&(c.transitionDuration="0ms",c.transitionDelay="0ms",f.before()),f.transitionClassNames&&(o(s,f.transitionClassNames),s.classList.add(d?f.transitionClassNames.enter:f.transitionClassNames.exit)),d&&s.scrollTop,(()=>{const n=f.timingFunction||(p?p.transitionTimingFunction:void 0);n&&(c.transitionTimingFunction=n),c.transitionDuration=l+"ms",c.transitionDelay=m+"ms",f.transitionClassNames&&(o(s,f.transitionClassNames),s.classList.add(d?f.transitionClassNames.enterActive:f.transitionClassNames.exitActive)),f.transition&&f.transition()})(),setTimeout(()=>{f.after&&"function"==typeof f.after&&f.after(),r()},h)}):Promise.resolve("no domElement")},a=n=>{const t=parseFloat(n)*(-1===n.indexOf("ms")?1e3:1);return isNaN(t)?0:t},u=(n,t)=>{const[e,i,s,o]=t?[n.showDuration,n.showDelay,n.showTimingFunction,n.transitions?n.transitions.show:void 0]:[n.hideDuration,n.hideDelay,n.hideTimingFunction,n.transitions?n.transitions.hide:void 0],r=n.transitionClassName?{enter:`${n.transitionClassName}-enter`,enterActive:`${n.transitionClassName}-enter-active`,exit:`${n.transitionClassName}-exit`,exitActive:`${n.transitionClassName}-exit-active`}:void 0;return{duration:e,delay:i,timingFunction:s,...o?o(n.domElement):void 0,transitionClassNames:r}};var c=function(n,t){return n(t={exports:{}},t.exports),t.exports}(function(n){!function(){e.SKIP={},e.lift=function(){var n=arguments[0];return s(Array.prototype.slice.call(arguments,1)).map(function(t){return n.apply(void 0,t)})},e.scan=function(n,t,i){var s=i.map(function(i){var s=n(t,i);return s!==e.SKIP&&(t=s),s});return s(t),s},e.merge=s,e.combine=i,e.scanMerge=function(n,t){var e=n.map(function(n){return n[0]}),s=i(function(){var i=arguments[arguments.length-1];return e.forEach(function(e,s){i.indexOf(e)>-1&&(t=n[s][1](t,e()))}),t},e);return s(t),s},e["fantasy-land/of"]=e;var t=!1;function e(n){var t,s=[],r=[];function a(t){return arguments.length&&t!==e.SKIP&&(n=t,o(a)&&(a._changing(),a._state="active",s.forEach(function(t,e){t(r[e](n))}))),n}return a.constructor=e,a._state=arguments.length&&n!==e.SKIP?"active":"pending",a._parents=[],a._changing=function(){o(a)&&(a._state="changing"),s.forEach(function(n){n._changing()})},a._map=function(t,i){var o=i?e():e(t(n));return o._parents.push(a),s.push(o),r.push(t),o},a.map=function(n){return a._map(n,"active"!==a._state)},a.toJSON=function(){return null!=n&&"function"==typeof n.toJSON?n.toJSON():n},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(n){return i(function(n,t){return n()(t())},[n,a])},a._unregisterChild=function(n){var t=s.indexOf(n);-1!==t&&(s.splice(t,1),r.splice(t,1))},Object.defineProperty(a,"end",{get:function(){return t||((t=e()).map(function(n){return!0===n&&(a._parents.forEach(function(n){n._unregisterChild(a)}),a._state="ended",a._parents.length=s.length=r.length=0),n}),t)}}),a}function i(n,t){var i=t.every(function(n){if(n.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===n._state}),s=i?e(n.apply(null,t.concat([t]))):e(),o=[],r=t.map(function(e){return e._map(function(r){return o.push(e),(i||t.every(function(n){return"pending"!==n._state}))&&(i=!0,s(n.apply(null,t.concat([o]))),o=[]),r},!0)}),a=s.end.map(function(n){!0===n&&(r.forEach(function(n){n.end(!0)}),a.end(!0))});return s}function s(n){return i(function(){return n.map(function(n){return n()})},n)}function o(n){return"pending"===n._state||"active"===n._state||"changing"===n._state}Object.defineProperty(e,"HALT",{get:function(){return t||console.log("HALT is deprecated and has been renamed to SKIP"),t=!0,e.SKIP}}),n.exports=e}()});const p=(n,t)=>{const e=((n,t)=>t.find(t=>t.id===n))(n,t);return t.indexOf(e)},d=(n,t)=>[t,n.id,n.spawn].filter(Boolean).join("-"),f={initialState:{store:{}},actions:n=>({add:(t,e)=>{n(i=>{const s=i.store[t]||[];return i.store[t]=[...s,e],e.timer&&e.timer.states.map(()=>f.actions(n).refresh()),i})},remove:(t,e)=>{n(n=>{const i=n.store[t]||[],s=((n,t)=>{const e=p(n,t);return-1!==e&&t.splice(e,1),t})(e,i);return n.store[t]=s,n})},replace:(t,e,i)=>{n(n=>{const s=n.store[t]||[];if(s){const o=p(e,s);-1!==o&&(s[o]=i,n.store[t]=[...s])}return n})},removeAll:t=>{n(n=>(n.store[t]=[],n))},store:(t,e)=>{n(n=>(n.store[t]=[...e],n))},refresh:()=>{n(n=>({...n}))}}),selectors:n=>{const t={getStore:()=>{return n().store},find:(t,e)=>{const i=n().store[t]||[],s=d(e,t),o=i.find(n=>n.id===s);return o?{just:o}:{nothing:void 0}},getAll:(t,e)=>{const i=n().store[t]||[],s=void 0!==e?e.spawn:void 0,o=void 0!==e?e.id:void 0,r=void 0!==s?i.filter(n=>n.spawnOptions.spawn===s):i;return void 0!==o?r.filter(n=>n.spawnOptions.id===o):r},getCount:(n,e)=>t.getAll(n,e).length};return t}},l=c(),m=c.scan((n,t)=>t(n),{...f.initialState},l),h={...f.actions(l)},g={...f.selectors(m)},$={timerId:void 0,isPaused:void 0,remaining:void 0,startTime:void 0,callback:()=>{},timeoutFn:()=>{},promise:void 0,onDone:()=>{},onAbort:()=>{}},w=(n,t,e,i)=>{const s=()=>{t(),n.onDone(),i()};return{timeoutFn:s,promise:new Promise((t,e)=>{n.onDone=()=>t(),n.onAbort=()=>e()}),...n.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(s,e),remaining:e}}},O=n=>(window.clearTimeout(n.timerId),{timerId:$.timerId}),v=n=>({...O(n)}),y=n=>({...O(n),isPaused:!0,remaining:S(n)}),b=(n,t)=>{window.clearTimeout(n.timerId);const e=t?Math.max(n.remaining||0,t):n.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(n.timeoutFn,e)}},S=n=>void 0===n.remaining?void 0:n.remaining-((new Date).getTime()-(n.startTime||0)),_=()=>{const n={initialState:$,actions:t=>({start:(e,i)=>{t(s=>({...s,...O(s),...w(s,e,i,()=>n.actions(t).done()),...s.isPaused&&y(s)}))},stop:()=>{t(n=>({...n,...v(n),...$}))},pause:()=>{t(n=>({...n,...y(n)}))},resume:n=>{t(t=>({...t,...t.isPaused&&b(t,n)}))},abort:()=>{t(n=>(n.onAbort(),{...n,...O(n)}))},done:()=>{t(n=>$)},refresh:()=>{t(n=>({...n}))}}),selectors:n=>({isPaused:()=>{return n().isPaused},getRemaining:()=>{const t=n();return t.isPaused?t.remaining:S(t)},getResultPromise:()=>{return n().promise}})},t=c(),e=c.scan((n,t)=>t(n),{...n.initialState},t);return{states:e,actions:{...n.actions(t)},selectors:{...n.selectors(e)}}};let x=0;const P=()=>x===Number.MAX_SAFE_INTEGER?0:x++,C="none",N="hiding",E=n=>{let t=0;return n.map(n=>({item:n,queueCount:n.spawnOptions.queued?t++:0})).filter(({queueCount:n})=>0===n).map(({item:n})=>n)},A=(n,t,e)=>{const i=t[n]||[];return((...n)=>t=>n.filter(Boolean).reduce((n,t)=>t(n),t))(E,(n=>t=>t.filter(t=>t.spawnOptions.spawn===n.spawn))(e))(i)},T=n=>{return Object.keys(n).reduce((t,e)=>{const i=n[e];return s[e]?t.transitionOptions[e]=i:t.instanceOptions[e]=i,t},{transitionOptions:{},instanceOptions:{}})},j=n=>t=>e=>(i={},s)=>new Promise(o=>{const r={...t,...s},a=d(r,n),{transitionOptions:u,instanceOptions:c}=T(i),p={...e,...u};p.didShow=n=>(i.didShow&&i.didShow(n),o(n)),p.didHide=n=>(i.didHide&&i.didHide(n),o(n));const f=P().toString(),l={ns:n,spawnOptions:r,transitionOptions:p,instanceTransitionOptions:u,instanceOptions:c,id:a,timer:p.timeout?_():void 0,key:f,transitionState:C},m=g.find(n,r);if(m.just&&!r.queued){const t=m.just,e=t.instanceTransitionOptions,i={...l,instanceTransitionOptions:e};h.replace(n,t.id,i),p.didShow(l)}else h.add(n,l);o(l)}),D=n=>t=>e=>(i,s)=>{return I(n)(t)(s).just?M(n)(t)(s):j(n)(t)(e)(i,s)},I=n=>t=>e=>{const i={...t,...e};return g.find(n,i)},k=n=>t=>e=>(i,s)=>{const o=I(t)(e)(i);return o.just?n(t,o.just,s):Promise.resolve()},M=k((n,t)=>t.transitionState!==N?(t.transitionState=N,U(t)):Promise.resolve(t)),F=k((n,t)=>(t&&t.timer&&t.timer.actions.pause(),Promise.resolve(t))),q=k((n,t,e={})=>(t&&t.timer&&t.timer.actions.resume(e.minimumDuration),Promise.resolve(t))),H=n=>t=>e=>i=>{const s=I(t)(e)(i);return s.just&&s.just&&s.just.timer?s.just.timer.selectors[n]():void 0},K=H("isPaused"),R=H("getRemaining"),J=n=>t=>e=>{return!!I(n)(t)(e).just},L=n=>()=>(g.getAll(n).forEach(n=>n.timer&&n.timer.actions.abort()),h.removeAll(n),Promise.resolve()),B=(n,t)=>{const{transitionOptions:e}=T(t);return{...n,transitionOptions:{...n.transitionOptions,...e}}},z=n=>t=>(e,i)=>{const s={...t,...i},o=g.getAll(n),r=o.filter(n=>!s.queued&&!n.spawnOptions.queued),a=o.filter(n=>s.queued||n.spawnOptions.queued);if(r.forEach(n=>U(B(n,e))),a.length>0){const[t]=a;h.store(n,[t]),U(B(t,e)).then(()=>h.removeAll(n))}},G=n=>t=>g.getCount(n,t),X=(n,t)=>r({...n.instanceTransitionOptions,...n.transitionOptions},t),Q=async function(n){return await X(n,e),n.transitionOptions.didShow&&await n.transitionOptions.didShow(n),n.transitionOptions.timeout&&n.timer&&await async function(n,t,e){return t.actions.start(()=>U(n),e),H("getResultPromise")}(n,n.timer,n.transitionOptions.timeout),Promise.resolve(n)},U=async function(n){n.timer&&n.timer.actions.stop(),await X(n,i),n.transitionOptions.didHide&&await n.transitionOptions.didHide(n);const t=JSON.parse(JSON.stringify(n));return h.remove(n.ns,n.id),Promise.resolve(t)},V=({ns:n,queued:t,timeout:e})=>{const i=`default_${n}`,s=`default_${n}`,o={id:i,spawn:s,...t&&{queued:t}},r={...void 0!==e&&{timeout:e}};return{ns:n,defaultId:i,defaultSpawn:s,defaultSpawnOptions:o,show:j(n)(o)(r),toggle:D(n)(o)(r),hide:M(n)(o),hideAll:z(n)(o),resetAll:L(n),pause:F(n)(o),resume:q(n)(o),exists:J(n)(o),getCount:G(n),isPaused:K(n)(o),getRemaining:R(n)(o)}},W=V({ns:"dialog"}),Y=V({ns:"notification",queued:!0,timeout:3e3});function Z(){}function nn(n,t){for(const e in t)n[e]=t[e];return n}function tn(n){return n()}function en(){return Object.create(null)}function sn(n){n.forEach(tn)}function on(n){return"function"==typeof n}function rn(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function an(n){const t={};for(const e in n)"$"!==e[0]&&(t[e]=n[e]);return t}function un(n,t,e){n.insertBefore(t,e||null)}function cn(n){n.parentNode.removeChild(n)}function pn(){return n="",document.createTextNode(n);var n}let dn;function fn(n){dn=n}function ln(n){(function(){if(!dn)throw new Error("Function called outside component initialization");return dn})().$$.on_mount.push(n)}function mn(){const n=dn;return(t,e)=>{const i=n.$$.callbacks[t];if(i){const s=function(n,t){const e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!1,!1,t),e}(t,e);i.slice().forEach(t=>{t.call(n,s)})}}}const hn=[],gn=[],$n=[],wn=[],On=Promise.resolve();let vn=!1;function yn(n){$n.push(n)}function bn(){const n=new Set;do{for(;hn.length;){const n=hn.shift();fn(n),Sn(n.$$)}for(;gn.length;)gn.pop()();for(let t=0;t<$n.length;t+=1){const e=$n[t];n.has(e)||(e(),n.add(e))}$n.length=0}while(hn.length);for(;wn.length;)wn.pop()();vn=!1}function Sn(n){n.fragment&&(n.update(n.dirty),sn(n.before_update),n.fragment.p(n.dirty,n.ctx),n.dirty=null,n.after_update.forEach(yn))}const _n=new Set;let xn;function Pn(){xn={r:0,c:[],p:xn}}function Cn(){xn.r||sn(xn.c),xn=xn.p}function Nn(n,t){n&&n.i&&(_n.delete(n),n.i(t))}function En(n,t,e,i){if(n&&n.o){if(_n.has(n))return;_n.add(n),xn.c.push(()=>{_n.delete(n),i&&(e&&n.d(1),i())}),n.o(t)}}function An(n,t){En(n,1,1,()=>{t.delete(n.key)})}function Tn(n,t){const e={},i={},s={$$scope:1};let o=n.length;for(;o--;){const r=n[o],a=t[o];if(a){for(const n in r)n in a||(i[n]=1);for(const n in a)s[n]||(e[n]=a[n],s[n]=1);n[o]=a}else for(const n in r)s[n]=1}for(const n in i)n in e||(e[n]=void 0);return e}function jn(n,t,e){const{fragment:i,on_mount:s,on_destroy:o,after_update:r}=n.$$;i.m(t,e),yn(()=>{const t=s.map(tn).filter(on);o?o.push(...t):sn(t),n.$$.on_mount=[]}),r.forEach(yn)}function Dn(n,t){n.$$.fragment&&(sn(n.$$.on_destroy),n.$$.fragment.d(t),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={})}function In(n,t){n.$$.dirty||(hn.push(n),vn||(vn=!0,On.then(bn)),n.$$.dirty=en()),n.$$.dirty[t]=!0}function kn(n,t,e,i,s,o){const r=dn;fn(n);const a=t.props||{},u=n.$$={fragment:null,ctx:null,props:o,update:Z,not_equal:s,bound:en(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(r?r.$$.context:[]),callbacks:en(),dirty:null};let c=!1;u.ctx=e?e(n,a,(t,e)=>{u.ctx&&s(u.ctx[t],u.ctx[t]=e)&&(u.bound[t]&&u.bound[t](e),c&&In(n,t))}):a,u.update(),c=!0,sn(u.before_update),u.fragment=i(u.ctx),t.target&&(t.hydrate?u.fragment.l(function(n){return Array.from(n.childNodes)}(t.target)):u.fragment.c(),t.intro&&Nn(n.$$.fragment),jn(n,t.target,t.anchor),bn()),fn(r)}class Mn{$destroy(){Dn(this,1),this.$destroy=Z}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}const Fn=[];function qn(n,t=Z){let e;const i=[];function s(t){if(rn(n,t)&&(n=t,e)){const t=!Fn.length;for(let t=0;t<i.length;t+=1){const e=i[t];e[1](),Fn.push(e,n)}if(t){for(let n=0;n<Fn.length;n+=2)Fn[n][0](Fn[n+1]);Fn.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(o,r=Z){const a=[o,r];return i.push(a),1===i.length&&(e=t(s)||Z),o(n),()=>{const n=i.indexOf(a);-1!==n&&i.splice(n,1),0===i.length&&(e(),e=null)}}}}function Hn(n,t,e){const i=!Array.isArray(n),s=i?[n]:n,o=t.length<2;return{subscribe:qn(e,n=>{let e=!1;const r=[];let a=0,u=Z;const c=()=>{if(a)return;u();const e=t(i?r[0]:r,n);o?n(e):u=on(e)?e:Z},p=s.map((n,t)=>n.subscribe(n=>{r[t]=n,a&=~(1<<t),e&&c()},()=>{a|=1<<t}));return e=!0,c(),function(){sn(p),u()}}).subscribe}}const Kn={...qn(m),...g};m.map(n=>Kn.set({...n,...g}));const Rn=n=>t=>Hn(Kn,()=>g.getCount(n,t)),Jn=n=>t=>e=>Hn(Kn,()=>H("isPaused")(n)(t)(e)),Ln=n=>t=>e=>Hn(Kn,()=>J(n)(t)(e)),Bn={...W,getCount:n=>Rn(W.ns)(n),isPaused:n=>Jn(W.ns)(W.defaultSpawnOptions)(n),exists:n=>Ln(W.ns)(W.defaultSpawnOptions)(n)},zn={...Y,getCount:n=>Rn(Y.ns)(n),isPaused:n=>Jn(Y.ns)(Y.defaultSpawnOptions)(n),exists:n=>Ln(Y.ns)(Y.defaultSpawnOptions)(n)},Gn=n=>(t,e)=>{const i=g.find(n,t.detail.spawnOptions);i.just&&((n,t)=>{t.transitionOptions.domElement=n})(t.detail.domElement,i.just);const s=g.find(n,t.detail.spawnOptions);s.just&&e(s.just)},Xn=n=>t=>Gn(n)(t,Q),Qn=n=>t=>Gn(n)(t,Q),Un=n=>t=>Gn(n)(t,U);function Vn(n){var t,e,i=[{show:n.show},{hide:n.hide},n.instanceOptions],s=n.transitionOptions.component;function o(n){let t={};for(var e=0;e<i.length;e+=1)t=nn(t,i[e]);return{props:t}}if(s)var r=new s(o());return{c(){var e,i,s,o;e="div",t=document.createElement(e),r&&r.$$.fragment.c(),i=t,s="class",null==(o=n.className)?i.removeAttribute(s):i.setAttribute(s,o)},m(i,s){un(i,t,s),r&&jn(r,t,null),n.div_binding(t),e=!0},p(n,e){var a=n.show||n.hide||n.instanceOptions?Tn(i,[n.show&&{show:e.show},n.hide&&{hide:e.hide},n.instanceOptions&&e.instanceOptions]):{};if(s!==(s=e.transitionOptions.component)){if(r){Pn();const n=r;En(n.$$.fragment,1,0,()=>{Dn(n,1)}),Cn()}s?((r=new s(o())).$$.fragment.c(),Nn(r.$$.fragment,1),jn(r,t,null)):r=null}else s&&r.$set(a)},i(n){e||(r&&Nn(r.$$.fragment,n),e=!0)},o(n){r&&En(r.$$.fragment,n),e=!1},d(e){e&&cn(t),r&&Dn(r),n.div_binding(null)}}}function Wn(n,t,e){const i=mn();let s,{spawnOptions:o,instanceOptions:r,transitionOptions:a}=t;const u=a.transitionClassName,c=n=>i(n,{spawnOptions:o,domElement:s});return ln(()=>{c("mount")}),n.$set=n=>{"spawnOptions"in n&&e("spawnOptions",o=n.spawnOptions),"instanceOptions"in n&&e("instanceOptions",r=n.instanceOptions),"transitionOptions"in n&&e("transitionOptions",a=n.transitionOptions)},{domElement:s,spawnOptions:o,instanceOptions:r,transitionOptions:a,className:u,show:()=>{c("show")},hide:()=>{c("hide")},div_binding:function(n){gn[n?"unshift":"push"](()=>{e("domElement",s=n)})}}}class Yn extends Mn{constructor(n){super(),kn(this,n,Wn,Vn,rn,["spawnOptions","instanceOptions","transitionOptions"])}}function Zn(n,t,e){const i=Object.create(n);return i.spawnOptions=t[e].spawnOptions,i.transitionOptions=t[e].transitionOptions,i.instanceOptions=t[e].instanceOptions,i.key=t[e].key,i.index=e,i}function nt(n,t){var e,i,s=new Yn({props:{spawnOptions:t.spawnOptions,transitionOptions:t.transitionOptions,instanceOptions:t.instanceOptions}});return s.$on("mount",t.nsOnInstanceMounted),s.$on("show",t.nsOnShowInstance),s.$on("hide",t.nsOnHideInstance),{key:n,first:null,c(){e=pn(),s.$$.fragment.c(),this.first=e},m(n,t){un(n,e,t),jn(s,n,t),i=!0},p(n,t){var e={};(n.filterCandidates||n.ns||n.$appState||n.spawnOptions)&&(e.spawnOptions=t.spawnOptions),(n.filterCandidates||n.ns||n.$appState||n.spawnOptions)&&(e.transitionOptions=t.transitionOptions),(n.filterCandidates||n.ns||n.$appState||n.spawnOptions)&&(e.instanceOptions=t.instanceOptions),s.$set(e)},i(n){i||(Nn(s.$$.fragment,n),i=!0)},o(n){En(s.$$.fragment,n),i=!1},d(n){n&&cn(e),Dn(s,n)}}}function tt(n){var t,e,i=[],s=new Map,o=A(n.ns,n.$appState.store,n.spawnOptions);const r=n=>n.key;for(var a=0;a<o.length;a+=1){let t=Zn(n,o,a),e=r(t);s.set(e,i[a]=nt(e,t))}return{c(){for(a=0;a<i.length;a+=1)i[a].c();t=pn()},m(n,s){for(a=0;a<i.length;a+=1)i[a].m(n,s);un(n,t,s),e=!0},p(n,e){const o=A(e.ns,e.$appState.store,e.spawnOptions);Pn(),i=function(n,t,e,i,s,o,r,a,u,c,p,d){let f=n.length,l=o.length,m=f;const h={};for(;m--;)h[n[m].key]=m;const g=[],$=new Map,w=new Map;for(m=l;m--;){const n=d(s,o,m),a=e(n);let u=r.get(a);u?i&&u.p(t,n):(u=c(a,n)).c(),$.set(a,g[m]=u),a in h&&w.set(a,Math.abs(m-h[a]))}const O=new Set,v=new Set;function y(n){Nn(n,1),n.m(a,p),r.set(n.key,n),p=n.first,l--}for(;f&&l;){const t=g[l-1],e=n[f-1],i=t.key,s=e.key;t===e?(p=t.first,f--,l--):$.has(s)?!r.has(i)||O.has(i)?y(t):v.has(s)?f--:w.get(i)>w.get(s)?(v.add(i),y(t)):(O.add(s),f--):(u(e,r),f--)}for(;f--;){const t=n[f];$.has(t.key)||u(t,r)}for(;l;)y(g[l-1]);return g}(i,n,r,1,e,o,s,t.parentNode,An,nt,t,Zn),Cn()},i(n){if(!e){for(var t=0;t<o.length;t+=1)Nn(i[t]);e=!0}},o(n){for(a=0;a<i.length;a+=1)En(i[a]);e=!1},d(n){for(a=0;a<i.length;a+=1)i[a].d(n);n&&cn(t)}}}function et(n,t,e){let i;!function(n,t,e){n.$$.on_destroy.push(function(n,t){const e=n.subscribe(t);return e.unsubscribe?()=>e.unsubscribe():e}(t,e))}(n,Kn,n=>{e("$appState",i=n)});let{spawnOptions:s,ns:o}=t;const r=Xn(o),a=Qn(o),u=Un(o);return n.$set=n=>{"spawnOptions"in n&&e("spawnOptions",s=n.spawnOptions),"ns"in n&&e("ns",o=n.ns)},{spawnOptions:s,ns:o,nsOnInstanceMounted:r,nsOnShowInstance:a,nsOnHideInstance:u,$appState:i}}class it extends Mn{constructor(n){super(),kn(this,n,et,tt,rn,["spawnOptions","ns"])}}function st(n){var t,e=new it({props:{spawnOptions:n.spawnOptions,ns:n.ns}});return{c(){e.$$.fragment.c()},m(n,i){jn(e,n,i),t=!0},p(n,t){var i={};n.spawnOptions&&(i.spawnOptions=t.spawnOptions),n.ns&&(i.ns=t.ns),e.$set(i)},i(n){t||(Nn(e.$$.fragment,n),t=!0)},o(n){En(e.$$.fragment,n),t=!1},d(n){Dn(e,n)}}}function ot(n,t,e){let{type:i,ns:s=i.ns,spawn:o,id:r,onMount:a}=t;const u={id:r||i.defaultId,spawn:o||i.defaultSpawn};return ln(()=>{"function"==typeof a&&a()}),n.$set=n=>{"type"in n&&e("type",i=n.type),"ns"in n&&e("ns",s=n.ns),"spawn"in n&&e("spawn",o=n.spawn),"id"in n&&e("id",r=n.id),"onMount"in n&&e("onMount",a=n.onMount)},{type:i,ns:s,spawn:o,id:r,onMount:a,spawnOptions:u}}class rt extends Mn{constructor(n){super(),kn(this,n,ot,st,rn,["type","ns","spawn","id","onMount"])}}function at(n){var t,e=[n.$$props,{type:Bn}];let i={};for(var s=0;s<e.length;s+=1)i=nn(i,e[s]);var o=new rt({props:i});return{c(){o.$$.fragment.c()},m(n,e){jn(o,n,e),t=!0},p(n,t){var i=n.$$props||n.dialog?Tn(e,[n.$$props&&t.$$props,n.dialog&&{type:Bn}]):{};o.$set(i)},i(n){t||(Nn(o.$$.fragment,n),t=!0)},o(n){En(o.$$.fragment,n),t=!1},d(n){Dn(o,n)}}}function ut(n,t,e){return n.$set=n=>{e("$$props",t=nn(nn({},t),n))},{$$props:t,$$props:t=an(t)}}function ct(n){var t,e=[n.$$props,{type:zn}];let i={};for(var s=0;s<e.length;s+=1)i=nn(i,e[s]);var o=new rt({props:i});return{c(){o.$$.fragment.c()},m(n,e){jn(o,n,e),t=!0},p(n,t){var i=n.$$props||n.notification?Tn(e,[n.$$props&&t.$$props,n.notification&&{type:zn}]):{};o.$set(i)},i(n){t||(Nn(o.$$.fragment,n),t=!0)},o(n){En(o.$$.fragment,n),t=!1},d(n){Dn(o,n)}}}function pt(n,t,e){return n.$set=n=>{e("$$props",t=nn(nn({},t),n))},{$$props:t,$$props:t=an(t)}}n.Dialog=class extends Mn{constructor(n){super(),kn(this,n,ut,at,rn,[])}},n.Dialogical=rt,n.Notification=class extends Mn{constructor(n){super(),kn(this,n,pt,ct,rn,[])}},n.dialog=Bn,n.notification=zn,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=dialogic-svelte.js.map
