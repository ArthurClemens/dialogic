!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self)["dialogic-svelte"]={})}(this,function(t){"use strict";const n=({domElement:t,prop:n})=>{if(window.getComputedStyle){const e=document.defaultView;if(e){const s=e.getComputedStyle(t);if(s)return s.getPropertyValue(n)}}},e="show",s="hide",i={component:!0,didHide:!0,didShow:!0,timeout:!0,transitionClassName:!0,transitionStyles:!0},o=(t,n,e)=>{const s=e[n]||{};Object.keys(s).forEach(n=>{t.style[n]=s[n]})},r=(t,n,e,s)=>{if(n.transitionStyles){const i=((t,n)=>("function"==typeof n?n(t):n)||{})(t,n.transitionStyles);o(t,"default",i),s&&(t=>t.style.transitionDuration="0ms")(t),o(t,e,i)}if(n.transitionClassName){const s={showStart:`${n.transitionClassName}-show-start`,showEnd:`${n.transitionClassName}-show-end`,hideStart:`${n.transitionClassName}-hide-start`,hideEnd:`${n.transitionClassName}-hide-end`};((t,n)=>t.classList.remove(n.showStart,n.showEnd,n.hideStart,n.hideEnd))(t,s),s&&t.classList.add(s[e])}},a={showStart:{nextStep:"showEnd"},showEnd:{nextStep:void 0},hideStart:{nextStep:"hideEnd"},hideEnd:{nextStep:void 0}},c=(t,s)=>{const i=t.domElement;if(!i)return Promise.reject("no domElement");let o=s===e?"showStart":"hideStart";return new Promise(e=>{const s=()=>{i.removeEventListener("transitionend",s,!1),e()};r(i,t,o,"showStart"===o);const c=a[o].nextStep;c&&setTimeout(()=>{o=c,i.addEventListener("transitionend",s,!1),r(i,t,o);const e=(t=>{const e=n({domElement:t,prop:"transition-duration"}),s=void 0!==e?u(e):0,i=n({domElement:t,prop:"transition-delay"});return s+(void 0!==i?u(i):0)})(i);0==e&&setTimeout(s,e)},0)})},u=t=>{const n=parseFloat(t)*(-1===t.indexOf("ms")?1e3:1);return isNaN(n)?0:n};var p=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t){!function(){e.SKIP={},e.lift=function(){var t=arguments[0];return i(Array.prototype.slice.call(arguments,1)).map(function(n){return t.apply(void 0,n)})},e.scan=function(t,n,s){var i=s.map(function(s){var i=t(n,s);return i!==e.SKIP&&(n=i),i});return i(n),i},e.merge=i,e.combine=s,e.scanMerge=function(t,n){var e=t.map(function(t){return t[0]}),i=s(function(){var s=arguments[arguments.length-1];return e.forEach(function(e,i){s.indexOf(e)>-1&&(n=t[i][1](n,e()))}),n},e);return i(n),i},e["fantasy-land/of"]=e;var n=!1;function e(t){var n,i=[],r=[];function a(n){return arguments.length&&n!==e.SKIP&&(t=n,o(a)&&(a._changing(),a._state="active",i.forEach(function(n,e){n(r[e](t))}))),t}return a.constructor=e,a._state=arguments.length&&t!==e.SKIP?"active":"pending",a._parents=[],a._changing=function(){o(a)&&(a._state="changing"),i.forEach(function(t){t._changing()})},a._map=function(n,s){var o=s?e():e(n(t));return o._parents.push(a),i.push(o),r.push(n),o},a.map=function(t){return a._map(t,"active"!==a._state)},a.toJSON=function(){return null!=t&&"function"==typeof t.toJSON?t.toJSON():t},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(t){return s(function(t,n){return t()(n())},[t,a])},a._unregisterChild=function(t){var n=i.indexOf(t);-1!==n&&(i.splice(n,1),r.splice(n,1))},Object.defineProperty(a,"end",{get:function(){return n||((n=e()).map(function(t){return!0===t&&(a._parents.forEach(function(t){t._unregisterChild(a)}),a._state="ended",a._parents.length=i.length=r.length=0),t}),n)}}),a}function s(t,n){var s=n.every(function(t){if(t.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===t._state}),i=s?e(t.apply(null,n.concat([n]))):e(),o=[],r=n.map(function(e){return e._map(function(r){return o.push(e),(s||n.every(function(t){return"pending"!==t._state}))&&(s=!0,i(t.apply(null,n.concat([o]))),o=[]),r},!0)}),a=i.end.map(function(t){!0===t&&(r.forEach(function(t){t.end(!0)}),a.end(!0))});return i}function i(t){return s(function(){return t.map(function(t){return t()})},t)}function o(t){return"pending"===t._state||"active"===t._state||"changing"===t._state}Object.defineProperty(e,"HALT",{get:function(){return n||console.log("HALT is deprecated and has been renamed to SKIP"),n=!0,e.SKIP}}),t.exports=e}()});const d=(t,n)=>{const e=((t,n)=>n.find(n=>n.id===t))(t,n);return n.indexOf(e)},f=(t,n)=>[n,t.id,t.spawn].filter(Boolean).join("-"),l={initialState:{store:{}},actions:t=>({add:(n,e)=>{t(s=>{const i=s.store[n]||[];return s.store[n]=[...i,e],e.timer&&e.timer.states.map(()=>l.actions(t).refresh()),s})},remove:(n,e)=>{t(t=>{const s=t.store[n]||[],i=((t,n)=>{const e=d(t,n);return-1!==e&&n.splice(e,1),n})(e,s);return t.store[n]=i,t})},replace:(n,e,s)=>{t(t=>{const i=t.store[n]||[];if(i){const o=d(e,i);-1!==o&&(i[o]=s,t.store[n]=[...i])}return t})},removeAll:n=>{t(t=>(t.store[n]=[],t))},store:(n,e)=>{t(t=>(t.store[n]=[...e],t))},refresh:()=>{t(t=>({...t}))}}),selectors:t=>{const n={getStore:()=>{return t().store},find:(n,e)=>{const s=t().store[n]||[],i=f(e,n),o=s.find(t=>t.id===i);return o?{just:o}:{nothing:void 0}},getAll:(n,e)=>{const s=t().store[n]||[],i=void 0!==e?e.spawn:void 0,o=void 0!==e?e.id:void 0,r=void 0!==i?s.filter(t=>t.spawnOptions.spawn===i):s;return void 0!==o?r.filter(t=>t.spawnOptions.id===o):r},getCount:(t,e)=>n.getAll(t,e).length};return n}},m=p(),h=p.scan((t,n)=>n(t),{...l.initialState},m),g={...l.actions(m)},$={...l.selectors(h)},w={timerId:void 0,isPaused:void 0,remaining:void 0,startTime:void 0,callback:()=>{},timeoutFn:()=>{},promise:void 0,onDone:()=>{},onAbort:()=>{}},O=(t,n,e,s)=>{const i=()=>{n(),t.onDone(),s()};return{timeoutFn:i,promise:new Promise((n,e)=>{t.onDone=()=>n(),t.onAbort=()=>e()}),...t.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(i,e),remaining:e}}},v=t=>(window.clearTimeout(t.timerId),{timerId:w.timerId}),y=t=>({...v(t)}),S=t=>({...v(t),isPaused:!0,remaining:_(t)}),b=(t,n)=>{window.clearTimeout(t.timerId);const e=n?Math.max(t.remaining||0,n):t.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(t.timeoutFn,e)}},_=t=>void 0===t.remaining?void 0:t.remaining-((new Date).getTime()-(t.startTime||0)),E=()=>{const t={initialState:w,actions:n=>({start:(e,s)=>{n(i=>({...i,...v(i),...O(i,e,s,()=>t.actions(n).done()),...i.isPaused&&S(i)}))},stop:()=>{n(t=>({...t,...y(t),...w}))},pause:()=>{n(t=>({...t,...S(t)}))},resume:t=>{n(n=>({...n,...n.isPaused&&b(n,t)}))},abort:()=>{n(t=>(t.onAbort(),{...t,...v(t)}))},done:()=>{n(t=>w)},refresh:()=>{n(t=>({...t}))}}),selectors:t=>({isPaused:()=>{return t().isPaused},getRemaining:()=>{const n=t();return n.isPaused?n.remaining:_(n)},getResultPromise:()=>{return t().promise}})},n=p(),e=p.scan((t,n)=>n(t),{...t.initialState},n);return{states:e,actions:{...t.actions(n)},selectors:{...t.selectors(e)}}};let x=0;const P=()=>x===Number.MAX_SAFE_INTEGER?0:x++,j="none",C="hiding",N=t=>{let n=0;return t.map(t=>({item:t,queueCount:t.spawnOptions.queued?n++:0})).filter(({queueCount:t})=>0===t).map(({item:t})=>t)},A=(t,n,e)=>{const s=n[t]||[];return((...t)=>n=>t.filter(Boolean).reduce((t,n)=>n(t),n))(N,(t=>n=>n.filter(n=>n.spawnOptions.spawn===t.spawn))(e))(s)},I=t=>{return Object.keys(t).reduce((n,e)=>{const s=t[e];return i[e]?n.transitionOptions[e]=s:n.instanceOptions[e]=s,n},{transitionOptions:{},instanceOptions:{}})},T=t=>n=>e=>(s={},i)=>new Promise(o=>{const r={...n,...i},a=f(r,t),{transitionOptions:c,instanceOptions:u}=I(s),p={...e,...c};p.didShow=t=>(s.didShow&&s.didShow(t),o(t)),p.didHide=t=>(s.didHide&&s.didHide(t),o(t));const d=P().toString(),l={ns:t,spawnOptions:r,transitionOptions:p,instanceTransitionOptions:c,instanceOptions:u,id:a,timer:p.timeout?E():void 0,key:d,transitionState:j},m=$.find(t,r);if(m.just&&!r.queued){const n=m.just,e=n.instanceTransitionOptions,s={...l,instanceTransitionOptions:e};g.replace(t,n.id,s),p.didShow(l)}else g.add(t,l);o(l)}),k=t=>n=>e=>(s,i)=>{return M(t)(n)(i).just?D(t)(n)(i):T(t)(n)(e)(s,i)},M=t=>n=>e=>{const s={...n,...e};return $.find(t,s)},q=t=>n=>e=>(s,i)=>{const o=M(n)(e)(s);return o.just?t(n,o.just,i):Promise.resolve()},D=q((t,n)=>n.transitionState!==C?(n.transitionState=C,U(n)):Promise.resolve(n)),H=q((t,n)=>(n&&n.timer&&n.timer.actions.pause(),Promise.resolve(n))),F=q((t,n,e={})=>(n&&n.timer&&n.timer.actions.resume(e.minimumDuration),Promise.resolve(n))),K=t=>n=>e=>s=>{const i=M(n)(e)(s);return i.just&&i.just&&i.just.timer?i.just.timer.selectors[t]():void 0},L=K("isPaused"),R=K("getRemaining"),J=t=>n=>e=>{return!!M(t)(n)(e).just},B=t=>()=>($.getAll(t).forEach(t=>t.timer&&t.timer.actions.abort()),g.removeAll(t),Promise.resolve()),V=(t,n)=>{const{transitionOptions:e}=I(n);return{...t,transitionOptions:{...t.transitionOptions,...e}}},z=t=>n=>(e,s)=>{const i={...n,...s},o=$.getAll(t),r=o.filter(t=>!i.queued&&!t.spawnOptions.queued),a=o.filter(t=>i.queued||t.spawnOptions.queued);if(r.forEach(t=>U(V(t,e))),a.length>0){const[n]=a;g.store(t,[n]),U(V(n,e)).then(()=>g.removeAll(t))}},G=t=>n=>$.getCount(t,n),X=(t,n)=>c({...t.instanceTransitionOptions,...t.transitionOptions},n),Q=async function(t){return await X(t,e),t.transitionOptions.didShow&&await t.transitionOptions.didShow(t),t.transitionOptions.timeout&&t.timer&&await async function(t,n,e){return n.actions.start(()=>U(t),e),K("getResultPromise")}(t,t.timer,t.transitionOptions.timeout),Promise.resolve(t)},U=async function(t){t.timer&&t.timer.actions.stop(),await X(t,s),t.transitionOptions.didHide&&await t.transitionOptions.didHide(t);const n=JSON.parse(JSON.stringify(t));return g.remove(t.ns,t.id),Promise.resolve(n)},W=({ns:t,queued:n,timeout:e})=>{const s=`default_${t}`,i=`default_${t}`,o={id:s,spawn:i,...n&&{queued:n}},r={...void 0!==e&&{timeout:e}};return{ns:t,defaultId:s,defaultSpawn:i,defaultSpawnOptions:o,show:T(t)(o)(r),toggle:k(t)(o)(r),hide:D(t)(o),hideAll:z(t)(o),resetAll:B(t),pause:H(t)(o),resume:F(t)(o),exists:J(t)(o),getCount:G(t),isPaused:L(t)(o),getRemaining:R(t)(o)}},Y=W({ns:"dialog"}),Z=W({ns:"notification",queued:!0,timeout:3e3});function tt(){}function nt(t,n){for(const e in n)t[e]=n[e];return t}function et(t){return t()}function st(){return Object.create(null)}function it(t){t.forEach(et)}function ot(t){return"function"==typeof t}function rt(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function at(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function ct(t,n,e){t.insertBefore(n,e||null)}function ut(t){t.parentNode.removeChild(t)}function pt(){return t="",document.createTextNode(t);var t}let dt;function ft(t){dt=t}function lt(t){(function(){if(!dt)throw new Error("Function called outside component initialization");return dt})().$$.on_mount.push(t)}function mt(){const t=dt;return(n,e)=>{const s=t.$$.callbacks[n];if(s){const i=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);s.slice().forEach(n=>{n.call(t,i)})}}}const ht=[],gt=[],$t=[],wt=[],Ot=Promise.resolve();let vt=!1;function yt(t){$t.push(t)}function St(){const t=new Set;do{for(;ht.length;){const t=ht.shift();ft(t),bt(t.$$)}for(;gt.length;)gt.pop()();for(let n=0;n<$t.length;n+=1){const e=$t[n];t.has(e)||(e(),t.add(e))}$t.length=0}while(ht.length);for(;wt.length;)wt.pop()();vt=!1}function bt(t){t.fragment&&(t.update(t.dirty),it(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(yt))}const _t=new Set;let Et;function xt(){Et={r:0,c:[],p:Et}}function Pt(){Et.r||it(Et.c),Et=Et.p}function jt(t,n){t&&t.i&&(_t.delete(t),t.i(n))}function Ct(t,n,e,s){if(t&&t.o){if(_t.has(t))return;_t.add(t),Et.c.push(()=>{_t.delete(t),s&&(e&&t.d(1),s())}),t.o(n)}}function Nt(t,n){Ct(t,1,1,()=>{n.delete(t.key)})}function At(t,n){const e={},s={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=n[o];if(a){for(const t in r)t in a||(s[t]=1);for(const t in a)i[t]||(e[t]=a[t],i[t]=1);t[o]=a}else for(const t in r)i[t]=1}for(const t in s)t in e||(e[t]=void 0);return e}function It(t,n,e){const{fragment:s,on_mount:i,on_destroy:o,after_update:r}=t.$$;s.m(n,e),yt(()=>{const n=i.map(et).filter(ot);o?o.push(...n):it(n),t.$$.on_mount=[]}),r.forEach(yt)}function Tt(t,n){t.$$.fragment&&(it(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function kt(t,n){t.$$.dirty||(ht.push(t),vt||(vt=!0,Ot.then(St)),t.$$.dirty=st()),t.$$.dirty[n]=!0}function Mt(t,n,e,s,i,o){const r=dt;ft(t);const a=n.props||{},c=t.$$={fragment:null,ctx:null,props:o,update:tt,not_equal:i,bound:st(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(r?r.$$.context:[]),callbacks:st(),dirty:null};let u=!1;c.ctx=e?e(t,a,(n,e)=>{c.ctx&&i(c.ctx[n],c.ctx[n]=e)&&(c.bound[n]&&c.bound[n](e),u&&kt(t,n))}):a,c.update(),u=!0,it(c.before_update),c.fragment=s(c.ctx),n.target&&(n.hydrate?c.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):c.fragment.c(),n.intro&&jt(t.$$.fragment),It(t,n.target,n.anchor),St()),ft(r)}class qt{$destroy(){Tt(this,1),this.$destroy=tt}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const Dt=[];function Ht(t,n=tt){let e;const s=[];function i(n){if(rt(t,n)&&(t=n,e)){const n=!Dt.length;for(let n=0;n<s.length;n+=1){const e=s[n];e[1](),Dt.push(e,t)}if(n){for(let t=0;t<Dt.length;t+=2)Dt[t][0](Dt[t+1]);Dt.length=0}}}return{set:i,update:function(n){i(n(t))},subscribe:function(o,r=tt){const a=[o,r];return s.push(a),1===s.length&&(e=n(i)||tt),o(t),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1),0===s.length&&(e(),e=null)}}}}function Ft(t,n,e){const s=!Array.isArray(t),i=s?[t]:t,o=n.length<2;return{subscribe:Ht(e,t=>{let e=!1;const r=[];let a=0,c=tt;const u=()=>{if(a)return;c();const e=n(s?r[0]:r,t);o?t(e):c=ot(e)?e:tt},p=i.map((t,n)=>t.subscribe(t=>{r[n]=t,a&=~(1<<n),e&&u()},()=>{a|=1<<n}));return e=!0,u(),function(){it(p),c()}}).subscribe}}const Kt={...Ht(h),...$};h.map(t=>Kt.set({...t,...$}));const Lt=t=>n=>Ft(Kt,()=>$.getCount(t,n)),Rt=t=>n=>e=>Ft(Kt,()=>K("isPaused")(t)(n)(e)),Jt=t=>n=>e=>Ft(Kt,()=>J(t)(n)(e)),Bt={...Y,getCount:t=>Lt(Y.ns)(t),isPaused:t=>Rt(Y.ns)(Y.defaultSpawnOptions)(t),exists:t=>Jt(Y.ns)(Y.defaultSpawnOptions)(t)},Vt={...Z,getCount:t=>Lt(Z.ns)(t),isPaused:t=>Rt(Z.ns)(Z.defaultSpawnOptions)(t),exists:t=>Jt(Z.ns)(Z.defaultSpawnOptions)(t)},zt=t=>(n,e)=>{const s=$.find(t,n.detail.spawnOptions);s.just&&((t,n)=>{n.transitionOptions.domElement=t})(n.detail.domElement,s.just);const i=$.find(t,n.detail.spawnOptions);i.just&&e(i.just)},Gt=t=>n=>zt(t)(n,Q),Xt=t=>n=>zt(t)(n,Q),Qt=t=>n=>zt(t)(n,U);function Ut(t){var n,e,s=[{show:t.show},{hide:t.hide},t.instanceOptions],i=t.transitionOptions.component;function o(t){let n={};for(var e=0;e<s.length;e+=1)n=nt(n,s[e]);return{props:n}}if(i)var r=new i(o());return{c(){var e,s,i,o;e="div",n=document.createElement(e),r&&r.$$.fragment.c(),s=n,i="class",null==(o=t.className)?s.removeAttribute(i):s.setAttribute(i,o)},m(s,i){ct(s,n,i),r&&It(r,n,null),t.div_binding(n),e=!0},p(t,e){var a=t.show||t.hide||t.instanceOptions?At(s,[t.show&&{show:e.show},t.hide&&{hide:e.hide},t.instanceOptions&&e.instanceOptions]):{};if(i!==(i=e.transitionOptions.component)){if(r){xt();const t=r;Ct(t.$$.fragment,1,0,()=>{Tt(t,1)}),Pt()}i?((r=new i(o())).$$.fragment.c(),jt(r.$$.fragment,1),It(r,n,null)):r=null}else i&&r.$set(a)},i(t){e||(r&&jt(r.$$.fragment,t),e=!0)},o(t){r&&Ct(r.$$.fragment,t),e=!1},d(e){e&&ut(n),r&&Tt(r),t.div_binding(null)}}}function Wt(t,n,e){const s=mt();let i,{spawnOptions:o,instanceOptions:r,transitionOptions:a}=n;const c=a.transitionClassName,u=t=>s(t,{spawnOptions:o,domElement:i});return lt(()=>{u("mount")}),t.$set=t=>{"spawnOptions"in t&&e("spawnOptions",o=t.spawnOptions),"instanceOptions"in t&&e("instanceOptions",r=t.instanceOptions),"transitionOptions"in t&&e("transitionOptions",a=t.transitionOptions)},{domElement:i,spawnOptions:o,instanceOptions:r,transitionOptions:a,className:c,show:()=>{u("show")},hide:()=>{u("hide")},div_binding:function(t){gt[t?"unshift":"push"](()=>{e("domElement",i=t)})}}}class Yt extends qt{constructor(t){super(),Mt(this,t,Wt,Ut,rt,["spawnOptions","instanceOptions","transitionOptions"])}}function Zt(t,n,e){const s=Object.create(t);return s.spawnOptions=n[e].spawnOptions,s.transitionOptions=n[e].transitionOptions,s.instanceOptions=n[e].instanceOptions,s.key=n[e].key,s.index=e,s}function tn(t,n){var e,s,i=new Yt({props:{spawnOptions:n.spawnOptions,transitionOptions:n.transitionOptions,instanceOptions:n.instanceOptions}});return i.$on("mount",n.nsOnInstanceMounted),i.$on("show",n.nsOnShowInstance),i.$on("hide",n.nsOnHideInstance),{key:t,first:null,c(){e=pt(),i.$$.fragment.c(),this.first=e},m(t,n){ct(t,e,n),It(i,t,n),s=!0},p(t,n){var e={};(t.filterCandidates||t.ns||t.$appState||t.spawnOptions)&&(e.spawnOptions=n.spawnOptions),(t.filterCandidates||t.ns||t.$appState||t.spawnOptions)&&(e.transitionOptions=n.transitionOptions),(t.filterCandidates||t.ns||t.$appState||t.spawnOptions)&&(e.instanceOptions=n.instanceOptions),i.$set(e)},i(t){s||(jt(i.$$.fragment,t),s=!0)},o(t){Ct(i.$$.fragment,t),s=!1},d(t){t&&ut(e),Tt(i,t)}}}function nn(t){var n,e,s=[],i=new Map,o=A(t.ns,t.$appState.store,t.spawnOptions);const r=t=>t.key;for(var a=0;a<o.length;a+=1){let n=Zt(t,o,a),e=r(n);i.set(e,s[a]=tn(e,n))}return{c(){for(a=0;a<s.length;a+=1)s[a].c();n=pt()},m(t,i){for(a=0;a<s.length;a+=1)s[a].m(t,i);ct(t,n,i),e=!0},p(t,e){const o=A(e.ns,e.$appState.store,e.spawnOptions);xt(),s=function(t,n,e,s,i,o,r,a,c,u,p,d){let f=t.length,l=o.length,m=f;const h={};for(;m--;)h[t[m].key]=m;const g=[],$=new Map,w=new Map;for(m=l;m--;){const t=d(i,o,m),a=e(t);let c=r.get(a);c?s&&c.p(n,t):(c=u(a,t)).c(),$.set(a,g[m]=c),a in h&&w.set(a,Math.abs(m-h[a]))}const O=new Set,v=new Set;function y(t){jt(t,1),t.m(a,p),r.set(t.key,t),p=t.first,l--}for(;f&&l;){const n=g[l-1],e=t[f-1],s=n.key,i=e.key;n===e?(p=n.first,f--,l--):$.has(i)?!r.has(s)||O.has(s)?y(n):v.has(i)?f--:w.get(s)>w.get(i)?(v.add(s),y(n)):(O.add(i),f--):(c(e,r),f--)}for(;f--;){const n=t[f];$.has(n.key)||c(n,r)}for(;l;)y(g[l-1]);return g}(s,t,r,1,e,o,i,n.parentNode,Nt,tn,n,Zt),Pt()},i(t){if(!e){for(var n=0;n<o.length;n+=1)jt(s[n]);e=!0}},o(t){for(a=0;a<s.length;a+=1)Ct(s[a]);e=!1},d(t){for(a=0;a<s.length;a+=1)s[a].d(t);t&&ut(n)}}}function en(t,n,e){let s;!function(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}(t,Kt,t=>{e("$appState",s=t)});let{spawnOptions:i,ns:o}=n;const r=Gt(o),a=Xt(o),c=Qt(o);return t.$set=t=>{"spawnOptions"in t&&e("spawnOptions",i=t.spawnOptions),"ns"in t&&e("ns",o=t.ns)},{spawnOptions:i,ns:o,nsOnInstanceMounted:r,nsOnShowInstance:a,nsOnHideInstance:c,$appState:s}}class sn extends qt{constructor(t){super(),Mt(this,t,en,nn,rt,["spawnOptions","ns"])}}function on(t){var n,e=new sn({props:{spawnOptions:t.spawnOptions,ns:t.ns}});return{c(){e.$$.fragment.c()},m(t,s){It(e,t,s),n=!0},p(t,n){var s={};t.spawnOptions&&(s.spawnOptions=n.spawnOptions),t.ns&&(s.ns=n.ns),e.$set(s)},i(t){n||(jt(e.$$.fragment,t),n=!0)},o(t){Ct(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function rn(t,n,e){let{type:s,ns:i=s.ns,spawn:o,id:r,onMount:a}=n;const c={id:r||s.defaultId,spawn:o||s.defaultSpawn};return lt(()=>{"function"==typeof a&&a()}),t.$set=t=>{"type"in t&&e("type",s=t.type),"ns"in t&&e("ns",i=t.ns),"spawn"in t&&e("spawn",o=t.spawn),"id"in t&&e("id",r=t.id),"onMount"in t&&e("onMount",a=t.onMount)},{type:s,ns:i,spawn:o,id:r,onMount:a,spawnOptions:c}}class an extends qt{constructor(t){super(),Mt(this,t,rn,on,rt,["type","ns","spawn","id","onMount"])}}function cn(t){var n,e=[t.$$props,{type:Bt}];let s={};for(var i=0;i<e.length;i+=1)s=nt(s,e[i]);var o=new an({props:s});return{c(){o.$$.fragment.c()},m(t,e){It(o,t,e),n=!0},p(t,n){var s=t.$$props||t.dialog?At(e,[t.$$props&&n.$$props,t.dialog&&{type:Bt}]):{};o.$set(s)},i(t){n||(jt(o.$$.fragment,t),n=!0)},o(t){Ct(o.$$.fragment,t),n=!1},d(t){Tt(o,t)}}}function un(t,n,e){return t.$set=t=>{e("$$props",n=nt(nt({},n),t))},{$$props:n,$$props:n=at(n)}}function pn(t){var n,e=[t.$$props,{type:Vt}];let s={};for(var i=0;i<e.length;i+=1)s=nt(s,e[i]);var o=new an({props:s});return{c(){o.$$.fragment.c()},m(t,e){It(o,t,e),n=!0},p(t,n){var s=t.$$props||t.notification?At(e,[t.$$props&&n.$$props,t.notification&&{type:Vt}]):{};o.$set(s)},i(t){n||(jt(o.$$.fragment,t),n=!0)},o(t){Ct(o.$$.fragment,t),n=!1},d(t){Tt(o,t)}}}function dn(t,n,e){return t.$set=t=>{e("$$props",n=nt(nt({},n),t))},{$$props:n,$$props:n=at(n)}}t.Dialog=class extends qt{constructor(t){super(),Mt(this,t,un,cn,rt,[])}},t.Dialogical=an,t.Notification=class extends qt{constructor(t){super(),Mt(this,t,dn,pn,rt,[])}},t.dialog=Bt,t.notification=Vt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=dialogic-svelte.js.map
