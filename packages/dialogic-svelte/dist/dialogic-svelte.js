!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self)["dialogic-svelte"]={})}(this,function(n){"use strict";const t="undefined"!=typeof document,e="show",s="hide",i={className:!0,component:!0,didHide:!0,didShow:!0,hideDelay:!0,hideDuration:!0,hideTimingFunction:!0,showClassName:!0,showDelay:!0,showDuration:!0,showTimingFunction:!0,timeout:!0,transitionClassName:!0,transitions:!0},o=(n,s)=>{const i=n.domElement;return i?new Promise(o=>{const c=i.style,u=t?window.getComputedStyle(i):null,p=s===e,d=a(n,p),l=void 0!==d.duration?1e3*d.duration:u?r(u.transitionDuration):0,f=void 0!==d.delay?1e3*d.delay:u?r(u.transitionDelay):0,m=l+f;d.before&&"function"==typeof d.before&&(c.transitionDuration="0ms",c.transitionDelay="0ms",d.before()),(()=>{const t=d.timingFunction||(u?u.transitionTimingFunction:void 0);t&&(c.transitionTimingFunction=t),c.transitionDuration=l+"ms",c.transitionDelay=f+"ms",n.transitionClassName&&i.classList.add(n.transitionClassName),n.showClassName&&(n.showClassElement||i).classList[p?"add":"remove"](n.showClassName);d.transition&&d.transition()})(),setTimeout(()=>{d.after&&"function"==typeof d.after&&d.after(),n.transitionClassName&&i.classList.remove(n.transitionClassName),o()},m)}):Promise.resolve("no domElement")},r=n=>{const t=parseFloat(n)*(-1===n.indexOf("ms")?1e3:1);return isNaN(t)?0:t},a=(n,t)=>{const[e,s,i,o]=t?[n.showDuration,n.showDelay,n.showTimingFunction,n.transitions?n.transitions.show:void 0]:[n.hideDuration,n.hideDelay,n.hideTimingFunction,n.transitions?n.transitions.hide:void 0];return{duration:e,delay:s,timingFunction:i,...o?o(n.domElement):void 0}};var c=function(n,t){return n(t={exports:{}},t.exports),t.exports}(function(n){!function(){e.SKIP={},e.lift=function(){var n=arguments[0];return i(Array.prototype.slice.call(arguments,1)).map(function(t){return n.apply(void 0,t)})},e.scan=function(n,t,s){var i=s.map(function(s){var i=n(t,s);return i!==e.SKIP&&(t=i),i});return i(t),i},e.merge=i,e.combine=s,e.scanMerge=function(n,t){var e=n.map(function(n){return n[0]}),i=s(function(){var s=arguments[arguments.length-1];return e.forEach(function(e,i){s.indexOf(e)>-1&&(t=n[i][1](t,e()))}),t},e);return i(t),i},e["fantasy-land/of"]=e;var t=!1;function e(n){var t,i=[],r=[];function a(t){return arguments.length&&t!==e.SKIP&&(n=t,o(a)&&(a._changing(),a._state="active",i.forEach(function(t,e){t(r[e](n))}))),n}return a.constructor=e,a._state=arguments.length&&n!==e.SKIP?"active":"pending",a._parents=[],a._changing=function(){o(a)&&(a._state="changing"),i.forEach(function(n){n._changing()})},a._map=function(t,s){var o=s?e():e(t(n));return o._parents.push(a),i.push(o),r.push(t),o},a.map=function(n){return a._map(n,"active"!==a._state)},a.toJSON=function(){return null!=n&&"function"==typeof n.toJSON?n.toJSON():n},a["fantasy-land/map"]=a.map,a["fantasy-land/ap"]=function(n){return s(function(n,t){return n()(t())},[n,a])},a._unregisterChild=function(n){var t=i.indexOf(n);-1!==t&&(i.splice(t,1),r.splice(t,1))},Object.defineProperty(a,"end",{get:function(){return t||((t=e()).map(function(n){return!0===n&&(a._parents.forEach(function(n){n._unregisterChild(a)}),a._state="ended",a._parents.length=i.length=r.length=0),n}),t)}}),a}function s(n,t){var s=t.every(function(n){if(n.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===n._state}),i=s?e(n.apply(null,t.concat([t]))):e(),o=[],r=t.map(function(e){return e._map(function(r){return o.push(e),(s||t.every(function(n){return"pending"!==n._state}))&&(s=!0,i(n.apply(null,t.concat([o]))),o=[]),r},!0)}),a=i.end.map(function(n){!0===n&&(r.forEach(function(n){n.end(!0)}),a.end(!0))});return i}function i(n){return s(function(){return n.map(function(n){return n()})},n)}function o(n){return"pending"===n._state||"active"===n._state||"changing"===n._state}Object.defineProperty(e,"HALT",{get:function(){return t||console.log("HALT is deprecated and has been renamed to SKIP"),t=!0,e.SKIP}}),n.exports=e}()});const u=(n,t)=>{const e=((n,t)=>t.find(t=>t.id===n))(n,t);return t.indexOf(e)},p=(n,t)=>[t,n.id,n.spawn].filter(Boolean).join("-"),d={initialState:{store:{}},actions:n=>({add:(t,e)=>{n(s=>{const i=s.store[t]||[];return s.store[t]=[...i,e],e.timer&&e.timer.states.map(()=>d.actions(n).refresh()),s})},remove:(t,e)=>{n(n=>{const s=n.store[t]||[],i=((n,t)=>{const e=u(n,t);return-1!==e&&t.splice(e,1),t})(e,s);return n.store[t]=i,n})},replace:(t,e,s)=>{n(n=>{const i=n.store[t]||[];if(i){const o=u(e,i);-1!==o&&(i[o]=s,n.store[t]=[...i])}return n})},removeAll:t=>{n(n=>(n.store[t]=[],n))},store:(t,e)=>{n(n=>(n.store[t]=[...e],n))},refresh:()=>{n(n=>({...n}))}}),selectors:n=>{const t={getStore:()=>{return n().store},find:(t,e)=>{const s=n().store[t]||[],i=p(e,t),o=s.find(n=>n.id===i);return o?{just:o}:{nothing:void 0}},getAll:(t,e)=>{const s=n().store[t]||[],i=void 0!==e?e.spawn:void 0,o=void 0!==e?e.id:void 0,r=void 0!==i?s.filter(n=>n.spawnOptions.spawn===i):s;return void 0!==o?r.filter(n=>n.spawnOptions.id===o):r},getCount:(n,e)=>t.getAll(n,e).length};return t}},l=c(),f=c.scan((n,t)=>t(n),{...d.initialState},l),m={...d.actions(l)},h={...d.selectors(f)},g={timerId:void 0,isPaused:void 0,remaining:void 0,startTime:void 0,callback:()=>{},timeoutFn:()=>{},promise:void 0,onDone:()=>{},onAbort:()=>{}},$=(n,t,e,s)=>{const i=()=>{t(),n.onDone(),s()};return{timeoutFn:i,promise:new Promise((t,e)=>{n.onDone=()=>t(),n.onAbort=()=>e()}),...n.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(i,e),remaining:e}}},w=n=>(window.clearTimeout(n.timerId),{timerId:g.timerId}),O=n=>({...w(n)}),v=n=>({...w(n),isPaused:!0,remaining:_(n)}),y=(n,t)=>{window.clearTimeout(n.timerId);const e=t?Math.max(n.remaining||0,t):n.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(n.timeoutFn,e)}},_=n=>void 0===n.remaining?void 0:n.remaining-((new Date).getTime()-(n.startTime||0)),b=()=>{const n={initialState:g,actions:t=>({start:(e,s)=>{t(i=>({...i,...w(i),...$(i,e,s,()=>n.actions(t).done()),...i.isPaused&&v(i)}))},stop:()=>{t(n=>({...n,...O(n),...g}))},pause:()=>{t(n=>({...n,...v(n)}))},resume:n=>{t(t=>({...t,...t.isPaused&&y(t,n)}))},abort:()=>{t(n=>(n.onAbort(),{...n,...w(n)}))},done:()=>{t(n=>g)},refresh:()=>{t(n=>({...n}))}}),selectors:n=>({isPaused:()=>{return n().isPaused},getRemaining:()=>{const t=n();return t.isPaused?t.remaining:_(t)},getResultPromise:()=>{return n().promise}})},t=c(),e=c.scan((n,t)=>t(n),{...n.initialState},t);return{states:e,actions:{...n.actions(t)},selectors:{...n.selectors(e)}}};let S=0;const P=()=>S===Number.MAX_SAFE_INTEGER?0:S++,x="none",N="hiding",E=n=>{let t=0;return n.map(n=>({item:n,queueCount:n.spawnOptions.queued?t++:0})).filter(({queueCount:n})=>0===n).map(({item:n})=>n)},T=(n,t,e)=>{const s=t[n]||[];return((...n)=>t=>n.filter(Boolean).reduce((n,t)=>t(n),t))(E,(n=>t=>t.filter(t=>t.spawnOptions.spawn===n.spawn))(e))(s)},C=n=>{return Object.keys(n).reduce((t,e)=>{const s=n[e];return i[e]?t.transitionOptions[e]=s:t.instanceOptions[e]=s,t},{transitionOptions:{},instanceOptions:{}})},j=n=>t=>e=>(s={},i)=>new Promise(o=>{const r={...t,...i},a=p(r,n),{transitionOptions:c,instanceOptions:u}=C(s),d={...e,...c};d.didShow=n=>(s.didShow&&s.didShow(n),o(n)),d.didHide=n=>(s.didHide&&s.didHide(n),o(n));const l=P().toString(),f={ns:n,spawnOptions:r,transitionOptions:d,instanceTransitionOptions:c,instanceOptions:u,id:a,timer:d.timeout?b():void 0,key:l,transitionState:x},g=h.find(n,r);if(g.just&&!r.queued){const t=g.just,e=t.instanceTransitionOptions,s={...f,instanceTransitionOptions:e};m.replace(n,t.id,s),d.didShow(f)}else m.add(n,f);o(f)}),D=n=>t=>e=>(s,i)=>{return A(n)(t)(i).just?k(n)(t)(i):j(n)(t)(e)(s,i)},A=n=>t=>e=>{const s={...t,...e};return h.find(n,s)},I=n=>t=>e=>(s,i)=>{const o=A(t)(e)(s);return o.just?n(t,o.just,i):Promise.resolve()},k=I((n,t)=>t.transitionState!==N?(t.transitionState=N,Q(t)):Promise.resolve(t)),M=I((n,t)=>(t&&t.timer&&t.timer.actions.pause(),Promise.resolve(t))),F=I((n,t,e={})=>(t&&t.timer&&t.timer.actions.resume(e.minimumDuration),Promise.resolve(t))),R=n=>t=>e=>s=>{const i=A(t)(e)(s);return i.just&&i.just&&i.just.timer?i.just.timer.selectors[n]():void 0},q=R("isPaused"),H=R("getRemaining"),K=n=>t=>e=>{return!!A(n)(t)(e).just},J=n=>()=>(h.getAll(n).forEach(n=>n.timer&&n.timer.actions.abort()),m.removeAll(n),Promise.resolve()),L=(n,t)=>{const{transitionOptions:e}=C(t);return{...n,transitionOptions:{...n.transitionOptions,...e}}},B=n=>t=>(e,s)=>{const i={...t,...s},o=h.getAll(n),r=o.filter(n=>!i.queued&&!n.spawnOptions.queued),a=o.filter(n=>i.queued||n.spawnOptions.queued);if(r.forEach(n=>Q(L(n,e))),a.length>0){const[t]=a;m.store(n,[t]),Q(L(t,e)).then(()=>m.removeAll(n))}},z=n=>t=>h.getCount(n,t),G=(n,t)=>o({...n.instanceTransitionOptions,...n.transitionOptions},t),X=async function(n){return await G(n,e),n.transitionOptions.didShow&&await n.transitionOptions.didShow(n),n.transitionOptions.timeout&&n.timer&&await async function(n,t,e){return t.actions.start(()=>Q(n),e),R("getResultPromise")}(n,n.timer,n.transitionOptions.timeout),Promise.resolve(n)},Q=async function(n){n.timer&&n.timer.actions.stop(),await G(n,s),n.transitionOptions.didHide&&await n.transitionOptions.didHide(n);const t=JSON.parse(JSON.stringify(n));return m.remove(n.ns,n.id),Promise.resolve(t)},U=({ns:n,queued:t,timeout:e})=>{const s=`default_${n}`,i=`default_${n}`,o={id:s,spawn:i,...t&&{queued:t}},r={...void 0!==e&&{timeout:e}};return{ns:n,defaultId:s,defaultSpawn:i,defaultSpawnOptions:o,show:j(n)(o)(r),toggle:D(n)(o)(r),hide:k(n)(o),hideAll:B(n)(o),resetAll:J(n),pause:M(n)(o),resume:F(n)(o),exists:K(n)(o),getCount:z(n),isPaused:q(n)(o),getRemaining:H(n)(o)}},V=U({ns:"dialog"}),W=U({ns:"notification",queued:!0,timeout:3e3});function Y(){}function Z(n,t){for(const e in t)n[e]=t[e];return n}function nn(n){return n()}function tn(){return Object.create(null)}function en(n){n.forEach(nn)}function sn(n){return"function"==typeof n}function on(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function rn(n){const t={};for(const e in n)"$"!==e[0]&&(t[e]=n[e]);return t}function an(n,t,e){n.insertBefore(t,e||null)}function cn(n){n.parentNode.removeChild(n)}function un(){return n="",document.createTextNode(n);var n}function pn(n,t,e){null==e?n.removeAttribute(t):n.setAttribute(t,e)}function dn(n,t){for(const e in t)"style"===e?n.style.cssText=t[e]:e in n?n[e]=t[e]:pn(n,e,t[e])}let ln;function fn(n){ln=n}function mn(n){(function(){if(!ln)throw new Error("Function called outside component initialization");return ln})().$$.on_mount.push(n)}function hn(){const n=ln;return(t,e)=>{const s=n.$$.callbacks[t];if(s){const i=function(n,t){const e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!1,!1,t),e}(t,e);s.slice().forEach(t=>{t.call(n,i)})}}}const gn=[],$n=[],wn=[],On=[],vn=Promise.resolve();let yn=!1;function _n(n){wn.push(n)}function bn(){const n=new Set;do{for(;gn.length;){const n=gn.shift();fn(n),Sn(n.$$)}for(;$n.length;)$n.pop()();for(let t=0;t<wn.length;t+=1){const e=wn[t];n.has(e)||(e(),n.add(e))}wn.length=0}while(gn.length);for(;On.length;)On.pop()();yn=!1}function Sn(n){n.fragment&&(n.update(n.dirty),en(n.before_update),n.fragment.p(n.dirty,n.ctx),n.dirty=null,n.after_update.forEach(_n))}const Pn=new Set;let xn;function Nn(){xn={r:0,c:[],p:xn}}function En(){xn.r||en(xn.c),xn=xn.p}function Tn(n,t){n&&n.i&&(Pn.delete(n),n.i(t))}function Cn(n,t,e,s){if(n&&n.o){if(Pn.has(n))return;Pn.add(n),xn.c.push(()=>{Pn.delete(n),s&&(e&&n.d(1),s())}),n.o(t)}}function jn(n,t){Cn(n,1,1,()=>{t.delete(n.key)})}function Dn(n,t){const e={},s={},i={$$scope:1};let o=n.length;for(;o--;){const r=n[o],a=t[o];if(a){for(const n in r)n in a||(s[n]=1);for(const n in a)i[n]||(e[n]=a[n],i[n]=1);n[o]=a}else for(const n in r)i[n]=1}for(const n in s)n in e||(e[n]=void 0);return e}function An(n,t,e){const{fragment:s,on_mount:i,on_destroy:o,after_update:r}=n.$$;s.m(t,e),_n(()=>{const t=i.map(nn).filter(sn);o?o.push(...t):en(t),n.$$.on_mount=[]}),r.forEach(_n)}function In(n,t){n.$$.fragment&&(en(n.$$.on_destroy),n.$$.fragment.d(t),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={})}function kn(n,t){n.$$.dirty||(gn.push(n),yn||(yn=!0,vn.then(bn)),n.$$.dirty=tn()),n.$$.dirty[t]=!0}function Mn(n,t,e,s,i,o){const r=ln;fn(n);const a=t.props||{},c=n.$$={fragment:null,ctx:null,props:o,update:Y,not_equal:i,bound:tn(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(r?r.$$.context:[]),callbacks:tn(),dirty:null};let u=!1;c.ctx=e?e(n,a,(t,e)=>{c.ctx&&i(c.ctx[t],c.ctx[t]=e)&&(c.bound[t]&&c.bound[t](e),u&&kn(n,t))}):a,c.update(),u=!0,en(c.before_update),c.fragment=s(c.ctx),t.target&&(t.hydrate?c.fragment.l(function(n){return Array.from(n.childNodes)}(t.target)):c.fragment.c(),t.intro&&Tn(n.$$.fragment),An(n,t.target,t.anchor),bn()),fn(r)}class Fn{$destroy(){In(this,1),this.$destroy=Y}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}const Rn=[];function qn(n,t=Y){let e;const s=[];function i(t){if(on(n,t)&&(n=t,e)){const t=!Rn.length;for(let t=0;t<s.length;t+=1){const e=s[t];e[1](),Rn.push(e,n)}if(t){for(let n=0;n<Rn.length;n+=2)Rn[n][0](Rn[n+1]);Rn.length=0}}}return{set:i,update:function(t){i(t(n))},subscribe:function(o,r=Y){const a=[o,r];return s.push(a),1===s.length&&(e=t(i)||Y),o(n),()=>{const n=s.indexOf(a);-1!==n&&s.splice(n,1),0===s.length&&(e(),e=null)}}}}function Hn(n,t,e){const s=!Array.isArray(n),i=s?[n]:n,o=t.length<2;return{subscribe:qn(e,n=>{let e=!1;const r=[];let a=0,c=Y;const u=()=>{if(a)return;c();const e=t(s?r[0]:r,n);o?n(e):c=sn(e)?e:Y},p=i.map((n,t)=>n.subscribe(n=>{r[t]=n,a&=~(1<<t),e&&u()},()=>{a|=1<<t}));return e=!0,u(),function(){en(p),c()}}).subscribe}}const Kn={...qn(f),...h};f.map(n=>Kn.set({...n,...h}));const Jn=n=>t=>Hn(Kn,()=>h.getCount(n,t)),Ln=n=>t=>e=>Hn(Kn,()=>R("isPaused")(n)(t)(e)),Bn=n=>t=>e=>Hn(Kn,()=>K(n)(t)(e)),zn={...V,getCount:n=>Jn(V.ns)(n),isPaused:n=>Ln(V.ns)(V.defaultSpawnOptions)(n),exists:n=>Bn(V.ns)(V.defaultSpawnOptions)(n)},Gn={...W,getCount:n=>Jn(W.ns)(n),isPaused:n=>Ln(W.ns)(W.defaultSpawnOptions)(n),exists:n=>Bn(W.ns)(W.defaultSpawnOptions)(n)},Xn=n=>(t,e)=>{const s=h.find(n,t.detail.spawnOptions);s.just&&((n,t)=>{t.transitionOptions.domElement=n})(t.detail.domElement,s.just);const i=h.find(n,t.detail.spawnOptions);i.just&&e(i.just)},Qn=n=>t=>Xn(n)(t,X),Un=n=>t=>Xn(n)(t,X),Vn=n=>t=>Xn(n)(t,Q);function Wn(n){var t,e,s=[{show:n.show},{hide:n.hide},n.instanceOptions],i=n.transitionOptions.component;function o(n){let t={};for(var e=0;e<s.length;e+=1)t=Z(t,s[e]);return{props:t}}if(i)var r=new i(o());for(var a=[{class:n.R_classNames},n.elementProps],c={},u=0;u<a.length;u+=1)c=Z(c,a[u]);return{c(){var n;n="div",t=document.createElement(n),r&&r.$$.fragment.c(),dn(t,c)},m(s,i){an(s,t,i),r&&An(r,t,null),n.div_binding(t),e=!0},p(n,e){var c=n.show||n.hide||n.instanceOptions?Dn(s,[n.show&&{show:e.show},n.hide&&{hide:e.hide},n.instanceOptions&&e.instanceOptions]):{};if(i!==(i=e.transitionOptions.component)){if(r){Nn();const n=r;Cn(n.$$.fragment,1,0,()=>{In(n,1)}),En()}i?((r=new i(o())).$$.fragment.c(),Tn(r.$$.fragment,1),An(r,t,null)):r=null}else i&&r.$set(c);dn(t,Dn(a,[n.R_classNames&&{class:e.R_classNames},n.elementProps&&e.elementProps]))},i(n){e||(r&&Tn(r.$$.fragment,n),e=!0)},o(n){r&&Cn(r.$$.fragment,n),e=!1},d(e){e&&cn(t),r&&In(r),n.div_binding(null)}}}function Yn(n,t,e){const s=hn();let i,{spawnOptions:o,instanceOptions:r,transitionOptions:a}=t;const c=n=>s(n,{spawnOptions:o,domElement:i});let u,p;return mn(()=>{c("mount")}),n.$set=n=>{"spawnOptions"in n&&e("spawnOptions",o=n.spawnOptions),"instanceOptions"in n&&e("instanceOptions",r=n.instanceOptions),"transitionOptions"in n&&e("transitionOptions",a=n.transitionOptions)},n.$$.update=(n={transitionOptions:1,instanceOptions:1,R_classNames:1})=>{(n.transitionOptions||n.instanceOptions)&&e("R_classNames",u=[,a.className,r.className].join(" ")),n.R_classNames&&e("elementProps",p={class:u})},{domElement:i,spawnOptions:o,instanceOptions:r,transitionOptions:a,show:()=>{c("show")},hide:()=>{c("hide")},R_classNames:u,elementProps:p,div_binding:function(n){$n[n?"unshift":"push"](()=>{e("domElement",i=n)})}}}class Zn extends Fn{constructor(n){super(),Mn(this,n,Yn,Wn,on,["spawnOptions","instanceOptions","transitionOptions"])}}function nt(n,t,e){const s=Object.create(n);return s.spawnOptions=t[e].spawnOptions,s.transitionOptions=t[e].transitionOptions,s.instanceOptions=t[e].instanceOptions,s.key=t[e].key,s.index=e,s}function tt(n,t){var e,s,i=new Zn({props:{spawnOptions:t.spawnOptions,transitionOptions:t.transitionOptions,instanceOptions:t.instanceOptions}});return i.$on("mount",t.nsOnInstanceMounted),i.$on("show",t.nsOnShowInstance),i.$on("hide",t.nsOnHideInstance),{key:n,first:null,c(){e=un(),i.$$.fragment.c(),this.first=e},m(n,t){an(n,e,t),An(i,n,t),s=!0},p(n,t){var e={};(n.filterCandidates||n.ns||n.$appState||n.spawnOptions)&&(e.spawnOptions=t.spawnOptions),(n.filterCandidates||n.ns||n.$appState||n.spawnOptions)&&(e.transitionOptions=t.transitionOptions),(n.filterCandidates||n.ns||n.$appState||n.spawnOptions)&&(e.instanceOptions=t.instanceOptions),i.$set(e)},i(n){s||(Tn(i.$$.fragment,n),s=!0)},o(n){Cn(i.$$.fragment,n),s=!1},d(n){n&&cn(e),In(i,n)}}}function et(n){var t,e,s=[],i=new Map,o=T(n.ns,n.$appState.store,n.spawnOptions);const r=n=>n.key;for(var a=0;a<o.length;a+=1){let t=nt(n,o,a),e=r(t);i.set(e,s[a]=tt(e,t))}return{c(){for(a=0;a<s.length;a+=1)s[a].c();t=un()},m(n,i){for(a=0;a<s.length;a+=1)s[a].m(n,i);an(n,t,i),e=!0},p(n,e){const o=T(e.ns,e.$appState.store,e.spawnOptions);Nn(),s=function(n,t,e,s,i,o,r,a,c,u,p,d){let l=n.length,f=o.length,m=l;const h={};for(;m--;)h[n[m].key]=m;const g=[],$=new Map,w=new Map;for(m=f;m--;){const n=d(i,o,m),a=e(n);let c=r.get(a);c?s&&c.p(t,n):(c=u(a,n)).c(),$.set(a,g[m]=c),a in h&&w.set(a,Math.abs(m-h[a]))}const O=new Set,v=new Set;function y(n){Tn(n,1),n.m(a,p),r.set(n.key,n),p=n.first,f--}for(;l&&f;){const t=g[f-1],e=n[l-1],s=t.key,i=e.key;t===e?(p=t.first,l--,f--):$.has(i)?!r.has(s)||O.has(s)?y(t):v.has(i)?l--:w.get(s)>w.get(i)?(v.add(s),y(t)):(O.add(i),l--):(c(e,r),l--)}for(;l--;){const t=n[l];$.has(t.key)||c(t,r)}for(;f;)y(g[f-1]);return g}(s,n,r,1,e,o,i,t.parentNode,jn,tt,t,nt),En()},i(n){if(!e){for(var t=0;t<o.length;t+=1)Tn(s[t]);e=!0}},o(n){for(a=0;a<s.length;a+=1)Cn(s[a]);e=!1},d(n){for(a=0;a<s.length;a+=1)s[a].d(n);n&&cn(t)}}}function st(n,t,e){let s;!function(n,t,e){n.$$.on_destroy.push(function(n,t){const e=n.subscribe(t);return e.unsubscribe?()=>e.unsubscribe():e}(t,e))}(n,Kn,n=>{e("$appState",s=n)});let{spawnOptions:i,ns:o}=t;const r=Qn(o),a=Un(o),c=Vn(o);return n.$set=n=>{"spawnOptions"in n&&e("spawnOptions",i=n.spawnOptions),"ns"in n&&e("ns",o=n.ns)},{spawnOptions:i,ns:o,nsOnInstanceMounted:r,nsOnShowInstance:a,nsOnHideInstance:c,$appState:s}}class it extends Fn{constructor(n){super(),Mn(this,n,st,et,on,["spawnOptions","ns"])}}function ot(n){var t,e=new it({props:{spawnOptions:n.spawnOptions,ns:n.ns}});return{c(){e.$$.fragment.c()},m(n,s){An(e,n,s),t=!0},p(n,t){var s={};n.spawnOptions&&(s.spawnOptions=t.spawnOptions),n.ns&&(s.ns=t.ns),e.$set(s)},i(n){t||(Tn(e.$$.fragment,n),t=!0)},o(n){Cn(e.$$.fragment,n),t=!1},d(n){In(e,n)}}}function rt(n,t,e){let{type:s,ns:i=s.ns,spawn:o,id:r,onMount:a}=t;const c={id:r||s.defaultId,spawn:o||s.defaultSpawn};return mn(()=>{"function"==typeof a&&a()}),n.$set=n=>{"type"in n&&e("type",s=n.type),"ns"in n&&e("ns",i=n.ns),"spawn"in n&&e("spawn",o=n.spawn),"id"in n&&e("id",r=n.id),"onMount"in n&&e("onMount",a=n.onMount)},{type:s,ns:i,spawn:o,id:r,onMount:a,spawnOptions:c}}class at extends Fn{constructor(n){super(),Mn(this,n,rt,ot,on,["type","ns","spawn","id","onMount"])}}function ct(n){var t,e=[n.$$props,{type:zn}];let s={};for(var i=0;i<e.length;i+=1)s=Z(s,e[i]);var o=new at({props:s});return{c(){o.$$.fragment.c()},m(n,e){An(o,n,e),t=!0},p(n,t){var s=n.$$props||n.dialog?Dn(e,[n.$$props&&t.$$props,n.dialog&&{type:zn}]):{};o.$set(s)},i(n){t||(Tn(o.$$.fragment,n),t=!0)},o(n){Cn(o.$$.fragment,n),t=!1},d(n){In(o,n)}}}function ut(n,t,e){return n.$set=n=>{e("$$props",t=Z(Z({},t),n))},{$$props:t,$$props:t=rn(t)}}function pt(n){var t,e=[n.$$props,{type:Gn}];let s={};for(var i=0;i<e.length;i+=1)s=Z(s,e[i]);var o=new at({props:s});return{c(){o.$$.fragment.c()},m(n,e){An(o,n,e),t=!0},p(n,t){var s=n.$$props||n.notification?Dn(e,[n.$$props&&t.$$props,n.notification&&{type:Gn}]):{};o.$set(s)},i(n){t||(Tn(o.$$.fragment,n),t=!0)},o(n){Cn(o.$$.fragment,n),t=!1},d(n){In(o,n)}}}function dt(n,t,e){return n.$set=n=>{e("$$props",t=Z(Z({},t),n))},{$$props:t,$$props:t=rn(t)}}n.Dialog=class extends Fn{constructor(n){super(),Mn(this,n,ut,ct,on,[])}},n.Dialogical=at,n.Notification=class extends Fn{constructor(n){super(),Mn(this,n,dt,pt,on,[])}},n.dialog=zn,n.notification=Gn,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=dialogic-svelte.js.map
