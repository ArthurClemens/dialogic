{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/mithril/mithril.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/regenerator/index.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///(webpack)/buildin/global.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/timers-browserify/main.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/setimmediate/setImmediate.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/process/browser.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/regenerator-runtime/runtime.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./cypress-tests/utils.ts","webpack:///./cypress-tests/createFns.ts","webpack:///./content/Default.ts","webpack:///./cypress-tests/buttons.ts","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/dist/dialogic-mithril.mjs","webpack:///./cypress-tests/Remaining.ts","webpack:///./cypress-tests/LibBulmaDialog.ts","webpack:///./cypress-tests/LibMaterialIODialog.ts","webpack:///./index.ts","webpack:///./cypress-tests/DialogClassName.ts","webpack:///./cypress-tests/DialogClassNameDelay.ts","webpack:///./cypress-tests/DialogStyles.ts","webpack:///./cypress-tests/DialogIds.ts","webpack:///./cypress-tests/DialogCount.ts","webpack:///./cypress-tests/DialogHideAll.ts","webpack:///./cypress-tests/DialogResetAll.ts","webpack:///./cypress-tests/DialogTimeout.ts","webpack:///./cypress-tests/DialogQueued.ts","webpack:///./cypress-tests/NotificationCount.ts","webpack:///./cypress-tests/NotificationPause.ts","webpack:///./cypress-tests/NotificationTimeout.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Vnode","tag","attrs0","children0","text","dom","attrs","children","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","String","input","length","isKeyed","TypeError","hyperscriptVnode","children1","attrs1","arguments","this","start","push","selectorParser","selectorCache","hasOwn","isEmpty","hyperscript","selector","view","Error","vnode","apply","hasClass","className","class","newAttrs","execSelector","match","classes","exec","type","id","attrValue","replace","join","compileSelector","trust","html","fragment","vnode2","PromisePolyfill","executor","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","console","error","retry","executeOnce","e","runs","run","fn","onerror","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","resolve","reject","catch","finally","reason","all","total","count","values","consume","race","window","Promise","global","render","$window","currentRedraw","$doc","document","nameSpace","svg","math","getNameSpace","vnode3","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","children3","firstChild","childNodes","createFragment","attrs2","is","element","createElementNS","createElement","setAttr","setAttrs","maybeSetContentEditable","textContent","selectedIndex","normalized","setLateSelectAttrs","sentinel","$$reentrantLock$$","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","match0","temp","innerHTML","child","appendChild","updateNodes","old","removeNodes","isOldKeyed","isKeyed0","oldStart","v","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","moveNodes","map","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","a","result","u","il","lisTemp","j","makeLisIndices","commonLength","removeNode","oldTag","force","onbeforeupdate","shouldNotUpdate","updateLifecycle","toString","nodeValue","updateText","removeHTML","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","frag","moveChildToFrag","parentNode","insertBefore","contenteditable","contentEditable","content","stateResult","attrsResult","mask","onbeforeremove","reallyRemove","onremove","removeChild","isLifecycleMethod","attr","isFormAttribute","updateEvent","slice","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","nsLastIndex","indexOf","uppercaseRegex","toLowerCase","capital","normalizeKey","style","cssText","setProperty","removeProperty","EventDict","_","removeEventListener","addEventListener","source","oninit","oncreate","onupdate","handleEvent","ev","handler0","currentTarget","redraw","preventDefault","stopPropagation","active","namespace","namespaceURI","prevRedraw","focus","_12","mountRedraw0","render0","schedule","subscriptions","rendering","pending","sync","mount","root","component","index","splice","_15","requestAnimationFrame","buildQueryString","args","key2","destructure","value1","encodeURIComponent","assign","target","keys","forEach","key3","buildPathname","template","params","test","SyntaxError","queryIndex","hashIndex","queryEnd","pathEnd","path","query","resolved","m2","key1","variadic","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","result0","querystring","request","oncompletion","callbackCount","PromiseProxy","makeRequest","factory","url","promise1","data","background","complete","wrap","then1","constructor","next0","hasHeader","key0","headers","__proto__","replacedAbort","method","toUpperCase","body","assumeJSON","serialize","JSON","FormData","responseType","extract","xhr","XMLHttpRequest","aborted","original0","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","timeout","onreadystatechange","readyState","message","success","status","response","parse","responseText","code","config","send","stringify","jsonp","callbackName","Math","round","random","script","src","callbackKey","documentElement","_18","mountRedraw","m3","parseQueryString","string","charAt","entries","split","counters","data0","entry","key5","decodeURIComponent","value2","levels","cursor","pop","j0","level","nextLevel","isNumber","isNaN","parseInt","desc","getOwnPropertyDescriptor","parsePathname","queryIndex0","hashIndex0","queryEnd0","pathEnd0","path1","compileTemplate","templateData","templateKeys","regexp","RegExp","m4","key6","extra","k","data1","sentinel0","route","mountRedraw00","fireAsync","setPath","path0","options","title","history","replaceState","prefix","pushState","location","href","attrs3","currentPath","lastUpdate","currentResolver","SKIP","defaultRoute","routes","onremove0","compiled","check","callAsync0","scheduled","defaultData","some","ReferenceError","resolveRoute","hash","search","pathname","concat","fail","loop","payload","matchedRoute","localComp","update","comp","onmatch","vnode5","set","Link","onclick","child0","disabled","Boolean","result1","defaultPrevented","button","which","ctrlKey","metaKey","shiftKey","altKey","param","key4","_25","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","asyncGeneratorStep","gen","_next","_throw","arg","info","done","err","g","Function","arrayWithHoles","iterableToArrayLimit","nonIterableRest","obj","configurable","writable","Timeout","clearFn","_id","_clearFn","scope","clearTimeout","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","clearImmediate","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","process","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","attachEvent","task","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","marker","runClearTimeout","Item","array","noop","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","runtime","Op","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","iter","reverse","skipTempReset","prev","stop","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_arr","_n","_d","_e","_s","_i","arr2","from","getRandomId","createFns","spawn","styles","queued","contentId","props","dialogic","showFn","show","hideFn","hide","Default","log","buttons","genName","pipe","fns","x","filter","reduce","y","f","getStyleValue","domElement","prop","getComputedStyle","defaultView","getPropertyValue","MODE","applyTransitionStyles","step","transitionStyle","createClassList","applyStylesForState","isEnterStep","getTransitionStyles","transitionDuration","applyNoDurationTransitionStyle","transitionClassNames","showStart","showEnd","hideStart","hideEnd","classList","remove","removeTransitionClassNames","add","scrollTop","steps","nextStep","transition","currentStep","duration","durationStyleValue","durationValue","styleDurationToMs","delayStyleValue","getDuration","durationStr","parsed","parseFloat","stream","createCommonjsModule","Stream","lift","merge","streams","scan","acc","origin","combine","scanMerge","tuples","seed","tuple","changed","warnedHalt","dependentStreams","dependentFns","_changing","_state","_parents","_map","ignoreInitial","toJSON","s1","s2","_unregisterChild","childIndex","ready","every","mappers","endStream","mapper","itemIndex","items","find","findItem","createId","identityOptions","store","initialState","actions","timer","states","refresh","remaining","removeItem","newItem","removeAll","newItems","selectors","getStore","just","nothing","getAll","itemsBySpawn","getCount","patch","isPaused","onAbort","onDone","startTime","timeoutFn","timerId","appendStopTimeout","appendPauseTimer","getRemaining","Date","getTime","Timer","updateState","appendStartTimer","appendStopTimer","pause","resume","minimumDuration","max","appendResumeTimer","getResultPromise","uid","getUid","Number","MAX_SAFE_INTEGER","transitionStates","performOnItem","defaultDialogicOptions","maybeItem","getMaybeItem","getMergedIdentityOptions","filterBySpawn","filterFirstInQueue","nsItems","queuedCount","queueCount","dialogicOptions","getPassThroughOptions","copy","handleOptions","mergedIdentityOptions","passThroughOptions","callbacks","didShow","didHide","transitionState","maybeExistingItem","toggle","hideResult","existingItem","replacingItem","hideItem","commandOptions","getTimerProperty","timerProp","getRemaining$1","exists","getValidItems","allItems","resetAll","validItems","getOverridingTransitionOptions","hideAll","regularItems","queuedItems","current","transitionItem","deferredHideItem","showItem","dialogical","defaultId","defaultSpawn","dialog","notification","handleDispatch","detail","maybeTransitioningItem","Instance","componentAttrs","dispatchTransition","dispatchFn","onShow","onHide","onMount","Wrapper","nsOnInstanceMounted","nsOnShowInstance","onShowInstance","nsOnHideInstance","onHideInstance","filterCandidates","Dialogical","Dialog","Notification","Remaining","reqId","displayValue","cancelAnimationFrame","DemoContent","BulmaDialogComponent","isModal","MaterialIODialogComponent","substr","height","getBoundingClientRect","default","opacity","transform","fns1","fns2","fns3","fns4","mountNode","getElementById"],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n",";(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children0, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children0, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children0 = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren0[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children0\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children1) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children1.length === 1 && Array.isArray(children1[0])) children1 = children1[0]\n//     } else {\n//         children1 = children1.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children1]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children1)\n// }\nvar hyperscriptVnode = function() {\n\tvar attrs1 = arguments[this], start = this + 1, children1\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren1 = arguments[start]\n\t\tif (!Array.isArray(children1)) children1 = [children1]\n\t} else {\n\t\tchildren1 = []\n\t\twhile (start < arguments.length) children1.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children1)\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\treturn vnode\n}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\tvnode.tag = selector\n\treturn vnode\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function() {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar _12 = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode3, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode3, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode3, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode3.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode3.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children3 = vnode3.children\n\t\t\tcreateNodes(fragment, children3, 0, children3.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (!maybeSetContentEditable(vnode3)) {\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tif (vnode3.text !== \"\") element.textContent = vnode3.text\n\t\t\t\telse vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children3 = vnode3.children\n\t\t\t\tcreateNodes(element, children3, 0, children3.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render0()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render0()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render0 hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then0 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed0 = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed0) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed0 === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed0) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed0) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode3); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode3, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode3, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t\tvnode3.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children3 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children3 != null) {\n\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\tvar child = children3[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tvnode3.attrs.value = vnode3.text //FIXME handle0 multiple children3\n\t\t\t\tvnode3.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode3)) {\n\t\t\tif (old.text != null && vnode3.text != null && vnode3.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode3.text.toString()) old.dom.firstChild.nodeValue = vnode3.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode3.text != null) vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise0 in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children3 still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm0 not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode3, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode3)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode3) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode3.dom != null && vnode3.dom.parentNode === parent) {\n\t\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\t\tvnode3 = vnode3.instance\n\t\t\t\tif (vnode3 != null) continue\n\t\t\t} else if (vnode3.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode3.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode3.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode3.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode3.dom)\n\t\t\t} else if (vnode3.children.length === 1) {\n\t\t\t\tvnode3 = vnode3.children[0]\n\t\t\t\tif (vnode3 != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode3.children.length; i++) {\n\t\t\t\t\tvar child = vnode3.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction maybeSetContentEditable(vnode3) {\n\t\tif (vnode3.attrs == null || (\n\t\t\tvnode3.attrs.contenteditable == null && // attribute\n\t\t\tvnode3.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children3 = vnode3.children\n\t\tif (children3 != null && children3.length === 1 && children3[0].tag === \"<\") {\n\t\t\tvar content = children3[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode3.text != null || children3 != null && children3.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(parent, vnode3)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode3) {\n\t\tvar mask = 0\n\t\tvar original = vnode3.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode3, original)\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode3)\n\t\t\tremoveChild(parent, vnode3)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode3, original)\n\t\t\tonremove(vnode3)\n\t\t\tremoveChild(parent, vnode3)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode3) {\n\t\tfor (var i = 0; i < vnode3.instance.length; i++) {\n\t\t\tparent.removeChild(vnode3.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode3) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode3.dom != null && vnode3.dom.parentNode === parent) {\n\t\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\t\tvnode3 = vnode3.instance\n\t\t\t\tif (vnode3 != null) continue\n\t\t\t} else if (vnode3.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode3)\n\t\t\t} else {\n\t\t\t\tif (vnode3.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t\tif (!Array.isArray(vnode3.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode3.children.length === 1) {\n\t\t\t\t\tvnode3 = vnode3.children[0]\n\t\t\t\t\tif (vnode3 != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode3.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode3.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children3 = vnode3.children\n\t\t\tif (Array.isArray(children3)) {\n\t\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\t\tvar child = children3[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode3, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && vnode3.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type0 that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode3.tag === \"input\" && key === \"type\") vnode3.dom.setAttribute(key, value)\n\t\t\telse vnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif(attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag === \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children3 and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode3.attrs = old.attrs\n\t\tvnode3.children = old.children\n\t\tvnode3.text = old.text\n\t\treturn true\n\t}\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\nvar render = _12(window)\nvar _15 = function(render0, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render0(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\tredraw.sync = sync\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender0(root, [], redraw)\n\t\t}\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender0(root, Vnode(component), redraw)\n\t\t}\n\t}\n\treturn {mount: mount, redraw: redraw}\n}\nvar mountRedraw0 = _15(render, requestAnimationFrame, console)\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key2 in object) {\n\t\tdestructure(key2, object[key2])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key2, value1) {\n\t\tif (Array.isArray(value1)) {\n\t\t\tfor (var i = 0; i < value1.length; i++) {\n\t\t\t\tdestructure(key2 + \"[\" + i + \"]\", value1[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value1) === \"[object Object]\") {\n\t\t\tfor (var i in value1) {\n\t\t\t\tdestructure(key2 + \"[\" + i + \"]\", value1[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key2) + (value1 != null && value1 !== \"\" ? \"=\" + encodeURIComponent(value1) : \"\"))\n\t}\n}\nvar assign = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key3) { target[key3] = source[key3] })\n}\n// Returns `path` from `template` + `params`\nvar buildPathname = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\tassign(query, params)\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m2, key1, variadic) {\n\t\tdelete query[key1]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key1] == null) return m2\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key1] : encodeURIComponent(String(params[key1]))\n\t})\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result0 = resolved.slice(0, newPathEnd)\n\tif (queryIndex >= 0) result0 += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result0 += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result0 += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result0 += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result0 += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result0\n}\nvar _18 = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\t// In case the global Promise is0 some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value0)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise1 = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise1\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\t\t\treturn wrap(promise1)\n\t\t\tfunction wrap(promise1) {\n\t\t\t\tvar then1 = promise1.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise1. At the time of writing, this is0\n\t\t\t\t// only necessary for V8, but their behavior is0 the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request0/tests/test-request0.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise1.constructor = PromiseProxy\n\t\t\t\tpromise1.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next0 = then1.apply(promise1, arguments)\n\t\t\t\t\tnext0.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next0)\n\t\t\t\t}\n\t\t\t\treturn promise1\n\t\t\t}\n\t\t}\n\t}\n\tfunction hasHeader(args, name) {\n\t\tfor (var key0 in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key0) && name.test(key0)) return true\n\t\t}\n\t\treturn false\n\t}\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original0 = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content0-type1$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\t\t\tfor (var key0 in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key0)) {\n\t\t\t\t\txhr.setRequestHeader(key0, args.headers[key0])\n\t\t\t\t}\n\t\t\t}\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type1 isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is0 the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is0 needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original0) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\nvar request = _18(window, PromisePolyfill, mountRedraw0.redraw)\nvar mountRedraw = mountRedraw0\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nvar m3 = hyperscript\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), counters = {}, data0 = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value2 = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value2 === \"true\") value2 = true\n\t\telse if (value2 === \"false\") value2 = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key5] == null) {\n\t\t\t\t\tcounters[key5] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j0 === levels.length - 1) cursor[level] = value2\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data0\n}\n// Returns `{path1, params}` from `url`\nvar parsePathname = function(url) {\n\tvar queryIndex0 = url.indexOf(\"?\")\n\tvar hashIndex0 = url.indexOf(\"#\")\n\tvar queryEnd0 = hashIndex0 < 0 ? url.length : hashIndex0\n\tvar pathEnd0 = queryIndex0 < 0 ? queryEnd0 : queryIndex0\n\tvar path1 = url.slice(0, pathEnd0).replace(/\\/{2,}/g, \"/\")\n\tif (!path1) path1 = \"/\"\n\telse {\n\t\tif (path1[0] !== \"/\") path1 = \"/\" + path1\n\t\tif (path1.length > 1 && path1[path1.length - 1] === \"/\") path1 = path1.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path1,\n\t\tparams: queryIndex0 < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex0 + 1, queryEnd0)),\n\t}\n}\n// Compiles a template into a function that takes a resolved0 path2 (without query0\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled0 template to be the\n// output of `parsePathname`. Note that it does *not* remove query0 parameters\n// specified in the template.\nvar compileTemplate = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is2 all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m4, key6, extra) {\n\t\t\tif (key6 == null) return \"\\\\\" + m4\n\t\t\tkeys.push({k: key6, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data1) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data1.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data1.path)\n\t\tvar values = regexp.exec(data1.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata1.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\nvar sentinel0 = {}\nvar _25 = function($window, mountRedraw00) {\n\tvar fireAsync\n\tfunction setPath(path0, data, options) {\n\t\tpath0 = buildPathname(path0, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path0)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path0)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path0\n\t\t}\n\t}\n\tvar currentResolver = sentinel0, component, attrs3, currentPath, lastUpdate\n\tvar SKIP = route.SKIP = {}\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start0\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove0\n\t\tfireAsync = null\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is1 consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path0 = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path0)\n\t\t\tassign(data.params, $window.history.state)\n\t\t\tfunction fail() {\n\t\t\t\tif (path0 === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs3 = data.params, currentPath = path0, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw00.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw00.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path0, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\t\t// Set it unconditionally so `m3.route.set` and `m3.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is1 used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync0(resolveRoute)\n\t\t\t}\n\t\t}\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove0 = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove0 = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\t\treturn mountRedraw00.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel0 === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove0,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel0 === currentResolver) return\n\t\t\t\t// Wrap in a fragment0 to preserve existing key4 semantics\n\t\t\t\tvar vnode5 = [Vnode(component, attrs3.key, attrs3)]\n\t\t\t\tif (currentResolver) vnode5 = currentResolver.render(vnode5[0])\n\t\t\t\treturn vnode5\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path0, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path0, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode5) {\n\t\t\tvar options = vnode5.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs3 = {}, onclick, href\n\t\t\tassign(attrs3, vnode5.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering0.\n\t\t\tattrs3.selector = attrs3.options = attrs3.key = attrs3.oninit =\n\t\t\tattrs3.oncreate = attrs3.onbeforeupdate = attrs3.onupdate =\n\t\t\tattrs3.onbeforeremove = attrs3.onremove = null\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child0 = m3(vnode5.attrs.selector || \"a\", attrs3, vnode5.children)\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is1 coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child0.attrs.disabled = Boolean(child0.attrs.disabled)) {\n\t\t\t\tchild0.attrs.href = null\n\t\t\t\tchild0.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild0.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child0.attrs.onclick\n\t\t\t\thref = child0.attrs.href\n\t\t\t\tchild0.attrs.href = route.prefix + href\n\t\t\t\tchild0.attrs.onclick = function(e) {\n\t\t\t\t\tvar result1\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult1 = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle1 links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult1 !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle1 `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child0\n\t\t},\n\t}\n\troute.param = function(key4) {\n\t\treturn attrs3 && key4 != null ? attrs3[key4] : attrs3\n\t}\n\treturn route\n}\nm.route = _25(window, mountRedraw)\nm.render = render\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.parsePathname = parsePathname\nm.buildPathname = buildPathname\nm.vnode = Vnode\nm.PromisePolyfill = PromisePolyfill\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","export const getRandomId = () => Math.round(1000 * Math.random()).toString();\n","import { getRandomId } from \"./utils\";\nexport const createFns = ({ instance, component, className, title, id, spawn, styles, timeout, queued }) => {\n    const contentId = `${id ? `id${id}` : ''}${spawn ? `spawn${spawn}` : ''}`;\n    const props = {\n        dialogic: {\n            component: component,\n            className,\n            styles,\n            id,\n            spawn,\n            ...(spawn !== undefined\n                ? { spawn }\n                : undefined),\n            ...(timeout !== undefined\n                ? { timeout }\n                : undefined),\n            ...(queued !== undefined\n                ? { queued }\n                : undefined),\n        },\n        className: \"instance-content\",\n        id: getRandomId(),\n        contentId\n    };\n    const showFn = () => instance.show({\n        ...props,\n        title: `${title} ${getRandomId()}`,\n    });\n    const hideFn = () => instance.hide({\n        ...props,\n        title: `${title} ${getRandomId()} hiding`,\n    });\n    return {\n        showFn,\n        hideFn\n    };\n};\n","import m from \"mithril\";\nexport const Default = {\n    view: ({ attrs }) => {\n        console.log(\"attrs.title\", attrs.title);\n        return m(\"div\", {\n            className: attrs.className,\n            \"data-test-id\": `content-default${attrs.contentId ? `-${attrs.contentId}` : ''}`\n        }, [\n            m(\"h2\", attrs.title),\n            m(\"button\", {\n                className: \"button\",\n                onclick: () => attrs.hide(),\n                \"data-test-id\": \"button-hide-content\",\n            }, \"Hide from component\")\n        ]);\n    }\n};\n","import m from \"mithril\";\nexport const buttons = ({ showFn, hideFn, id, spawn, name }) => {\n    const genName = name || `${id ? `id${id}` : ''}${spawn ? `spawn${spawn}` : ''}` || \"default\";\n    return m(\"div\", { className: \"buttons\" }, [\n        showFn && m(\"button\", {\n            className: \"button primary\",\n            onclick: showFn,\n            \"data-test-id\": `button-show-${genName}`\n        }, `Show ${genName}`),\n        hideFn && m(\"button\", {\n            className: \"button\",\n            onclick: hideFn,\n            \"data-test-id\": `button-hide-${genName}`\n        }, `Hide ${genName}`),\n    ]);\n};\n","import m from 'mithril';\n\nconst pipe = (...fns) => (x) => fns.filter(Boolean).reduce((y, f) => f(y), x);\r\nconst getStyleValue = ({ domElement, prop }) => {\r\n    if (window.getComputedStyle) {\r\n        const defaultView = document.defaultView;\r\n        if (defaultView) {\r\n            const style = defaultView.getComputedStyle(domElement);\r\n            if (style) {\r\n                return style.getPropertyValue(prop);\r\n            }\r\n        }\r\n    }\r\n    return undefined;\r\n};\n\nconst MODE = {\r\n    SHOW: \"show\",\r\n    HIDE: \"hide\"\r\n};\r\nconst removeTransitionClassNames = (domElement, transitionClassNames) => domElement.classList.remove(...transitionClassNames.showStart, ...transitionClassNames.showEnd, ...transitionClassNames.hideStart, ...transitionClassNames.hideEnd);\r\nconst applyTransitionStyles = (domElement, step, styles) => {\r\n    const transitionStyle = styles[step] || {};\r\n    Object.keys(transitionStyle).forEach((key) => {\r\n        const value = transitionStyle[key].toString();\r\n        domElement.style[key] = value;\r\n        // if (domElement.style[key] !== value) {\r\n        // \tconsole.warn(`Invalid style: ${key}: ${value} (${domElement.style[key]})`);\r\n        // }\r\n    });\r\n};\r\nconst applyNoDurationTransitionStyle = (domElement) => domElement.style.transitionDuration = \"0ms\";\r\nconst getTransitionStyles = (domElement, styles) => (typeof styles === \"function\"\r\n    ? styles(domElement)\r\n    : styles) || {};\r\nconst createClassList = (className, step) => className.split(/ /).map((n) => `${n}-${step}`);\r\nconst applyStylesForState = (domElement, props, step, isEnterStep) => {\r\n    if (props.styles) {\r\n        const styles = getTransitionStyles(domElement, props.styles);\r\n        applyTransitionStyles(domElement, \"default\", styles);\r\n        isEnterStep && applyNoDurationTransitionStyle(domElement);\r\n        applyTransitionStyles(domElement, step, styles);\r\n    }\r\n    if (props.className) {\r\n        const transitionClassNames = {\r\n            showStart: createClassList(props.className, \"show-start\"),\r\n            showEnd: createClassList(props.className, \"show-end\"),\r\n            hideStart: createClassList(props.className, \"hide-start\"),\r\n            hideEnd: createClassList(props.className, \"hide-end\"),\r\n        };\r\n        removeTransitionClassNames(domElement, transitionClassNames);\r\n        transitionClassNames && domElement.classList.add(...transitionClassNames[step]);\r\n    }\r\n    // reflow\r\n    domElement.scrollTop;\r\n};\r\nconst getDuration = (domElement) => {\r\n    const durationStyleValue = getStyleValue({ domElement, prop: \"transition-duration\" });\r\n    const durationValue = durationStyleValue !== undefined\r\n        ? styleDurationToMs(durationStyleValue)\r\n        : 0;\r\n    const delayStyleValue = getStyleValue({ domElement, prop: \"transition-delay\" });\r\n    const delayValue = delayStyleValue !== undefined\r\n        ? styleDurationToMs(delayStyleValue)\r\n        : 0;\r\n    return durationValue + delayValue;\r\n};\r\nconst steps = {\r\n    showStart: {\r\n        nextStep: \"showEnd\"\r\n    },\r\n    showEnd: {\r\n        nextStep: undefined\r\n    },\r\n    hideStart: {\r\n        nextStep: \"hideEnd\"\r\n    },\r\n    hideEnd: {\r\n        nextStep: undefined\r\n    },\r\n};\r\nconst transition = (props, mode) => {\r\n    const domElement = props.domElement;\r\n    if (!domElement) {\r\n        return Promise.resolve(\"no domElement\");\r\n    }\r\n    let currentStep = mode === MODE.SHOW\r\n        ? \"showStart\"\r\n        : \"hideStart\";\r\n    return new Promise(resolve => {\r\n        applyStylesForState(domElement, props, currentStep, currentStep === \"showStart\");\r\n        setTimeout(() => {\r\n            const nextStep = steps[currentStep].nextStep;\r\n            if (nextStep) {\r\n                currentStep = nextStep;\r\n                applyStylesForState(domElement, props, currentStep);\r\n                // addEventListener sometimes hangs this function because it never finishes\r\n                // Using setTimeout instead of addEventListener gives more consistent results\r\n                const duration = getDuration(domElement);\r\n                setTimeout(resolve, duration);\r\n            }\r\n        }, 0);\r\n    });\r\n};\r\nconst styleDurationToMs = (durationStr) => {\r\n    const parsed = parseFloat(durationStr) * (durationStr.indexOf(\"ms\") === -1 ? 1000 : 1);\r\n    return isNaN(parsed)\r\n        ? 0\r\n        : parsed;\r\n};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar stream = createCommonjsModule(function (module) {\n(function() {\n/* eslint-enable */\nStream.SKIP = {};\nStream.lift = lift;\nStream.scan = scan;\nStream.merge = merge;\nStream.combine = combine;\nStream.scanMerge = scanMerge;\nStream[\"fantasy-land/of\"] = Stream;\n\nvar warnedHalt = false;\nObject.defineProperty(Stream, \"HALT\", {\n\tget: function() {\n\t\twarnedHalt || console.log(\"HALT is deprecated and has been renamed to SKIP\");\n\t\twarnedHalt = true;\n\t\treturn Stream.SKIP\n\t}\n});\n\nfunction Stream(value) {\n\tvar dependentStreams = [];\n\tvar dependentFns = [];\n\n\tfunction stream(v) {\n\t\tif (arguments.length && v !== Stream.SKIP) {\n\t\t\tvalue = v;\n\t\t\tif (open(stream)) {\n\t\t\t\tstream._changing();\n\t\t\t\tstream._state = \"active\";\n\t\t\t\tdependentStreams.forEach(function(s, i) { s(dependentFns[i](value)); });\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t}\n\n\tstream.constructor = Stream;\n\tstream._state = arguments.length && value !== Stream.SKIP ? \"active\" : \"pending\";\n\tstream._parents = [];\n\n\tstream._changing = function() {\n\t\tif (open(stream)) stream._state = \"changing\";\n\t\tdependentStreams.forEach(function(s) {\n\t\t\ts._changing();\n\t\t});\n\t};\n\n\tstream._map = function(fn, ignoreInitial) {\n\t\tvar target = ignoreInitial ? Stream() : Stream(fn(value));\n\t\ttarget._parents.push(stream);\n\t\tdependentStreams.push(target);\n\t\tdependentFns.push(fn);\n\t\treturn target\n\t};\n\n\tstream.map = function(fn) {\n\t\treturn stream._map(fn, stream._state !== \"active\")\n\t};\n\n\tvar end;\n\tfunction createEnd() {\n\t\tend = Stream();\n\t\tend.map(function(value) {\n\t\t\tif (value === true) {\n\t\t\t\tstream._parents.forEach(function (p) {p._unregisterChild(stream);});\n\t\t\t\tstream._state = \"ended\";\n\t\t\t\tstream._parents.length = dependentStreams.length = dependentFns.length = 0;\n\t\t\t}\n\t\t\treturn value\n\t\t});\n\t\treturn end\n\t}\n\n\tstream.toJSON = function() { return value != null && typeof value.toJSON === \"function\" ? value.toJSON() : value };\n\n\tstream[\"fantasy-land/map\"] = stream.map;\n\tstream[\"fantasy-land/ap\"] = function(x) { return combine(function(s1, s2) { return s1()(s2()) }, [x, stream]) };\n\n\tstream._unregisterChild = function(child) {\n\t\tvar childIndex = dependentStreams.indexOf(child);\n\t\tif (childIndex !== -1) {\n\t\t\tdependentStreams.splice(childIndex, 1);\n\t\t\tdependentFns.splice(childIndex, 1);\n\t\t}\n\t};\n\n\tObject.defineProperty(stream, \"end\", {\n\t\tget: function() { return end || createEnd() }\n\t});\n\n\treturn stream\n}\n\nfunction combine(fn, streams) {\n\tvar ready = streams.every(function(s) {\n\t\tif (s.constructor !== Stream)\n\t\t\tthrow new Error(\"Ensure that each item passed to stream.combine/stream.merge/lift is a stream\")\n\t\treturn s._state === \"active\"\n\t});\n\tvar stream = ready\n\t\t? Stream(fn.apply(null, streams.concat([streams])))\n\t\t: Stream();\n\n\tvar changed = [];\n\n\tvar mappers = streams.map(function(s) {\n\t\treturn s._map(function(value) {\n\t\t\tchanged.push(s);\n\t\t\tif (ready || streams.every(function(s) { return s._state !== \"pending\" })) {\n\t\t\t\tready = true;\n\t\t\t\tstream(fn.apply(null, streams.concat([changed])));\n\t\t\t\tchanged = [];\n\t\t\t}\n\t\t\treturn value\n\t\t}, true)\n\t});\n\n\tvar endStream = stream.end.map(function(value) {\n\t\tif (value === true) {\n\t\t\tmappers.forEach(function(mapper) { mapper.end(true); });\n\t\t\tendStream.end(true);\n\t\t}\n\t\treturn undefined\n\t});\n\n\treturn stream\n}\n\nfunction merge(streams) {\n\treturn combine(function() { return streams.map(function(s) { return s() }) }, streams)\n}\n\nfunction scan(fn, acc, origin) {\n\tvar stream = origin.map(function(v) {\n\t\tvar next = fn(acc, v);\n\t\tif (next !== Stream.SKIP) acc = next;\n\t\treturn next\n\t});\n\tstream(acc);\n\treturn stream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) { return tuple[0] });\n\n\tvar stream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1];\n\t\tstreams.forEach(function(stream, i) {\n\t\t\tif (changed.indexOf(stream) > -1)\n\t\t\t\tseed = tuples[i][1](seed, stream());\n\t\t});\n\n\t\treturn seed\n\t}, streams);\n\n\tstream(seed);\n\n\treturn stream\n}\n\nfunction lift() {\n\tvar fn = arguments[0];\n\tvar streams = Array.prototype.slice.call(arguments, 1);\n\treturn merge(streams).map(function(streams) {\n\t\treturn fn.apply(undefined, streams)\n\t})\n}\n\nfunction open(s) {\n\treturn s._state === \"pending\" || s._state === \"active\" || s._state === \"changing\"\n}\n\nmodule[\"exports\"] = Stream;\n\n}());\n});\n\nconst findItem = (id, items) => {\r\n    return items.find(item => item.id === id);\r\n};\r\nconst itemIndex = (id, items) => {\r\n    const item = findItem(id, items);\r\n    return items.indexOf(item);\r\n};\r\nconst removeItem = (id, items) => {\r\n    const index = itemIndex(id, items);\r\n    if (index !== -1) {\r\n        items.splice(index, 1);\r\n    }\r\n    return items;\r\n};\r\nconst createId = (identityOptions, ns) => [ns, identityOptions.id, identityOptions.spawn].filter(Boolean).join(\"-\");\r\nconst store = {\r\n    initialState: {\r\n        store: {},\r\n    },\r\n    actions: (update) => {\r\n        return {\r\n            /**\r\n             * Add an item to the end of the list.\r\n             */\r\n            add: (ns, item) => {\r\n                update((state) => {\r\n                    const items = state.store[ns] || [];\r\n                    state.store[ns] = [...items, item];\r\n                    if (item.timer) {\r\n                        // When the timer state updates, refresh the store so that UI can pick up the change\r\n                        item.timer.states.map(() => store.actions(update).refresh());\r\n                    }\r\n                    return state;\r\n                });\r\n            },\r\n            /**\r\n             * Removes the first item with a match on `id`.\r\n             */\r\n            remove: (ns, id) => {\r\n                update((state) => {\r\n                    const items = state.store[ns] || [];\r\n                    const remaining = removeItem(id, items);\r\n                    state.store[ns] = remaining;\r\n                    return state;\r\n                });\r\n            },\r\n            /**\r\n             * Replaces the first item with a match on `id` with a newItem.\r\n             */\r\n            replace: (ns, id, newItem) => {\r\n                update((state) => {\r\n                    const items = state.store[ns] || [];\r\n                    if (items) {\r\n                        const index = itemIndex(id, items);\r\n                        if (index !== -1) {\r\n                            items[index] = newItem;\r\n                            state.store[ns] = [...items];\r\n                        }\r\n                    }\r\n                    return state;\r\n                });\r\n            },\r\n            /**\r\n             * Removes all items within a namespace.\r\n             */\r\n            removeAll: (ns) => {\r\n                update((state) => {\r\n                    state.store[ns] = [];\r\n                    return state;\r\n                });\r\n            },\r\n            /**\r\n             * Replaces all items within a namespace.\r\n             */\r\n            store: (ns, newItems) => {\r\n                update((state) => {\r\n                    state.store[ns] = [...newItems];\r\n                    return state;\r\n                });\r\n            },\r\n            refresh: () => {\r\n                update((state) => {\r\n                    return {\r\n                        ...state,\r\n                    };\r\n                });\r\n            },\r\n        };\r\n    },\r\n    selectors: (states) => {\r\n        const fns = {\r\n            getStore: () => {\r\n                const state = states();\r\n                return state.store;\r\n            },\r\n            find: (ns, identityOptions) => {\r\n                const state = states();\r\n                const items = state.store[ns] || [];\r\n                const id = createId(identityOptions, ns);\r\n                const item = items.find((item) => item.id === id);\r\n                return item\r\n                    ? { just: item }\r\n                    : { nothing: undefined };\r\n            },\r\n            getAll: (ns, identityOptions) => {\r\n                const state = states();\r\n                const items = state.store[ns] || [];\r\n                const spawn = identityOptions !== undefined\r\n                    ? identityOptions.spawn\r\n                    : undefined;\r\n                const id = identityOptions !== undefined\r\n                    ? identityOptions.id\r\n                    : undefined;\r\n                const itemsBySpawn = spawn !== undefined\r\n                    ? items.filter(item => item.identityOptions.spawn === spawn)\r\n                    : items;\r\n                const itemsById = id !== undefined\r\n                    ? itemsBySpawn.filter(item => item.identityOptions.id === id)\r\n                    : itemsBySpawn;\r\n                return itemsById;\r\n            },\r\n            getCount: (ns, identityOptions) => fns.getAll(ns, identityOptions).length,\r\n        };\r\n        return fns;\r\n    },\r\n};\r\nconst update = stream();\r\nconst states = stream.scan((state, patch) => patch(state), {\r\n    ...store.initialState,\r\n}, update);\r\nconst actions = {\r\n    ...store.actions(update),\r\n};\r\nconst selectors = {\r\n    ...store.selectors(states),\r\n};\r\n// states.map(state => \r\n//   console.log(JSON.stringify(state, null, 2))\r\n// );\n\nconst initialState = {\r\n    callback: () => { },\r\n    isPaused: undefined,\r\n    onAbort: () => { },\r\n    onDone: () => { },\r\n    promise: undefined,\r\n    remaining: undefined,\r\n    startTime: undefined,\r\n    timeoutFn: () => { },\r\n    timerId: undefined,\r\n};\r\nconst appendStartTimer = (state, callback, duration, updateState) => {\r\n    const timeoutFn = () => {\r\n        callback();\r\n        state.onDone();\r\n        updateState();\r\n    };\r\n    return {\r\n        timeoutFn,\r\n        promise: new Promise((resolve, reject) => {\r\n            state.onDone = () => resolve();\r\n            state.onAbort = () => reject();\r\n        }),\r\n        ...(state.isPaused\r\n            ? {}\r\n            : {\r\n                startTime: new Date().getTime(),\r\n                timerId: window.setTimeout(timeoutFn, duration),\r\n                remaining: duration,\r\n            })\r\n    };\r\n};\r\nconst appendStopTimeout = (state) => {\r\n    window.clearTimeout(state.timerId);\r\n    return {\r\n        timerId: initialState.timerId\r\n    };\r\n};\r\nconst appendStopTimer = (state) => {\r\n    return {\r\n        ...appendStopTimeout(state),\r\n    };\r\n};\r\nconst appendPauseTimer = (state) => {\r\n    return {\r\n        ...appendStopTimeout(state),\r\n        isPaused: true,\r\n        remaining: getRemaining(state)\r\n    };\r\n};\r\nconst appendResumeTimer = (state, minimumDuration) => {\r\n    window.clearTimeout(state.timerId);\r\n    const remaining = minimumDuration\r\n        ? Math.max(state.remaining || 0, minimumDuration)\r\n        : state.remaining;\r\n    return {\r\n        startTime: new Date().getTime(),\r\n        isPaused: false,\r\n        remaining,\r\n        timerId: window.setTimeout(state.timeoutFn, remaining),\r\n    };\r\n};\r\nconst getRemaining = (state) => state.remaining === undefined\r\n    ? undefined\r\n    : state.remaining - (new Date().getTime() - (state.startTime || 0));\r\nconst Timer = () => {\r\n    const timer = {\r\n        initialState,\r\n        actions: (update) => {\r\n            return {\r\n                start: (callback, duration) => {\r\n                    update((state) => {\r\n                        return {\r\n                            ...state,\r\n                            ...appendStopTimeout(state),\r\n                            ...appendStartTimer(state, callback, duration, () => timer.actions(update).done()),\r\n                            ...(state.isPaused && appendPauseTimer(state)),\r\n                        };\r\n                    });\r\n                },\r\n                stop: () => {\r\n                    update((state) => {\r\n                        return {\r\n                            ...state,\r\n                            ...appendStopTimer(state),\r\n                            ...initialState\r\n                        };\r\n                    });\r\n                },\r\n                pause: () => {\r\n                    update((state) => {\r\n                        return {\r\n                            ...state,\r\n                            ...(!state.isPaused && appendPauseTimer(state)),\r\n                        };\r\n                    });\r\n                },\r\n                resume: (minimumDuration) => {\r\n                    update((state) => {\r\n                        return {\r\n                            ...state,\r\n                            ...(state.isPaused && appendResumeTimer(state, minimumDuration))\r\n                        };\r\n                    });\r\n                },\r\n                abort: () => {\r\n                    update((state) => {\r\n                        state.onAbort();\r\n                        return {\r\n                            ...state,\r\n                            ...appendStopTimeout(state),\r\n                        };\r\n                    });\r\n                },\r\n                done: () => {\r\n                    update((state) => {\r\n                        return initialState;\r\n                    });\r\n                },\r\n                refresh: () => {\r\n                    update((state) => {\r\n                        return {\r\n                            ...state,\r\n                        };\r\n                    });\r\n                },\r\n            };\r\n        },\r\n        selectors: (states) => {\r\n            return {\r\n                isPaused: () => {\r\n                    const state = states();\r\n                    return state.isPaused;\r\n                },\r\n                getRemaining: () => {\r\n                    const state = states();\r\n                    return state.isPaused\r\n                        ? state.remaining\r\n                        : getRemaining(state);\r\n                },\r\n                getResultPromise: () => {\r\n                    const state = states();\r\n                    return state.promise;\r\n                },\r\n            };\r\n        },\r\n    };\r\n    const update = stream();\r\n    const states = stream.scan((state, patch) => patch(state), {\r\n        ...timer.initialState,\r\n    }, update);\r\n    const actions = {\r\n        ...timer.actions(update),\r\n    };\r\n    const selectors = {\r\n        ...timer.selectors(states),\r\n    };\r\n    // states.map(state => \r\n    //   console.log(JSON.stringify(state, null, 2))\r\n    // );\r\n    return {\r\n        states,\r\n        actions,\r\n        selectors,\r\n    };\r\n};\n\nlet uid = 0;\r\nconst getUid = () => uid === Number.MAX_SAFE_INTEGER\r\n    ? 0\r\n    : uid++;\r\nconst transitionStates = {\r\n    default: 0,\r\n    displaying: 1,\r\n    hiding: 2,\r\n};\r\nconst performOnItem = fn => ns => defaultDialogicOptions => (options) => {\r\n    const maybeItem = getMaybeItem(ns)(defaultDialogicOptions)(options);\r\n    if (maybeItem.just) {\r\n        return fn(ns, maybeItem.just, options);\r\n    }\r\n    else {\r\n        return Promise.resolve();\r\n    }\r\n};\r\nconst getMaybeItem = (ns) => (defaultDialogicOptions) => (identityOptions) => selectors.find(ns, getMergedIdentityOptions(defaultDialogicOptions, identityOptions));\r\nconst filterBySpawn = (identityOptions) => (items) => identityOptions.spawn !== undefined\r\n    ? items.filter(item => (item.identityOptions.spawn === identityOptions.spawn))\r\n    : items;\r\nconst filterById = (identityOptions) => (items) => identityOptions.id !== undefined\r\n    ? items.filter(item => (item.identityOptions.id === identityOptions.id))\r\n    : items;\r\n/**\r\n * Gets a list of all non-queued items.\r\n * From the queued items only the first item is listed.\r\n * */\r\nconst filterFirstInQueue = (nsItems) => {\r\n    let queuedCount = 0;\r\n    return nsItems\r\n        .map(item => ({\r\n        item,\r\n        queueCount: item.dialogicOptions.queued\r\n            ? queuedCount++\r\n            : 0\r\n    }))\r\n        .filter(({ queueCount }) => queueCount === 0)\r\n        .map(({ item }) => item);\r\n};\r\nconst filterCandidates = (ns, items, identityOptions) => {\r\n    const nsItems = items[ns] || [];\r\n    if (nsItems.length == 0) {\r\n        return [];\r\n    }\r\n    return pipe(filterBySpawn(identityOptions), filterFirstInQueue)(nsItems);\r\n};\r\nconst getPassThroughOptions = options => {\r\n    const copy = {\r\n        ...options,\r\n    };\r\n    delete copy.dialogic;\r\n    return copy;\r\n};\r\nconst getMergedIdentityOptions = (defaultDialogicOptions, identityOptions = {}) => ({\r\n    id: identityOptions.id || defaultDialogicOptions.id,\r\n    spawn: identityOptions.spawn || defaultDialogicOptions.spawn,\r\n});\r\nconst handleOptions = (defaultDialogicOptions, options = {}) => {\r\n    const identityOptions = {\r\n        id: options.dialogic ? options.dialogic.id : undefined,\r\n        spawn: options.dialogic ? options.dialogic.spawn : undefined\r\n    };\r\n    const mergedIdentityOptions = getMergedIdentityOptions(defaultDialogicOptions || {}, identityOptions);\r\n    const dialogicOptions = {\r\n        ...defaultDialogicOptions,\r\n        ...options.dialogic\r\n    };\r\n    const passThroughOptions = getPassThroughOptions(options);\r\n    return {\r\n        identityOptions: mergedIdentityOptions,\r\n        dialogicOptions,\r\n        passThroughOptions,\r\n    };\r\n};\r\nconst createInstance = (ns) => (defaultDialogicOptions) => (options = {}) => {\r\n    const { identityOptions, dialogicOptions, passThroughOptions } = handleOptions(defaultDialogicOptions, options);\r\n    return new Promise(resolve => {\r\n        const callbacks = {\r\n            didShow: (item) => {\r\n                if (dialogicOptions.didShow) {\r\n                    dialogicOptions.didShow(item);\r\n                }\r\n                return resolve(item);\r\n            },\r\n            didHide: (item) => {\r\n                if (dialogicOptions.didHide) {\r\n                    dialogicOptions.didHide(item);\r\n                }\r\n                return resolve(item);\r\n            }\r\n        };\r\n        const item = {\r\n            ns,\r\n            identityOptions,\r\n            dialogicOptions,\r\n            callbacks,\r\n            passThroughOptions,\r\n            id: createId(identityOptions, ns),\r\n            timer: dialogicOptions.timeout\r\n                ? Timer()\r\n                : undefined,\r\n            key: getUid().toString(),\r\n            transitionState: transitionStates.default,\r\n        };\r\n        const maybeExistingItem = selectors.find(ns, identityOptions);\r\n        if (maybeExistingItem.just && dialogicOptions.toggle) {\r\n            const hideResult = hide(ns)(defaultDialogicOptions)(options);\r\n            return resolve(hideResult);\r\n        }\r\n        if (maybeExistingItem.just && !dialogicOptions.queued) {\r\n            const existingItem = maybeExistingItem.just;\r\n            // Preserve dialogicOptions\r\n            const dialogicOptions = existingItem.dialogicOptions;\r\n            const replacingItem = {\r\n                ...item,\r\n                transitionState: existingItem.transitionState,\r\n                dialogicOptions\r\n            };\r\n            actions.replace(ns, existingItem.id, replacingItem);\r\n        }\r\n        else {\r\n            actions.add(ns, item);\r\n            // This will instantiate and draw the instance\r\n            // The instance will call `showDialog` in `onMount`\r\n        }\r\n        resolve(item);\r\n    });\r\n};\r\nconst show = createInstance;\r\nconst hide = (ns) => (defaultDialogicOptions) => (options) => {\r\n    const { identityOptions, dialogicOptions, passThroughOptions } = handleOptions(defaultDialogicOptions, options);\r\n    const maybeExistingItem = selectors.find(ns, identityOptions);\r\n    if (maybeExistingItem.just) {\r\n        const existingItem = maybeExistingItem.just;\r\n        const domElement = existingItem.dialogicOptions.domElement;\r\n        const item = {\r\n            ...maybeExistingItem.just,\r\n            dialogicOptions: {\r\n                ...existingItem,\r\n                ...dialogicOptions,\r\n                domElement\r\n            },\r\n            passThroughOptions,\r\n        };\r\n        actions.replace(ns, existingItem.id, item);\r\n        if (item.transitionState !== transitionStates.hiding) {\r\n            return hideItem(item);\r\n        }\r\n        else {\r\n            return Promise.resolve(item);\r\n        }\r\n    }\r\n    return Promise.resolve();\r\n};\r\nconst pause = performOnItem((ns, item) => {\r\n    if (item && item.timer) {\r\n        item.timer.actions.pause();\r\n    }\r\n    return Promise.resolve(item);\r\n});\r\nconst resume = performOnItem((ns, item, commandOptions = {}) => {\r\n    if (item && item.timer) {\r\n        item.timer.actions.resume(commandOptions.minimumDuration);\r\n    }\r\n    return Promise.resolve(item);\r\n});\r\nconst getTimerProperty = (timerProp) => (ns) => (defaultDialogicOptions) => (identityOptions) => {\r\n    const maybeItem = getMaybeItem(ns)(defaultDialogicOptions)(identityOptions);\r\n    if (maybeItem.just) {\r\n        if (maybeItem.just && maybeItem.just.timer) {\r\n            return maybeItem.just.timer.selectors[timerProp]();\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n};\r\nconst isPaused = getTimerProperty(\"isPaused\");\r\nconst getRemaining$1 = getTimerProperty(\"getRemaining\");\r\nconst exists = (ns) => (defaultDialogicOptions) => (identityOptions) => {\r\n    const maybeItem = getMaybeItem(ns)(defaultDialogicOptions)(identityOptions);\r\n    return !!maybeItem.just;\r\n};\r\nconst getValidItems = (ns, dialogicOptions) => {\r\n    const allItems = selectors.getAll(ns);\r\n    let validItems;\r\n    if (dialogicOptions) {\r\n        validItems = pipe(filterBySpawn(dialogicOptions), filterById(dialogicOptions))(allItems);\r\n    }\r\n    else {\r\n        validItems = allItems;\r\n    }\r\n    return validItems;\r\n};\r\nconst resetAll = (ns) => (defaultDialogicOptions) => (dialogicOptions) => {\r\n    const validItems = getValidItems(ns, dialogicOptions);\r\n    const items = [];\r\n    validItems.forEach((item) => {\r\n        item.timer && item.timer.actions.abort();\r\n        items.push(item);\r\n    });\r\n    if (dialogicOptions) {\r\n        items.forEach((item) => {\r\n            actions.remove(ns, item.id);\r\n        });\r\n    }\r\n    else {\r\n        actions.removeAll(ns);\r\n    }\r\n    return Promise.resolve(items);\r\n};\r\nconst getOverridingTransitionOptions = (item, dialogicOptions) => {\r\n    return {\r\n        ...item,\r\n        dialogicOptions: {\r\n            ...item.dialogicOptions,\r\n            ...dialogicOptions\r\n        }\r\n    };\r\n};\r\n/**\r\n * Triggers a `hideItem` for each item in the store.\r\n * Queued items: will trigger `hideItem` only for the first item, then reset the store.\r\n * `dialogicOptions` may contain specific transition options. This comes in handy when all items should hide in the same manner.\r\n * */\r\nconst hideAll = (ns) => (defaultDialogicOptions) => (dialogicOptions) => {\r\n    const validItems = getValidItems(ns, dialogicOptions);\r\n    const options = dialogicOptions || {};\r\n    const regularItems = validItems.filter((item) => !options.queued && !item.dialogicOptions.queued);\r\n    const queuedItems = validItems.filter((item) => options.queued || item.dialogicOptions.queued);\r\n    const items = [];\r\n    regularItems.forEach((item) => items.push(hideItem(getOverridingTransitionOptions(item, options))));\r\n    if (queuedItems.length > 0) {\r\n        const [current,] = queuedItems;\r\n        // Make sure that any remaining items don't suddenly appear\r\n        actions.store(ns, [current]);\r\n        // Transition the current item\r\n        items.push(hideItem(getOverridingTransitionOptions(current, options)));\r\n    }\r\n    return Promise.all(items);\r\n};\r\nconst getCount = (ns) => (identityOptions) => selectors.getCount(ns, identityOptions);\r\nconst transitionItem = (item, mode) => {\r\n    return transition(item.dialogicOptions, mode);\r\n};\r\nconst deferredHideItem = async function (item, timer, timeout) {\r\n    timer.actions.start(() => (hideItem(item)), timeout);\r\n    return getTimerProperty(\"getResultPromise\");\r\n};\r\nconst showItem = async function (item) {\r\n    if (item.transitionState !== transitionStates.displaying) {\r\n        item.transitionState = transitionStates.displaying;\r\n        await (transitionItem(item, MODE.SHOW));\r\n    }\r\n    item.callbacks.didShow && await (item.callbacks.didShow(item));\r\n    if (item.dialogicOptions.timeout && item.timer) {\r\n        await (deferredHideItem(item, item.timer, item.dialogicOptions.timeout));\r\n    }\r\n    return Promise.resolve(item);\r\n};\r\nconst hideItem = async function (item) {\r\n    item.transitionState = transitionStates.hiding;\r\n    // Stop any running timer\r\n    if (item.timer) {\r\n        item.timer.actions.stop();\r\n    }\r\n    await (transitionItem(item, MODE.HIDE));\r\n    item.callbacks.didHide && await (item.callbacks.didHide(item));\r\n    const copy = {\r\n        ...item\r\n    };\r\n    actions.remove(item.ns, item.id);\r\n    return Promise.resolve(copy);\r\n};\r\nconst setDomElement = (domElement, item) => {\r\n    item.dialogicOptions.domElement = domElement;\r\n};\n\nconst dialogical = ({ ns, queued, timeout }) => {\r\n    const defaultId = `default_${ns}`;\r\n    const defaultSpawn = `default_${ns}`;\r\n    const defaultDialogicOptions = {\r\n        id: defaultId,\r\n        spawn: defaultSpawn,\r\n        ...(queued && { queued }),\r\n        ...(timeout !== undefined && { timeout }),\r\n    };\r\n    return {\r\n        // Identification\r\n        ns,\r\n        defaultId,\r\n        defaultSpawn,\r\n        // Configuration\r\n        defaultDialogicOptions,\r\n        // Commands\r\n        show: show(ns)(defaultDialogicOptions),\r\n        hide: hide(ns)(defaultDialogicOptions),\r\n        hideAll: hideAll(ns)(defaultDialogicOptions),\r\n        resetAll: resetAll(ns)(defaultDialogicOptions),\r\n        // Timer commands\r\n        pause: pause(ns)(defaultDialogicOptions),\r\n        resume: resume(ns)(defaultDialogicOptions),\r\n        // State\r\n        exists: exists(ns)(defaultDialogicOptions),\r\n        getCount: getCount(ns),\r\n        // Timer state\r\n        isPaused: isPaused(ns)(defaultDialogicOptions),\r\n        getRemaining: getRemaining$1(ns)(defaultDialogicOptions),\r\n    };\r\n};\n\nconst dialog = dialogical({ ns: \"dialog\" });\n\nconst notification = dialogical({ ns: \"notification\", queued: true, timeout: 3000 });\n\nconst handleDispatch = (ns) => (event, fn) => {\r\n    // Update dispatching item:\r\n    const maybeItem = selectors.find(ns, event.detail.identityOptions);\r\n    if (maybeItem.just) {\r\n        setDomElement(event.detail.domElement, maybeItem.just);\r\n    }\r\n    // Find item to transition:\r\n    const maybeTransitioningItem = selectors.find(ns, event.detail.identityOptions);\r\n    if (maybeTransitioningItem.just) {\r\n        fn(maybeTransitioningItem.just);\r\n    }\r\n};\r\nconst onInstanceMounted = (ns) => (event) => handleDispatch(ns)(event, showItem);\r\nconst onShowInstance = (ns) => (event) => handleDispatch(ns)(event, showItem);\r\nconst onHideInstance = (ns) => (event) => handleDispatch(ns)(event, hideItem);\n\nconst Instance = ({ attrs: componentAttrs }) => {\r\n    let domElement;\r\n    const dispatchTransition = (dispatchFn) => {\r\n        dispatchFn({\r\n            detail: {\r\n                identityOptions: componentAttrs.identityOptions,\r\n                domElement\r\n            }\r\n        });\r\n    };\r\n    const onMount = () => {\r\n        dispatchTransition(componentAttrs.onMount);\r\n    };\r\n    const show = () => {\r\n        dispatchTransition(componentAttrs.onShow);\r\n    };\r\n    const hide = () => {\r\n        dispatchTransition(componentAttrs.onHide);\r\n    };\r\n    return {\r\n        oncreate: (vnode) => {\r\n            domElement = vnode.dom;\r\n            onMount();\r\n        },\r\n        view: ({ attrs }) => {\r\n            const className = attrs.dialogicOptions.className;\r\n            console.log(\"attrs.passThroughOptions\", attrs.passThroughOptions);\r\n            return m(\"div\", { className }, m(attrs.dialogicOptions.component, {\r\n                ...attrs.passThroughOptions,\r\n                show,\r\n                hide,\r\n            }));\r\n        }\r\n    };\r\n};\n\nconst Wrapper = {\r\n    view: ({ attrs }) => {\r\n        const nsOnInstanceMounted = onInstanceMounted(attrs.ns);\r\n        const nsOnShowInstance = onShowInstance(attrs.ns);\r\n        const nsOnHideInstance = onHideInstance(attrs.ns);\r\n        const identityOptions = attrs.identityOptions || {};\r\n        const filtered = filterCandidates(attrs.ns, selectors.getStore(), identityOptions);\r\n        return filtered.map(item => m(Instance, {\r\n            key: item.key,\r\n            identityOptions: item.identityOptions,\r\n            dialogicOptions: item.dialogicOptions,\r\n            passThroughOptions: item.passThroughOptions,\r\n            onMount: nsOnInstanceMounted,\r\n            onShow: nsOnShowInstance,\r\n            onHide: nsOnHideInstance,\r\n        }));\r\n    }\r\n};\n\nconst Dialogical = type => ({\r\n    oncreate: ({ attrs }) => {\r\n        if (typeof attrs.onMount === \"function\") {\r\n            attrs.onMount();\r\n        }\r\n    },\r\n    view: ({ attrs }) => {\r\n        const identityOptions = {\r\n            id: attrs.id || type.defaultId,\r\n            spawn: attrs.spawn || type.defaultSpawn,\r\n        };\r\n        return m(Wrapper, {\r\n            identityOptions,\r\n            ns: type.ns,\r\n        });\r\n    }\r\n});\n\nconst Dialog = Dialogical(dialog);\r\nconst Notification = Dialogical(notification);\r\nstates.map(state => (m.redraw()\r\n// , console.log(state)\r\n));\n\nexport { Dialog, Dialogical, Notification, dialog, notification };\n","import m from \"mithril\";\nexport const Remaining = ({ attrs }) => {\n    let displayValue = 0;\n    let reqId;\n    const update = () => {\n        const remaining = attrs.getRemaining();\n        if (remaining !== undefined) {\n            if (displayValue !== remaining) {\n                m.redraw();\n                displayValue = Math.max(remaining, 0);\n            }\n        }\n        else {\n            displayValue = undefined;\n            m.redraw();\n        }\n        reqId = window.requestAnimationFrame(update);\n    };\n    return {\n        oncreate: () => reqId = window.requestAnimationFrame(update),\n        onremove: () => window.cancelAnimationFrame(reqId),\n        view: () => m(\"div\", { \"data-test-id\": \"remaining\" }, [\n            m(\"span\", \"Remaining: \"),\n            m(\"span[data-test-id=remaining-value]\", displayValue === undefined ? \"undefined\" : displayValue.toString()),\n        ])\n    };\n};\n","import m from \"mithril\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nconst DemoContent = {\n    view: () => (m(\"article\", { \"class\": \"media\" }, [\n        m(\"div\", { \"class\": \"media-left\" }, m(\"figure\", { \"class\": \"image is-64x64\" }, m(\"img\", { \"src\": \"https://bulma.io/images/placeholders/128x128.png\", \"alt\": \"Image\" }))),\n        m(\"div\", { \"class\": \"media-content\" }, [\n            m(\"div\", { \"class\": \"content\" }, m(\"p\", [\n                m(\"strong\", \"John Smith\"),\n                m(\"small\", \" \"),\n                m(\"small\", \"@johnsmith\"),\n                m(\"small\", \"31m\"),\n                m(\"br\"),\n                \" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis. \"\n            ])),\n            m(\"nav\", { \"class\": \"level is-mobile\" }, m(\"div\", { \"class\": \"level-left\" }, [\n                m(\"a\", { \"class\": \"level-item\", \"aria-label\": \"retweet\" }, m(\"span\", { \"class\": \"icon is-small\" }, m(\"svg\", { \"class\": \"svg-inline--fa fa-retweet fa-w-20\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"retweet\", \"role\": \"img\", \"xmlns\": \"http://www.w3.org/2000/svg\", \"viewBox\": \"0 0 640 512\", \"data-fa-i2svg\": \"\" }, m(\"path\", { \"fill\": \"currentColor\", \"d\": \"M629.657 343.598L528.971 444.284c-9.373 9.372-24.568 9.372-33.941 0L394.343 343.598c-9.373-9.373-9.373-24.569 0-33.941l10.823-10.823c9.562-9.562 25.133-9.34 34.419.492L480 342.118V160H292.451a24.005 24.005 0 0 1-16.971-7.029l-16-16C244.361 121.851 255.069 96 276.451 96H520c13.255 0 24 10.745 24 24v222.118l40.416-42.792c9.285-9.831 24.856-10.054 34.419-.492l10.823 10.823c9.372 9.372 9.372 24.569-.001 33.941zm-265.138 15.431A23.999 23.999 0 0 0 347.548 352H160V169.881l40.416 42.792c9.286 9.831 24.856 10.054 34.419.491l10.822-10.822c9.373-9.373 9.373-24.569 0-33.941L144.971 67.716c-9.373-9.373-24.569-9.373-33.941 0L10.343 168.402c-9.373 9.373-9.373 24.569 0 33.941l10.822 10.822c9.562 9.562 25.133 9.34 34.419-.491L96 169.881V392c0 13.255 10.745 24 24 24h243.549c21.382 0 32.09-25.851 16.971-40.971l-16.001-16z\" })))),\n                m(\"a\", { \"class\": \"level-item\", \"aria-label\": \"like\" }, m(\"span\", { \"class\": \"icon is-small\" }, m(\"svg\", { \"class\": \"svg-inline--fa fa-heart fa-w-16\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"heart\", \"role\": \"img\", \"xmlns\": \"http://www.w3.org/2000/svg\", \"viewBox\": \"0 0 512 512\", \"data-fa-i2svg\": \"\" }, m(\"path\", { \"fill\": \"currentColor\", \"d\": \"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z\" }))))\n            ]))\n        ])\n    ]))\n};\nconst BulmaDialogComponent = (isModal = false) => ({\n    view: () => (m(\".modal.is-active\", [\n        m(\".modal-background\", {\n            onclick: () => !isModal && dialog.hide()\n        }),\n        m(\".modal-content\", m(\".bulma-dialog-content-box\", m(DemoContent))),\n        m(\".modal-close.is-large\", {\n            onclick: () => dialog.hide()\n        })\n    ]))\n});\nexport default () => {\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".buttons\", [\n                    m(\".button\", {\n                        onclick: () => {\n                            dialog.show({\n                                dialogic: {\n                                    component: BulmaDialogComponent(),\n                                    className: \"dialog\",\n                                }\n                            });\n                        }\n                    }, \"Show dialog\"),\n                    m(\".button\", {\n                        onclick: () => {\n                            dialog.show({\n                                dialogic: {\n                                    component: BulmaDialogComponent(true),\n                                    className: \"dialog\",\n                                }\n                            });\n                        }\n                    }, \"Show modal dialog\"),\n                ]),\n                m(\".bulma\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nconst DemoContent = {\n    view: () => (m(\"div\", { \"class\": \"mdc-dialog__container\" }, m(\"div\", { \"class\": \"mdc-dialog__surface\" }, [\n        m(\"h2\", { \"class\": \"mdc-dialog__title\", \"id\": \"my-dialog-title\" }, \"Dialog Title\"),\n        m(\"div\", { \"class\": \"mdc-dialog__content\", \"id\": \"my-dialog-content\" }, \" Dialog body text goes here. \"),\n        m(\"footer\", { \"class\": \"mdc-dialog__actions\" }, [\n            m(\"button\", { \"class\": \"mdc-button mdc-dialog__button\", \"type\": \"button\", \"data-mdc-dialog-action\": \"no\" }, m(\"span\", {\n                \"class\": \"mdc-button__label\",\n                onclick: () => dialog.hide()\n            }, \"No\")),\n            m(\"button\", { \"class\": \"mdc-button mdc-dialog__button\", \"type\": \"button\", \"data-mdc-dialog-action\": \"yes\" }, m(\"span\", {\n                \"class\": \"mdc-button__label\",\n                onclick: () => dialog.hide()\n            }, \"Yes\"))\n        ])\n    ])))\n};\nconst MaterialIODialogComponent = (isModal = false) => ({\n    view: () => m(\".mdc-dialog--open\", { \"class\": \"mdc-dialog\", \"role\": \"alertdialog\", \"aria-modal\": \"true\", \"aria-labelledby\": \"my-dialog-title\", \"aria-describedby\": \"my-dialog-content\" }, [\n        m(DemoContent),\n        m(\"div\", {\n            \"class\": \"mdc-dialog__scrim\",\n            onclick: () => !isModal && dialog.hide()\n        })\n    ])\n});\nexport default () => {\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".buttons\", [\n                    m(\".button\", {\n                        onclick: () => {\n                            dialog.show({\n                                dialogic: {\n                                    component: MaterialIODialogComponent(),\n                                    className: \"dialog\",\n                                }\n                            });\n                        }\n                    }, \"Show dialog\"),\n                    m(\".button\", {\n                        onclick: () => {\n                            dialog.show({\n                                dialogic: {\n                                    component: MaterialIODialogComponent(true),\n                                    className: \"dialog\",\n                                }\n                            });\n                        }\n                    }, \"Show modal dialog\"),\n                ]),\n                m(\".materialIO\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport DialogClassName from \"./cypress-tests/DialogClassName\";\nimport DialogClassNameDelay from \"./cypress-tests/DialogClassNameDelay\";\nimport DialogStyles from \"./cypress-tests/DialogStyles\";\nimport DialogIds from \"./cypress-tests/DialogIds\";\nimport DialogCount from \"./cypress-tests/DialogCount\";\nimport DialogHideAll from \"./cypress-tests/DialogHideAll\";\nimport DialogResetAll from \"./cypress-tests/DialogResetAll\";\nimport DialogTimeout from \"./cypress-tests/DialogTimeout\";\nimport DialogQueued from \"./cypress-tests/DialogQueued\";\nimport NotificationCount from \"./cypress-tests/NotificationCount\";\nimport NotificationPause from \"./cypress-tests/NotificationPause\";\nimport NotificationTimeout from \"./cypress-tests/NotificationTimeout\";\nimport LibBulmaDialog from \"./cypress-tests/LibBulmaDialog\";\nimport LibMaterialIODialog from \"./cypress-tests/LibMaterialIODialog\";\nimport \"./app-styles.css\";\nimport \"./test-styles.css\";\nconst Home = {\n    view: () => m(\".menu\", m(\"ul\", Object.keys(routes).map(path => m(\"li\", m(m.route.Link, { href: path }, path.substr(1))))))\n};\nconst routes = {\n    \"/\": Home,\n    \"/DialogClassName\": DialogClassName,\n    \"/DialogClassNameDelay\": DialogClassNameDelay,\n    \"/DialogStyles\": DialogStyles,\n    \"/DialogIds\": DialogIds,\n    \"/DialogCount\": DialogCount,\n    \"/DialogHideAll\": DialogHideAll,\n    \"/DialogResetAll\": DialogResetAll,\n    \"/DialogTimeout\": DialogTimeout,\n    \"/DialogQueued\": DialogQueued,\n    \"/NotificationCount\": NotificationCount,\n    \"/NotificationPause\": NotificationPause,\n    \"/NotificationTimeout\": NotificationTimeout,\n    \"/LibBulmaDialog\": LibBulmaDialog,\n    \"/LibMaterialIODialog\": LibMaterialIODialog,\n};\nm.route.prefix = \"#\";\nconst mountNode = document.getElementById(\"root\");\nif (mountNode) {\n    m.route(mountNode, \"/\", routes);\n}\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    dialog.resetAll();\n    const fns = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"DialogClassName\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons(fns),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns = createFns({ instance: dialog, component: Default, className: \"dialog-delay\", title: \"DialogClassDelay\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons(fns),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    dialog.resetAll();\n    const fns = createFns({\n        instance: dialog,\n        component: Default,\n        title: \"DialogStyles\",\n        styles: (domElement) => {\n            const height = domElement.getBoundingClientRect().height;\n            return {\n                default: {\n                    transition: \"all 300ms ease-in-out\",\n                },\n                showStart: {\n                    opacity: \"0\",\n                    transform: `translate3d(0, ${height}px, 0)`,\n                },\n                showEnd: {\n                    opacity: \"1\",\n                    transform: \"translate3d(0, 0px,  0)\",\n                },\n                hideEnd: {\n                    transitionDuration: \"450ms\",\n                    transform: `translate3d(0, ${height}px, 0)`,\n                    opacity: \"0\",\n                },\n            };\n        },\n    });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons(fns),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    dialog.resetAll();\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"DialogIds default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"1\", title: \"DialogIds 1\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"2\", title: \"DialogIds 2\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons({ ...fns1 }),\n                buttons({ ...fns2, id: \"1\" }),\n                buttons({ ...fns3, id: \"2\" }),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${dialog.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${dialog.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${dialog.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog dialog-delay\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${dialog.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${dialog.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${dialog.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"hide-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll(),\n                        \"data-test-id\": \"button-hide-all\"\n                    }, \"Hide all\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ id: \"1\" }),\n                        \"data-test-id\": \"button-hide-all-id\"\n                    }, \"Hide all with id\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ spawn: \"1\" }),\n                        \"data-test-id\": \"button-hide-all-spawn\"\n                    }, \"Hide all with spawn\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ id: \"1\", spawn: \"1\" }),\n                        \"data-test-id\": \"button-hide-all-spawn-id\"\n                    }, \"Hide all with spawn and id\")\n                ])),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog dialog-delay\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${dialog.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${dialog.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${dialog.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll(),\n                        \"data-test-id\": \"button-reset-all\"\n                    }, \"Reset all\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll({ id: \"1\" }),\n                        \"data-test-id\": \"button-reset-all-id\"\n                    }, \"Reset all with id\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll({ spawn: \"1\" }),\n                        \"data-test-id\": \"button-reset-all-spawn\"\n                    }, \"Reset all with spawn\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll({ id: \"1\", spawn: \"1\" }),\n                        \"data-test-id\": \"button-reset-all-spawn-id\"\n                    }, \"Reset all with spawn and id\")\n                ])),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nimport { Remaining } from \"./Remaining\";\nexport default () => {\n    dialog.resetAll();\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\", timeout: 2000 });\n    return {\n        view: () => {\n            return m(\".test\", { key: Math.random() }, [\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.pause(),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resume(),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll(),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])),\n                m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${dialog.isPaused()}`),\n                m(\".control\", m(Remaining, { key: \"DialogTimeout\", getRemaining: dialog.getRemaining })),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\", queued: true });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { notification, Notification } from \"dialogic-mithril\";\nexport default () => {\n    notification.resetAll();\n    const fns1 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Default\" });\n    const fns2 = createFns({ instance: notification, component: Default, className: \"notification\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: notification, component: Default, className: \"notification\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: notification, component: Default, className: \"notification\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${notification.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${notification.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${notification.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${notification.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", m(\"button\", {\n                    className: \"button\",\n                    onclick: () => notification.resetAll(),\n                    \"data-test-id\": \"button-reset\"\n                }, \"Reset\")),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Notification)),\n                m(\".spawn.custom-spawn\", m(Notification, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { notification, Notification } from \"dialogic-mithril\";\nimport { Remaining } from \"./Remaining\";\nexport default () => {\n    const fns1 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Default\", timeout: 2000 });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.pause(),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resume(),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resetAll(),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])),\n                m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${notification.isPaused()}`),\n                m(\".control\", m(Remaining, { key: \"NotificationPause\", getRemaining: notification.getRemaining })),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                ]),\n                m(\".spawn.default-spawn\", m(Notification)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { notification, Notification } from \"dialogic-mithril\";\nimport { Remaining } from \"./Remaining\";\nexport default () => {\n    const fns1 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Default\", timeout: 1000 });\n    const fns2 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Timeout: 0\", timeout: 0 });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.pause(),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resume(),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resetAll(),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])),\n                m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${notification.isPaused()}`),\n                m(\".control\", m(Remaining, { key: \"NotificationTimeout\", getRemaining: notification.getRemaining })),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\", name: \"zero-timeout\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Notification)),\n            ]);\n        }\n    };\n};\n"],"sourceRoot":""}