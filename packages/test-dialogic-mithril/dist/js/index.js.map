{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/mithril/index.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///../node_modules/mithril/render/vnode.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render/vnode.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic/node_modules/mithril/stream.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/regenerator/index.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/index.js","webpack:///(webpack)/buildin/global.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/timers-browserify/main.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///../node_modules/mithril/mount-redraw.js","webpack:///../node_modules/mithril/pathname/build.js","webpack:///../node_modules/mithril/pathname/parse.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/mount-redraw.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/pathname/build.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/pathname/parse.js","webpack:///../node_modules/mithril/render/hyperscript.js","webpack:///../node_modules/mithril/render/hyperscriptVnode.js","webpack:///../node_modules/mithril/promise/promise.js","webpack:///../node_modules/mithril/promise/polyfill.js","webpack:///../node_modules/mithril/render.js","webpack:///../node_modules/mithril/querystring/build.js","webpack:///../node_modules/mithril/pathname/assign.js","webpack:///../node_modules/mithril/querystring/parse.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render/hyperscript.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render/hyperscriptVnode.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/promise/promise.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/promise/polyfill.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/querystring/build.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/pathname/assign.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/querystring/parse.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/mithril/hyperscript.js","webpack:///../node_modules/mithril/render/trust.js","webpack:///../node_modules/mithril/render/fragment.js","webpack:///../node_modules/mithril/request.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/setimmediate/setImmediate.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/process/browser.js","webpack:///../node_modules/mithril/render/render.js","webpack:///../node_modules/mithril/api/mount-redraw.js","webpack:///../node_modules/mithril/request/request.js","webpack:///../node_modules/mithril/route.js","webpack:///../node_modules/mithril/api/router.js","webpack:///../node_modules/mithril/pathname/compileTemplate.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/hyperscript.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render/trust.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render/fragment.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/request.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/render/render.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/api/mount-redraw.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/request/request.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/route.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/api/router.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/node_modules/mithril/pathname/compileTemplate.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/regenerator-runtime/runtime.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic/node_modules/mithril/stream/stream.js","webpack:///./cypress-tests/utils.ts","webpack:///./cypress-tests/createFns.ts","webpack:///./content/Default.ts","webpack:///./cypress-tests/buttons.ts","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic/dist/dialogic.mjs","webpack:////Users/arthur/code/Github Projects/dialogic/master/packages/dialogic-mithril/dist/dialogic-mithril.mjs","webpack:///./cypress-tests/Remaining.ts","webpack:///./cypress-tests/LibBulmaDialog.ts","webpack:///./cypress-tests/LibMaterialIODialog.ts","webpack:///./index.ts","webpack:///./cypress-tests/DialogClassName.ts","webpack:///./cypress-tests/DialogClassNameDelay.ts","webpack:///./cypress-tests/DialogStyles.ts","webpack:///./cypress-tests/DialogIds.ts","webpack:///./cypress-tests/DialogExists.ts","webpack:///./cypress-tests/DialogCount.ts","webpack:///./cypress-tests/DialogHideAll.ts","webpack:///./cypress-tests/DialogResetAll.ts","webpack:///./cypress-tests/DialogTimeout.ts","webpack:///./cypress-tests/DialogQueued.ts","webpack:///./cypress-tests/NotificationCount.ts","webpack:///./cypress-tests/NotificationPause.ts","webpack:///./cypress-tests/NotificationTimeout.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hyperscript","request","mountRedraw","apply","this","arguments","trust","fragment","mount","route","render","redraw","jsonp","parseQueryString","buildQueryString","parsePathname","buildPathname","vnode","PromisePolyfill","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","Vnode","tag","attrs","children","text","dom","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","String","input","length","isKeyed","TypeError","g","Function","e","window","self","Timeout","id","clearFn","_id","_clearFn","setTimeout","scope","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","setImmediate","global","clearImmediate","obj","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","args","err","requestAnimationFrame","console","assign","template","params","test","SyntaxError","queryIndex","indexOf","hashIndex","queryEnd","pathEnd","path","slice","query","resolved","replace","variadic","encodeURIComponent","newQueryIndex","newHashIndex","newQueryEnd","newPathEnd","result","querystring","url","hyperscriptVnode","selectorParser","selectorCache","hasOwn","isEmpty","compileSelector","selector","match","classes","exec","type","push","attrValue","className","join","execSelector","hasClass","class","newAttrs","view","Error","start","finally","executor","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","list","shouldAbsorb","execute","retry","executeOnce","runs","run","onerror","onFulfilled","onRejection","resolveNext","rejectNext","handle","callback","next","promise","catch","reason","all","total","count","values","consume","race","toString","destructure","target","source","keys","forEach","string","charAt","entries","split","counters","data","entry","decodeURIComponent","levels","cursor","pop","j","level","nextLevel","isNumber","isNaN","parseInt","desc","getOwnPropertyDescriptor","arrayLikeToArray","minLen","constructor","from","len","arr2","arrayWithHoles","iterableToArrayLimit","nonIterableRest","html","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","process","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","addEventListener","attachEvent","task","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","marker","runClearTimeout","Item","array","noop","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","$window","currentRedraw","$doc","nameSpace","svg","math","getNameSpace","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","createNode","initLifecycle","createTextNode","insertNode","createText","createHTML","createDocumentFragment","firstChild","childNodes","createFragment","is","element","createElementNS","setAttr","setAttrs","maybeSetContentEditable","textContent","selectedIndex","normalized","setLateSelectAttrs","sentinel","$$reentrantLock$$","initComponent","createComponent","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","temp","innerHTML","child","updateNodes","old","removeNodes","isOldKeyed","oldStart","v","oe","ve","topSibling","oldEnd","updateNode","getNextSibling","moveNodes","map","lisIndices","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","getKeyMap","oldIndex","a","u","il","lisTemp","makeLisIndices","commonLength","removeNode","oldTag","force","onbeforeupdate","shouldNotUpdate","updateLifecycle","nodeValue","updateText","removeHTML","updateHTML","updateFragment","val","removeAttr","updateAttrs","updateElement","updateComponent","frag","moveChildToFrag","parentNode","insertBefore","contenteditable","contentEditable","content","stateResult","attrsResult","mask","onbeforeremove","reallyRemove","onremove","isLifecycleMethod","attr","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","nsLastIndex","uppercaseRegex","toLowerCase","capital","normalizeKey","style","cssText","setProperty","removeProperty","EventDict","_","removeEventListener","oninit","oncreate","onupdate","handleEvent","ev","currentTarget","preventDefault","stopPropagation","namespace","namespaceURI","prevRedraw","focus","schedule","subscriptions","rendering","pending","sync","root","component","index","splice","oncompletion","callbackCount","PromiseProxy","makeRequest","factory","background","complete","wrap","hasHeader","headers","__proto__","replacedAbort","method","toUpperCase","body","assumeJSON","serialize","JSON","FormData","responseType","extract","xhr","XMLHttpRequest","aborted","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","readyState","message","success","status","response","parse","responseText","code","config","send","stringify","callbackName","round","src","callbackKey","compileTemplate","fireAsync","setPath","options","history","replaceState","prefix","pushState","location","href","currentPath","lastUpdate","currentResolver","SKIP","defaultRoute","routes","compiled","check","scheduled","defaultData","some","ReferenceError","resolveRoute","hash","search","pathname","fail","loop","payload","matchedRoute","localComp","update","comp","onmatch","set","Link","onclick","disabled","Boolean","defaultPrevented","button","which","ctrlKey","metaKey","shiftKey","altKey","param","templateData","templateKeys","regexp","RegExp","extra","k","runtime","Op","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","iter","reverse","skipTempReset","prev","stop","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_arr","_n","_d","_e","_s","_i","Stream","lift","streams","merge","scan","acc","origin","stream","combine","scanMerge","tuples","seed","tuple","changed","warnedHalt","dependentStreams","dependentFns","_changing","_state","createEnd","_parents","_unregisterChild","_map","ignoreInitial","toJSON","x","s1","s2","childIndex","ready","every","mappers","endStream","mapper","log","getRandomId","createFns","spawn","styles","queued","contentId","props","dialogic","showFn","show","hideFn","hide","Default","buttons","genName","pipe","fns","filter","reduce","y","f","getStyleValue","domElement","prop","defaultView","getComputedStyle","getPropertyValue","MODE","applyTransitionStyles","step","transitionStyle","createClassList","applyStylesForState","isEnterStep","getTransitionStyles","transitionDuration","applyNoDurationTransitionStyle","transitionClassNames","showStart","showEnd","hideStart","hideEnd","classList","remove","removeTransitionClassNames","add","scrollTop","steps","nextStep","transition","__transitionTimeoutId__","currentStep","duration","durationStyleValue","durationValue","styleDurationToMs","delayStyleValue","getDuration","durationStr","parsed","parseFloat","itemIndex","items","find","findItem","createId","identityOptions","store","initialState","actions","timer","states","refresh","remaining","removeItem","newItem","removeAll","newItems","selectors","getStore","just","nothing","getAll","itemsBySpawn","getCount","patch","isPaused","onAbort","onDone","startTime","timeoutFn","timerId","appendStopTimeout","appendPauseTimer","getRemaining","Date","getTime","Timer","updateState","appendStartTimer","appendStopTimer","pause","resume","minimumDuration","max","appendResumeTimer","getResultPromise","uid","getUid","Number","MAX_VALUE","transitionStates","filterBySpawn","filterFirstInQueue","nsItems","queuedCount","queueCount","dialogicOptions","getPassThroughOptions","copy","getMergedIdentityOptions","defaultDialogicOptions","handleOptions","mergedIdentityOptions","passThroughOptions","callbacks","didShow","didHide","transitionState","maybeExistingItem","toggle","hideResult","existingItem","replacingItem","hideItem","getValidItems","commandOptions","getTimerProperty","timerProp","defaultValue","maybeItem","getMaybeItem","getRemaining$1","exists","allItems","filterById","resetAll","validItems","getOverridingTransitionOptions","hideAll","regularItems","queuedItems","current","transitionItem","deferredHideItem","showItem","dialogical","defaultId","defaultSpawn","dialog","notification","handleDispatch","detail","maybeTransitioningItem","Instance","componentAttrs","dispatchTransition","dispatchFn","onShow","onHide","onMount","Wrapper","nsOnInstanceMounted","nsOnShowInstance","onShowInstance","nsOnHideInstance","onHideInstance","filterCandidates","Dialogical","Dialog","Notification","Remaining","reqId","displayValue","cancelAnimationFrame","DemoContent","BulmaDialogComponent","isModal","DialogContent","MaterialIODialogComponent","substr","height","getBoundingClientRect","default","opacity","transform","fns1","fns2","fns3","fns4","fns5","hideAllStyles","LibMaterialIODialog","mountNode","getElementById"],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 68);\n","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\n\nmodule.exports = m\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","\"use strict\"\n\nfunction Vnode(tag, key, attrs, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node == null || typeof node === \"boolean\") return null\n\tif (typeof node === \"object\") return node\n\treturn Vnode(\"#\", undefined, undefined, String(node), undefined, undefined)\n}\nVnode.normalizeChildren = function(input) {\n\tvar children = []\n\tif (input.length) {\n\t\tvar isKeyed = input[0] != null && input[0].key != null\n\t\t// Note: this is a *very* perf-sensitive check.\n\t\t// Fun fact: merging the loop like this is somehow faster than splitting\n\t\t// it, noticeably so.\n\t\tfor (var i = 1; i < input.length; i++) {\n\t\t\tif ((input[i] != null && input[i].key != null) !== isKeyed) {\n\t\t\t\tthrow new TypeError(\"Vnodes must either always have keys or never have keys!\")\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < input.length; i++) {\n\t\t\tchildren[i] = Vnode.normalize(input[i])\n\t\t}\n\t}\n\treturn children\n}\n\nmodule.exports = Vnode\n","\"use strict\"\n\nmodule.exports = require(\"./stream/stream\")\n","module.exports = require(\"regenerator-runtime\");\n","\"use strict\"\n\nvar hyperscript = require(\"./hyperscript\")\nvar request = require(\"./request\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\nm.mount = mountRedraw.mount\nm.route = require(\"./route\")\nm.render = require(\"./render\")\nm.redraw = mountRedraw.redraw\nm.request = request.request\nm.jsonp = request.jsonp\nm.parseQueryString = require(\"./querystring/parse\")\nm.buildQueryString = require(\"./querystring/build\")\nm.parsePathname = require(\"./pathname/parse\")\nm.buildPathname = require(\"./pathname/build\")\nm.vnode = require(\"./render/vnode\")\nm.PromisePolyfill = require(\"./promise/polyfill\")\n\nmodule.exports = m\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console)\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"./assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n\nvar render = require(\"./render\")\n\nmodule.exports = require(\"./api/mount-redraw\")(render, requestAnimationFrame, console)\n","\"use strict\"\n\nvar buildQueryString = require(\"../querystring/build\")\nvar assign = require(\"./assign\")\n\n// Returns `path` from `template` + `params`\nmodule.exports = function(template, params) {\n\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(template)) {\n\t\tthrow new SyntaxError(\"Template parameter names *must* be separated\")\n\t}\n\tif (params == null) return template\n\tvar queryIndex = template.indexOf(\"?\")\n\tvar hashIndex = template.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? template.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = template.slice(0, pathEnd)\n\tvar query = {}\n\n\tassign(query, params)\n\n\tvar resolved = path.replace(/:([^\\/\\.-]+)(\\.{3})?/g, function(m, key, variadic) {\n\t\tdelete query[key]\n\t\t// If no such parameter exists, don't interpolate it.\n\t\tif (params[key] == null) return m\n\t\t// Escape normal parameters, but not variadic ones.\n\t\treturn variadic ? params[key] : encodeURIComponent(String(params[key]))\n\t})\n\n\t// In case the template substitution adds new query/hash parameters.\n\tvar newQueryIndex = resolved.indexOf(\"?\")\n\tvar newHashIndex = resolved.indexOf(\"#\")\n\tvar newQueryEnd = newHashIndex < 0 ? resolved.length : newHashIndex\n\tvar newPathEnd = newQueryIndex < 0 ? newQueryEnd : newQueryIndex\n\tvar result = resolved.slice(0, newPathEnd)\n\n\tif (queryIndex >= 0) result += template.slice(queryIndex, queryEnd)\n\tif (newQueryIndex >= 0) result += (queryIndex < 0 ? \"?\" : \"&\") + resolved.slice(newQueryIndex, newQueryEnd)\n\tvar querystring = buildQueryString(query)\n\tif (querystring) result += (queryIndex < 0 && newQueryIndex < 0 ? \"?\" : \"&\") + querystring\n\tif (hashIndex >= 0) result += template.slice(hashIndex)\n\tif (newHashIndex >= 0) result += (hashIndex < 0 ? \"\" : \"&\") + resolved.slice(newHashIndex)\n\treturn result\n}\n","\"use strict\"\n\nvar parseQueryString = require(\"../querystring/parse\")\n\n// Returns `{path, params}` from `url`\nmodule.exports = function(url) {\n\tvar queryIndex = url.indexOf(\"?\")\n\tvar hashIndex = url.indexOf(\"#\")\n\tvar queryEnd = hashIndex < 0 ? url.length : hashIndex\n\tvar pathEnd = queryIndex < 0 ? queryEnd : queryIndex\n\tvar path = url.slice(0, pathEnd).replace(/\\/{2,}/g, \"/\")\n\n\tif (!path) path = \"/\"\n\telse {\n\t\tif (path[0] !== \"/\") path = \"/\" + path\n\t\tif (path.length > 1 && path[path.length - 1] === \"/\") path = path.slice(0, -1)\n\t}\n\treturn {\n\t\tpath: path,\n\t\tparams: queryIndex < 0\n\t\t\t? {}\n\t\t\t: parseQueryString(url.slice(queryIndex + 1, queryEnd)),\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(window)\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","\"use strict\"\n\nmodule.exports = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key) { target[key] = source[key] })\n}\n","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\n\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\n\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\n\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\n\t\tattrs = newAttrs\n\t}\n\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\n\tif (hasClass) attrs.class = null\n\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\n\treturn vnode\n}\n\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\n\tvnode.tag = selector\n\treturn vnode\n}\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\n// Call via `hyperscriptVnode.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript` and `fragment` factories and define this as\n// `hyperscriptVnode(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// module.exports = function(attrs, ...children) {\n//     if (attrs == null || typeof attrs === \"object\" && attrs.tag == null && !Array.isArray(attrs)) {\n//         if (children.length === 1 && Array.isArray(children[0])) children = children[0]\n//     } else {\n//         children = children.length === 0 && Array.isArray(attrs) ? attrs : [attrs, ...children]\n//         attrs = undefined\n//     }\n//\n//     if (attrs == null) attrs = {}\n//     return Vnode(\"\", attrs.key, attrs, children)\n// }\nmodule.exports = function() {\n\tvar attrs = arguments[this], start = this + 1, children\n\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = this\n\t}\n\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\n\treturn Vnode(\"\", attrs.key, attrs, children)\n}\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./polyfill\")\n\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tmodule.exports = global.Promise\n} else {\n\tmodule.exports = PromisePolyfill\n}\n","\"use strict\"\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\n\nmodule.exports = PromisePolyfill\n","\"use strict\"\n\nmodule.exports = require(\"./render/render\")(window)\n","\"use strict\"\n\nmodule.exports = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\n\treturn args.join(\"&\")\n\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\n","\"use strict\"\n\nmodule.exports = Object.assign || function(target, source) {\n\tif(source) Object.keys(source).forEach(function(key) { target[key] = source[key] })\n}\n","\"use strict\"\n\nmodule.exports = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\n\tvar entries = string.split(\"&\"), counters = {}, data = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key = levels.slice(0, j).join()\n\t\t\t\tif (counters[key] == null) {\n\t\t\t\t\tcounters[key] = Array.isArray(cursor) ? cursor.length : 0\n\t\t\t\t}\n\t\t\t\tlevel = counters[key]++\n\t\t\t}\n\t\t\t// Disallow direct prototype pollution\n\t\t\telse if (level === \"__proto__\") break\n\t\t\tif (j === levels.length - 1) cursor[level] = value\n\t\t\telse {\n\t\t\t\t// Read own properties exclusively to disallow indirect\n\t\t\t\t// prototype pollution\n\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(cursor, level)\n\t\t\t\tif (desc != null) desc = desc.value\n\t\t\t\tif (desc == null) cursor[level] = desc = isNumber ? [] : {}\n\t\t\t\tcursor = desc\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw)\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value)\n\t\t\telse vnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (attrs != null) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender(root, [], redraw)\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../pathname/assign\")\n\nvar sentinel = {}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar fireAsync\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove\n\n\t\tfireAsync = null\n\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path)\n\n\t\t\tassign(data.params, $window.history.state)\n\n\t\t\tfunction fail() {\n\t\t\t\tif (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\n\t\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync(resolveRoute)\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\treturn mountRedraw.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\t\treturn vnode\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\tvar options = vnode.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs = {}, onclick, href\n\t\t\tassign(attrs, vnode.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering.\n\t\t\tattrs.selector = attrs.options = attrs.key = attrs.oninit =\n\t\t\tattrs.oncreate = attrs.onbeforeupdate = attrs.onupdate =\n\t\t\tattrs.onbeforeremove = attrs.onremove = null\n\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child = m(vnode.attrs.selector || \"a\", attrs, vnode.children)\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child.attrs.onclick\n\t\t\t\thref = child.attrs.href\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","\"use strict\"\n\nvar hyperscript = require(\"./render/hyperscript\")\n\nhyperscript.trust = require(\"./render/trust\")\nhyperscript.fragment = require(\"./render/fragment\")\n\nmodule.exports = hyperscript\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar hyperscriptVnode = require(\"./hyperscriptVnode\")\n\nmodule.exports = function() {\n\tvar vnode = hyperscriptVnode.apply(0, arguments)\n\n\tvnode.tag = \"[\"\n\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\treturn vnode\n}\n","\"use strict\"\n\nvar PromisePolyfill = require(\"./promise/promise\")\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./request/request\")(window, PromisePolyfill, mountRedraw.redraw)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function($window) {\n\tvar $doc = $window && $window.document\n\tvar currentRedraw\n\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode, ns, nextSibling) {\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode.children\n\t\t}\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\t// Capture nodes to remove, so we don't confuse them.\n\t\tvnode.instance = []\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tvnode.instance.push(child)\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs = vnode.attrs\n\t\tvar is = attrs && attrs.is\n\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\n\t\tif (attrs != null) {\n\t\t\tsetAttrs(vnode, attrs, ns)\n\t\t}\n\n\t\tinsertNode(parent, element, nextSibling)\n\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tif (vnode.tag === \"select\" && attrs != null) setLateSelectAttrs(vnode, attrs)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tcreateNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t}\n\t}\n\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index (for the old list), then iterate\n\t// over the new list and for each new vnode, find the corresponding vnode in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index, the DOM nodes up to the previous\n\t// vnode reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next sibling (cached in the `nextSibling` variable).\n\n\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(parent, old, 0, old.length)\n\t\telse {\n\t\t\tvar isOldKeyed = old[0] != null && old[0].key != null\n\t\t\tvar isKeyed = vnodes[0] != null && vnodes[0].key != null\n\t\t\tvar start = 0, oldStart = 0\n\t\t\tif (!isOldKeyed) while (oldStart < old.length && old[oldStart] == null) oldStart++\n\t\t\tif (!isKeyed) while (start < vnodes.length && vnodes[start] == null) start++\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(parent, old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(parent, o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(parent, old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o.key !== v.key) break\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (start === end) break\n\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\tmoveNodes(parent, oe, topSibling)\n\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\tif (++start <= --end) moveNodes(parent, o, nextSibling)\n\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe.key !== ve.key) break\n\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(parent, old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse moveNodes(parent, v, nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(parent, old)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, ns, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\tremoveHTML(parent, old)\n\t\t\tcreateHTML(parent, vnode, ns, nextSibling)\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t}\n\t}\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (!maybeSetContentEditable(vnode)) {\n\t\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, ns) {\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(parent, old.instance)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode = vnodes[start]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key = vnode.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tvar lisTemp = []\n\tfunction makeLisIndices(a) {\n\t\tvar result = [0]\n\t\tvar u = 0, v = 0, i = 0\n\t\tvar il = lisTemp.length = a.length\n\t\tfor (var i = 0; i < il; i++) lisTemp[i] = a[i]\n\t\tfor (var i = 0; i < il; ++i) {\n\t\t\tif (a[i] === -1) continue\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tlisTemp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\t// Fast integer average without overflow.\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tvar c = (u >>> 1) + (v >>> 1) + (u & v & 1)\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) lisTemp[i] = result[u - 1]\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = lisTemp[v]\n\t\t}\n\t\tlisTemp.length = 0\n\t\treturn result\n\t}\n\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\n\t// This covers a really specific edge case:\n\t// - Parent node is keyed and contains child\n\t// - Child is removed, returns unresolved promise in `onbeforeremove`\n\t// - Parent node is moved in keyed diff\n\t// - Remaining children still need moved appropriately\n\t//\n\t// Ideally, I'd track removed nodes as well, but that introduces a lot more\n\t// complexity and I'm not exactly interested in doing that.\n\tfunction moveNodes(parent, vnode, nextSibling) {\n\t\tvar frag = $doc.createDocumentFragment()\n\t\tmoveChildToFrag(parent, frag, vnode)\n\t\tinsertNode(parent, frag, nextSibling)\n\t}\n\tfunction moveChildToFrag(parent, frag, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\t\t\tfrag.appendChild(vnode.instance[i])\n\t\t\t\t}\n\t\t\t} else if (vnode.tag !== \"[\") {\n\t\t\t\t// Don't recurse for text nodes *or* elements, just fragments\n\t\t\t\tfrag.appendChild(vnode.dom)\n\t\t\t} else if (vnode.children.length === 1) {\n\t\t\t\tvnode = vnode.children[0]\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else {\n\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\tif (child != null) moveChildToFrag(parent, frag, child)\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\n\tfunction maybeSetContentEditable(vnode) {\n\t\tif (vnode.attrs == null || (\n\t\t\tvnode.attrs.contenteditable == null && // attribute\n\t\t\tvnode.attrs.contentEditable == null // property\n\t\t)) return false\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t\treturn true\n\t}\n\n\t//remove\n\tfunction removeNodes(parent, vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) removeNode(parent, vnode)\n\t\t}\n\t}\n\tfunction removeNode(parent, vnode) {\n\t\tvar mask = 0\n\t\tvar original = vnode.state\n\t\tvar stateResult, attrsResult\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\tmask = 1\n\t\t\t\tstateResult = result\n\t\t\t}\n\t\t}\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tmask |= 2\n\t\t\t\tattrsResult = result\n\t\t\t}\n\t\t}\n\t\tcheckState(vnode, original)\n\n\t\t// If we can, try to fast-path it and avoid all the overhead of awaiting\n\t\tif (!mask) {\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t} else {\n\t\t\tif (stateResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 1) { mask &= 2; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tstateResult.then(next, next)\n\t\t\t}\n\t\t\tif (attrsResult != null) {\n\t\t\t\tvar next = function () {\n\t\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\t\tif (mask & 2) { mask &= 1; if (!mask) reallyRemove() }\n\t\t\t\t}\n\t\t\t\tattrsResult.then(next, next)\n\t\t\t}\n\t\t}\n\n\t\tfunction reallyRemove() {\n\t\t\tcheckState(vnode, original)\n\t\t\tonremove(vnode)\n\t\t\tremoveChild(parent, vnode)\n\t\t}\n\t}\n\tfunction removeHTML(parent, vnode) {\n\t\tfor (var i = 0; i < vnode.instance.length; i++) {\n\t\t\tparent.removeChild(vnode.instance[i])\n\t\t}\n\t}\n\tfunction removeChild(parent, vnode) {\n\t\t// Dodge the recursion overhead in a few of the most common cases.\n\t\twhile (vnode.dom != null && vnode.dom.parentNode === parent) {\n\t\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\t\tvnode = vnode.instance\n\t\t\t\tif (vnode != null) continue\n\t\t\t} else if (vnode.tag === \"<\") {\n\t\t\t\tremoveHTML(parent, vnode)\n\t\t\t} else {\n\t\t\t\tif (vnode.tag !== \"[\") {\n\t\t\t\t\tparent.removeChild(vnode.dom)\n\t\t\t\t\tif (!Array.isArray(vnode.children)) break\n\t\t\t\t}\n\t\t\t\tif (vnode.children.length === 1) {\n\t\t\t\t\tvnode = vnode.children[0]\n\t\t\t\t\tif (vnode != null) continue\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < vnode.children.length; i++) {\n\t\t\t\t\t\tvar child = vnode.children[i]\n\t\t\t\t\t\tif (child != null) removeChild(parent, child)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\tfunction onremove(vnode) {\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onremove === \"function\") callHook.call(vnode.state.onremove, vnode)\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//attrs\n\tfunction setAttrs(vnode, attrs, ns) {\n\t\tfor (var key in attrs) {\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, value)\n\t\telse if (hasPropertyKey(vnode, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === \"\" + value && vnode.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old !== null && vnode.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type that is not supported by IE 11 with an assignment expression, an error will occur.\n\t\t\tif (vnode.tag === \"input\" && key === \"type\") vnode.dom.setAttribute(key, value)\n\t\t\telse vnode.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode.tag === \"option\"\n\t\t\t\t|| vnode.tag === \"select\" && vnode.dom.selectedIndex === -1 && vnode.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode, attrs) {\n\t\tif (\"value\" in attrs) {\n\t\t\tif(attrs.value === null) {\n\t\t\t\tif (vnode.dom.selectedIndex !== -1) vnode.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode.dom.value !== normalized || vnode.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode, old, attrs, ns) {\n\t\tif (attrs != null) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs == null || attrs[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === activeElement() || vnode.tag === \"option\" && vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode.tag.indexOf(\"-\") > -1 || vnode.attrs != null && vnode.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode.dom\n\t}\n\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {\n\t\t// Save this, so the current redraw is correctly tracked.\n\t\tthis._ = currentRedraw\n\t}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler === \"function\") result = handler.call(ev.currentTarget, ev)\n\t\telse if (typeof handler.handleEvent === \"function\") handler.handleEvent(ev)\n\t\tif (this._ && ev.redraw !== false) (0, this._)()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\n\t//event\n\tfunction updateEvent(vnode, key, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode.events[key] == null) vnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key] != null) vnode.dom.removeEventListener(key.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key.slice(2), vnode.events, false)\n\t\t\tvnode.events[key] = value\n\t\t}\n\t}\n\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tdo {\n\t\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode.dom = old.dom\n\t\tvnode.domSize = old.domSize\n\t\tvnode.instance = old.instance\n\t\t// One would think having the actual latest attributes would be ideal,\n\t\t// but it doesn't let us properly diff based on our current internal\n\t\t// representation. We have to save not only the old DOM info, but also\n\t\t// the attributes used to create it, as we diff *that*, not against the\n\t\t// DOM directly (with a few exceptions in `setAttr`). And, of course, we\n\t\t// need to save the children and text as they are conceptually not\n\t\t// unlike special \"attributes\" internally.\n\t\tvnode.attrs = old.attrs\n\t\tvnode.children = old.children\n\t\tvnode.text = old.text\n\t\treturn true\n\t}\n\n\treturn function(dom, vnodes, redraw) {\n\t\tif (!dom) throw new TypeError(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\n\t\t// First time rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tvar prevRedraw = currentRedraw\n\t\ttry {\n\t\t\tcurrentRedraw = typeof redraw === \"function\" ? redraw : undefined\n\t\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\t} finally {\n\t\t\tcurrentRedraw = prevRedraw\n\t\t}\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n}\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\n\nmodule.exports = function(render, schedule, console) {\n\tvar subscriptions = []\n\tvar rendering = false\n\tvar pending = false\n\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 0; i < subscriptions.length; i += 2) {\n\t\t\ttry { render(subscriptions[i], Vnode(subscriptions[i + 1]), redraw) }\n\t\t\tcatch (e) { console.error(e) }\n\t\t}\n\t\trendering = false\n\t}\n\n\tfunction redraw() {\n\t\tif (!pending) {\n\t\t\tpending = true\n\t\t\tschedule(function() {\n\t\t\t\tpending = false\n\t\t\t\tsync()\n\t\t\t})\n\t\t}\n\t}\n\n\tredraw.sync = sync\n\n\tfunction mount(root, component) {\n\t\tif (component != null && component.view == null && typeof component !== \"function\") {\n\t\t\tthrow new TypeError(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t}\n\n\t\tvar index = subscriptions.indexOf(root)\n\t\tif (index >= 0) {\n\t\t\tsubscriptions.splice(index, 2)\n\t\t\trender(root, [], redraw)\n\t\t}\n\n\t\tif (component != null) {\n\t\t\tsubscriptions.push(root, component)\n\t\t\trender(root, Vnode(component), redraw)\n\t\t}\n\t}\n\n\treturn {mount: mount, redraw: redraw}\n}\n","\"use strict\"\n\nvar buildPathname = require(\"../pathname/build\")\n\nmodule.exports = function($window, Promise, oncompletion) {\n\tvar callbackCount = 0\n\n\tfunction PromiseProxy(executor) {\n\t\treturn new Promise(executor)\n\t}\n\n\t// In case the global Promise is some userland library's where they rely on\n\t// `foo instanceof this.constructor`, `this.constructor.resolve(value)`, or\n\t// similar. Let's *not* break them.\n\tPromiseProxy.prototype = Promise.prototype\n\tPromiseProxy.__proto__ = Promise // eslint-disable-line no-proto\n\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(buildPathname(url, args.params), args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\n\t\t\treturn wrap(promise)\n\n\t\t\tfunction wrap(promise) {\n\t\t\t\tvar then = promise.then\n\t\t\t\t// Set the constructor, so engines know to not await or resolve\n\t\t\t\t// this as a native promise. At the time of writing, this is\n\t\t\t\t// only necessary for V8, but their behavior is the correct\n\t\t\t\t// behavior per spec. See this spec issue for more details:\n\t\t\t\t// https://github.com/tc39/ecma262/issues/1577. Also, see the\n\t\t\t\t// corresponding comment in `request/tests/test-request.js` for\n\t\t\t\t// a bit more background on the issue at hand.\n\t\t\t\tpromise.constructor = PromiseProxy\n\t\t\t\tpromise.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then.apply(promise, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar body = args.body\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(body instanceof $window.FormData)\n\t\t\tvar responseType = args.responseType || (typeof args.extract === \"function\" ? \"\" : \"json\")\n\n\t\t\tvar xhr = new $window.XMLHttpRequest(), aborted = false\n\t\t\tvar original = xhr, replacedAbort\n\t\t\tvar abort = xhr.abort\n\n\t\t\txhr.abort = function() {\n\t\t\t\taborted = true\n\t\t\t\tabort.call(this)\n\t\t\t}\n\n\t\t\txhr.open(method, url, args.async !== false, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\n\t\t\tif (assumeJSON && body != null && !hasHeader(args, /^content-type$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\txhr.responseType = responseType\n\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txhr.onreadystatechange = function(ev) {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif (aborted) return\n\n\t\t\t\tif (ev.target.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (ev.target.status >= 200 && ev.target.status < 300) || ev.target.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\t// When the response type isn't \"\" or \"text\",\n\t\t\t\t\t\t// `xhr.responseText` is the wrong thing to use.\n\t\t\t\t\t\t// Browsers do the right thing and throw here, and we\n\t\t\t\t\t\t// should honor that and do the right thing by\n\t\t\t\t\t\t// preferring `xhr.response` where possible/practical.\n\t\t\t\t\t\tvar response = ev.target.response, message\n\n\t\t\t\t\t\tif (responseType === \"json\") {\n\t\t\t\t\t\t\t// For IE and Edge, which don't implement\n\t\t\t\t\t\t\t// `responseType: \"json\"`.\n\t\t\t\t\t\t\tif (!ev.target.responseType && typeof args.extract !== \"function\") response = JSON.parse(ev.target.responseText)\n\t\t\t\t\t\t} else if (!responseType || responseType === \"text\") {\n\t\t\t\t\t\t\t// Only use this default if it's text. If a parsed\n\t\t\t\t\t\t\t// document is needed on old IE and friends (all\n\t\t\t\t\t\t\t// unsupported), the user should use a custom\n\t\t\t\t\t\t\t// `config` instead. They're already using this at\n\t\t\t\t\t\t\t// their own risk.\n\t\t\t\t\t\t\tif (response == null) response = ev.target.responseText\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(ev.target, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttry { message = ev.target.responseText }\n\t\t\t\t\t\t\tcatch (e) { message = response }\n\t\t\t\t\t\t\tvar error = new Error(message)\n\t\t\t\t\t\t\terror.code = ev.target.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof args.config === \"function\") {\n\t\t\t\txhr = args.config(xhr, args, url) || xhr\n\n\t\t\t\t// Propagate the `abort` to any replacement XHR as well.\n\t\t\t\tif (xhr !== original) {\n\t\t\t\t\treplacedAbort = xhr.abort\n\t\t\t\t\txhr.abort = function() {\n\t\t\t\t\t\taborted = true\n\t\t\t\t\t\treplacedAbort.call(this)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (body == null) xhr.send()\n\t\t\telse if (typeof args.serialize === \"function\") xhr.send(args.serialize(body))\n\t\t\telse if (body instanceof $window.FormData) xhr.send(body)\n\t\t\telse xhr.send(JSON.stringify(body))\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tdelete $window[callbackName]\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t}\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t}\n}\n","\"use strict\"\n\nvar mountRedraw = require(\"./mount-redraw\")\n\nmodule.exports = require(\"./api/router\")(window, mountRedraw)\n","\"use strict\"\n\nvar Vnode = require(\"../render/vnode\")\nvar m = require(\"../render/hyperscript\")\nvar Promise = require(\"../promise/promise\")\n\nvar buildPathname = require(\"../pathname/build\")\nvar parsePathname = require(\"../pathname/parse\")\nvar compileTemplate = require(\"../pathname/compileTemplate\")\nvar assign = require(\"../pathname/assign\")\n\nvar sentinel = {}\n\nmodule.exports = function($window, mountRedraw) {\n\tvar fireAsync\n\n\tfunction setPath(path, data, options) {\n\t\tpath = buildPathname(path, data)\n\t\tif (fireAsync != null) {\n\t\t\tfireAsync()\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, route.prefix + path)\n\t\t\telse $window.history.pushState(state, title, route.prefix + path)\n\t\t}\n\t\telse {\n\t\t\t$window.location.href = route.prefix + path\n\t\t}\n\t}\n\n\tvar currentResolver = sentinel, component, attrs, currentPath, lastUpdate\n\n\tvar SKIP = route.SKIP = {}\n\n\tfunction route(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\t// 0 = start\n\t\t// 1 = init\n\t\t// 2 = ready\n\t\tvar state = 0\n\n\t\tvar compiled = Object.keys(routes).map(function(route) {\n\t\t\tif (route[0] !== \"/\") throw new SyntaxError(\"Routes must start with a `/`\")\n\t\t\tif ((/:([^\\/\\.-]+)(\\.{3})?:/).test(route)) {\n\t\t\t\tthrow new SyntaxError(\"Route parameter names must be separated with either `/`, `.`, or `-`\")\n\t\t\t}\n\t\t\treturn {\n\t\t\t\troute: route,\n\t\t\t\tcomponent: routes[route],\n\t\t\t\tcheck: compileTemplate(route),\n\t\t\t}\n\t\t})\n\t\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\t\tvar p = Promise.resolve()\n\t\tvar scheduled = false\n\t\tvar onremove\n\n\t\tfireAsync = null\n\n\t\tif (defaultRoute != null) {\n\t\t\tvar defaultData = parsePathname(defaultRoute)\n\n\t\t\tif (!compiled.some(function (i) { return i.check(defaultData) })) {\n\t\t\t\tthrow new ReferenceError(\"Default route doesn't match any known routes\")\n\t\t\t}\n\t\t}\n\n\t\tfunction resolveRoute() {\n\t\t\tscheduled = false\n\t\t\t// Consider the pathname holistically. The prefix might even be invalid,\n\t\t\t// but that's not our problem.\n\t\t\tvar prefix = $window.location.hash\n\t\t\tif (route.prefix[0] !== \"#\") {\n\t\t\t\tprefix = $window.location.search + prefix\n\t\t\t\tif (route.prefix[0] !== \"?\") {\n\t\t\t\t\tprefix = $window.location.pathname + prefix\n\t\t\t\t\tif (prefix[0] !== \"/\") prefix = \"/\" + prefix\n\t\t\t\t}\n\t\t\t}\n\t\t\t// This seemingly useless `.concat()` speeds up the tests quite a bit,\n\t\t\t// since the representation is consistently a relatively poorly\n\t\t\t// optimized cons string.\n\t\t\tvar path = prefix.concat()\n\t\t\t\t.replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\t\t\t.slice(route.prefix.length)\n\t\t\tvar data = parsePathname(path)\n\n\t\t\tassign(data.params, $window.history.state)\n\n\t\t\tfunction fail() {\n\t\t\t\tif (path === defaultRoute) throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t\t\tsetPath(defaultRoute, null, {replace: true})\n\t\t\t}\n\n\t\t\tloop(0)\n\t\t\tfunction loop(i) {\n\t\t\t\t// 0 = init\n\t\t\t\t// 1 = scheduled\n\t\t\t\t// 2 = done\n\t\t\t\tfor (; i < compiled.length; i++) {\n\t\t\t\t\tif (compiled[i].check(data)) {\n\t\t\t\t\t\tvar payload = compiled[i].component\n\t\t\t\t\t\tvar matchedRoute = compiled[i].route\n\t\t\t\t\t\tvar localComp = payload\n\t\t\t\t\t\tvar update = lastUpdate = function(comp) {\n\t\t\t\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\t\t\t\tif (comp === SKIP) return loop(i + 1)\n\t\t\t\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\t\t\t\tattrs = data.params, currentPath = path, lastUpdate = null\n\t\t\t\t\t\t\tcurrentResolver = payload.render ? payload : null\n\t\t\t\t\t\t\tif (state === 2) mountRedraw.redraw()\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstate = 2\n\t\t\t\t\t\t\t\tmountRedraw.redraw.sync()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// There's no understating how much I *wish* I could\n\t\t\t\t\t\t// use `async`/`await` here...\n\t\t\t\t\t\tif (payload.view || typeof payload === \"function\") {\n\t\t\t\t\t\t\tpayload = {}\n\t\t\t\t\t\t\tupdate(localComp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (payload.onmatch) {\n\t\t\t\t\t\t\tp.then(function () {\n\t\t\t\t\t\t\t\treturn payload.onmatch(data.params, path, matchedRoute)\n\t\t\t\t\t\t\t}).then(update, fail)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse update(\"div\")\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfail()\n\t\t\t}\n\t\t}\n\n\t\t// Set it unconditionally so `m.route.set` and `m.route.Link` both work,\n\t\t// even if neither `pushState` nor `hashchange` are supported. It's\n\t\t// cleared if `hashchange` is used, since that makes it automatically\n\t\t// async.\n\t\tfireAsync = function() {\n\t\t\tif (!scheduled) {\n\t\t\t\tscheduled = true\n\t\t\t\tcallAsync(resolveRoute)\n\t\t\t}\n\t\t}\n\n\t\tif (typeof $window.history.pushState === \"function\") {\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"popstate\", fireAsync, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"popstate\", fireAsync, false)\n\t\t} else if (route.prefix[0] === \"#\") {\n\t\t\tfireAsync = null\n\t\t\tonremove = function() {\n\t\t\t\t$window.removeEventListener(\"hashchange\", resolveRoute, false)\n\t\t\t}\n\t\t\t$window.addEventListener(\"hashchange\", resolveRoute, false)\n\t\t}\n\n\t\treturn mountRedraw.mount(root, {\n\t\t\tonbeforeupdate: function() {\n\t\t\t\tstate = state ? 2 : 1\n\t\t\t\treturn !(!state || sentinel === currentResolver)\n\t\t\t},\n\t\t\toncreate: resolveRoute,\n\t\t\tonremove: onremove,\n\t\t\tview: function() {\n\t\t\t\tif (!state || sentinel === currentResolver) return\n\t\t\t\t// Wrap in a fragment to preserve existing key semantics\n\t\t\t\tvar vnode = [Vnode(component, attrs.key, attrs)]\n\t\t\t\tif (currentResolver) vnode = currentResolver.render(vnode[0])\n\t\t\t\treturn vnode\n\t\t\t},\n\t\t})\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\tsetPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = \"#!\"\n\troute.Link = {\n\t\tview: function(vnode) {\n\t\t\tvar options = vnode.attrs.options\n\t\t\t// Remove these so they don't get overwritten\n\t\t\tvar attrs = {}, onclick, href\n\t\t\tassign(attrs, vnode.attrs)\n\t\t\t// The first two are internal, but the rest are magic attributes\n\t\t\t// that need censored to not screw up rendering.\n\t\t\tattrs.selector = attrs.options = attrs.key = attrs.oninit =\n\t\t\tattrs.oncreate = attrs.onbeforeupdate = attrs.onupdate =\n\t\t\tattrs.onbeforeremove = attrs.onremove = null\n\n\t\t\t// Do this now so we can get the most current `href` and `disabled`.\n\t\t\t// Those attributes may also be specified in the selector, and we\n\t\t\t// should honor that.\n\t\t\tvar child = m(vnode.attrs.selector || \"a\", attrs, vnode.children)\n\n\t\t\t// Let's provide a *right* way to disable a route link, rather than\n\t\t\t// letting people screw up accessibility on accident.\n\t\t\t//\n\t\t\t// The attribute is coerced so users don't get surprised over\n\t\t\t// `disabled: 0` resulting in a button that's somehow routable\n\t\t\t// despite being visibly disabled.\n\t\t\tif (child.attrs.disabled = Boolean(child.attrs.disabled)) {\n\t\t\t\tchild.attrs.href = null\n\t\t\t\tchild.attrs[\"aria-disabled\"] = \"true\"\n\t\t\t\t// If you *really* do want to do this on a disabled link, use\n\t\t\t\t// an `oncreate` hook to add it.\n\t\t\t\tchild.attrs.onclick = null\n\t\t\t} else {\n\t\t\t\tonclick = child.attrs.onclick\n\t\t\t\thref = child.attrs.href\n\t\t\t\tchild.attrs.href = route.prefix + href\n\t\t\t\tchild.attrs.onclick = function(e) {\n\t\t\t\t\tvar result\n\t\t\t\t\tif (typeof onclick === \"function\") {\n\t\t\t\t\t\tresult = onclick.call(e.currentTarget, e)\n\t\t\t\t\t} else if (onclick == null || typeof onclick !== \"object\") {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t} else if (typeof onclick.handleEvent === \"function\") {\n\t\t\t\t\t\tonclick.handleEvent(e)\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adapted from React Router's implementation:\n\t\t\t\t\t// https://github.com/ReactTraining/react-router/blob/520a0acd48ae1b066eb0b07d6d4d1790a1d02482/packages/react-router-dom/modules/Link.js\n\t\t\t\t\t//\n\t\t\t\t\t// Try to be flexible and intuitive in how we handle links.\n\t\t\t\t\t// Fun fact: links aren't as obvious to get right as you\n\t\t\t\t\t// would expect. There's a lot more valid ways to click a\n\t\t\t\t\t// link than this, and one might want to not simply click a\n\t\t\t\t\t// link, but right click or command-click it to copy the\n\t\t\t\t\t// link target, etc. Nope, this isn't just for blind people.\n\t\t\t\t\tif (\n\t\t\t\t\t\t// Skip if `onclick` prevented default\n\t\t\t\t\t\tresult !== false && !e.defaultPrevented &&\n\t\t\t\t\t\t// Ignore everything but left clicks\n\t\t\t\t\t\t(e.button === 0 || e.which === 0 || e.which === 1) &&\n\t\t\t\t\t\t// Let the browser handle `target=_blank`, etc.\n\t\t\t\t\t\t(!e.currentTarget.target || e.currentTarget.target === \"_self\") &&\n\t\t\t\t\t\t// No modifier keys\n\t\t\t\t\t\t!e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey\n\t\t\t\t\t) {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.redraw = false\n\t\t\t\t\t\troute.set(href, null, options)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn child\n\t\t},\n\t}\n\troute.param = function(key) {\n\t\treturn attrs && key != null ? attrs[key] : attrs\n\t}\n\n\treturn route\n}\n","\"use strict\"\n\nvar parsePathname = require(\"./parse\")\n\n// Compiles a template into a function that takes a resolved path (without query\n// strings) and returns an object containing the template parameters with their\n// parsed values. This expects the input of the compiled template to be the\n// output of `parsePathname`. Note that it does *not* remove query parameters\n// specified in the template.\nmodule.exports = function(template) {\n\tvar templateData = parsePathname(template)\n\tvar templateKeys = Object.keys(templateData.params)\n\tvar keys = []\n\tvar regexp = new RegExp(\"^\" + templateData.path.replace(\n\t\t// I escape literal text so people can use things like `:file.:ext` or\n\t\t// `:lang-:locale` in routes. This is all merged into one pass so I\n\t\t// don't also accidentally escape `-` and make it harder to detect it to\n\t\t// ban it from template parameters.\n\t\t/:([^\\/.-]+)(\\.{3}|\\.(?!\\.)|-)?|[\\\\^$*+.()|\\[\\]{}]/g,\n\t\tfunction(m, key, extra) {\n\t\t\tif (key == null) return \"\\\\\" + m\n\t\t\tkeys.push({k: key, r: extra === \"...\"})\n\t\t\tif (extra === \"...\") return \"(.*)\"\n\t\t\tif (extra === \".\") return \"([^/]+)\\\\.\"\n\t\t\treturn \"([^/]+)\" + (extra || \"\")\n\t\t}\n\t) + \"$\")\n\treturn function(data) {\n\t\t// First, check the params. Usually, there isn't any, and it's just\n\t\t// checking a static set.\n\t\tfor (var i = 0; i < templateKeys.length; i++) {\n\t\t\tif (templateData.params[templateKeys[i]] !== data.params[templateKeys[i]]) return false\n\t\t}\n\t\t// If no interpolations exist, let's skip all the ceremony\n\t\tif (!keys.length) return regexp.test(data.path)\n\t\tvar values = regexp.exec(data.path)\n\t\tif (values == null) return false\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tdata.params[keys[i].k] = keys[i].r ? values[i + 1] : decodeURIComponent(values[i + 1])\n\t\t}\n\t\treturn true\n\t}\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","/* eslint-disable */\n;(function() {\n\"use strict\"\n/* eslint-enable */\nStream.SKIP = {}\nStream.lift = lift\nStream.scan = scan\nStream.merge = merge\nStream.combine = combine\nStream.scanMerge = scanMerge\nStream[\"fantasy-land/of\"] = Stream\n\nvar warnedHalt = false\nObject.defineProperty(Stream, \"HALT\", {\n\tget: function() {\n\t\twarnedHalt || console.log(\"HALT is deprecated and has been renamed to SKIP\");\n\t\twarnedHalt = true\n\t\treturn Stream.SKIP\n\t}\n})\n\nfunction Stream(value) {\n\tvar dependentStreams = []\n\tvar dependentFns = []\n\n\tfunction stream(v) {\n\t\tif (arguments.length && v !== Stream.SKIP) {\n\t\t\tvalue = v\n\t\t\tif (open(stream)) {\n\t\t\t\tstream._changing()\n\t\t\t\tstream._state = \"active\"\n\t\t\t\tdependentStreams.forEach(function(s, i) { s(dependentFns[i](value)) })\n\t\t\t}\n\t\t}\n\n\t\treturn value\n\t}\n\n\tstream.constructor = Stream\n\tstream._state = arguments.length && value !== Stream.SKIP ? \"active\" : \"pending\"\n\tstream._parents = []\n\n\tstream._changing = function() {\n\t\tif (open(stream)) stream._state = \"changing\"\n\t\tdependentStreams.forEach(function(s) {\n\t\t\ts._changing()\n\t\t})\n\t}\n\n\tstream._map = function(fn, ignoreInitial) {\n\t\tvar target = ignoreInitial ? Stream() : Stream(fn(value))\n\t\ttarget._parents.push(stream)\n\t\tdependentStreams.push(target)\n\t\tdependentFns.push(fn)\n\t\treturn target\n\t}\n\n\tstream.map = function(fn) {\n\t\treturn stream._map(fn, stream._state !== \"active\")\n\t}\n\n\tvar end\n\tfunction createEnd() {\n\t\tend = Stream()\n\t\tend.map(function(value) {\n\t\t\tif (value === true) {\n\t\t\t\tstream._parents.forEach(function (p) {p._unregisterChild(stream)})\n\t\t\t\tstream._state = \"ended\"\n\t\t\t\tstream._parents.length = dependentStreams.length = dependentFns.length = 0\n\t\t\t}\n\t\t\treturn value\n\t\t})\n\t\treturn end\n\t}\n\n\tstream.toJSON = function() { return value != null && typeof value.toJSON === \"function\" ? value.toJSON() : value }\n\n\tstream[\"fantasy-land/map\"] = stream.map\n\tstream[\"fantasy-land/ap\"] = function(x) { return combine(function(s1, s2) { return s1()(s2()) }, [x, stream]) }\n\n\tstream._unregisterChild = function(child) {\n\t\tvar childIndex = dependentStreams.indexOf(child)\n\t\tif (childIndex !== -1) {\n\t\t\tdependentStreams.splice(childIndex, 1)\n\t\t\tdependentFns.splice(childIndex, 1)\n\t\t}\n\t}\n\n\tObject.defineProperty(stream, \"end\", {\n\t\tget: function() { return end || createEnd() }\n\t})\n\n\treturn stream\n}\n\nfunction combine(fn, streams) {\n\tvar ready = streams.every(function(s) {\n\t\tif (s.constructor !== Stream)\n\t\t\tthrow new Error(\"Ensure that each item passed to stream.combine/stream.merge/lift is a stream\")\n\t\treturn s._state === \"active\"\n\t})\n\tvar stream = ready\n\t\t? Stream(fn.apply(null, streams.concat([streams])))\n\t\t: Stream()\n\n\tvar changed = []\n\n\tvar mappers = streams.map(function(s) {\n\t\treturn s._map(function(value) {\n\t\t\tchanged.push(s)\n\t\t\tif (ready || streams.every(function(s) { return s._state !== \"pending\" })) {\n\t\t\t\tready = true\n\t\t\t\tstream(fn.apply(null, streams.concat([changed])))\n\t\t\t\tchanged = []\n\t\t\t}\n\t\t\treturn value\n\t\t}, true)\n\t})\n\n\tvar endStream = stream.end.map(function(value) {\n\t\tif (value === true) {\n\t\t\tmappers.forEach(function(mapper) { mapper.end(true) })\n\t\t\tendStream.end(true)\n\t\t}\n\t\treturn undefined\n\t})\n\n\treturn stream\n}\n\nfunction merge(streams) {\n\treturn combine(function() { return streams.map(function(s) { return s() }) }, streams)\n}\n\nfunction scan(fn, acc, origin) {\n\tvar stream = origin.map(function(v) {\n\t\tvar next = fn(acc, v)\n\t\tif (next !== Stream.SKIP) acc = next\n\t\treturn next\n\t})\n\tstream(acc)\n\treturn stream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) { return tuple[0] })\n\n\tvar stream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1]\n\t\tstreams.forEach(function(stream, i) {\n\t\t\tif (changed.indexOf(stream) > -1)\n\t\t\t\tseed = tuples[i][1](seed, stream())\n\t\t})\n\n\t\treturn seed\n\t}, streams)\n\n\tstream(seed)\n\n\treturn stream\n}\n\nfunction lift() {\n\tvar fn = arguments[0]\n\tvar streams = Array.prototype.slice.call(arguments, 1)\n\treturn merge(streams).map(function(streams) {\n\t\treturn fn.apply(undefined, streams)\n\t})\n}\n\nfunction open(s) {\n\treturn s._state === \"pending\" || s._state === \"active\" || s._state === \"changing\"\n}\n\nif (typeof module !== \"undefined\") module[\"exports\"] = Stream\nelse if (typeof window.m === \"function\" && !(\"stream\" in window.m)) window.m.stream = Stream\nelse window.m = {stream : Stream}\n\n}());\n","export const getRandomId = () => Math.round(1000 * Math.random()).toString();\n","import { getRandomId } from \"./utils\";\nexport const createFns = ({ instance, component, className, title, id, spawn, styles, timeout, queued }) => {\n    const contentId = `${id ? `id${id}` : ''}${spawn ? `spawn${spawn}` : ''}`;\n    const props = {\n        dialogic: {\n            component: component,\n            className,\n            styles,\n            id,\n            spawn,\n            ...(spawn !== undefined\n                ? { spawn }\n                : undefined),\n            ...(timeout !== undefined\n                ? { timeout }\n                : undefined),\n            ...(queued !== undefined\n                ? { queued }\n                : undefined),\n        },\n        className: \"instance-content\",\n        id: getRandomId(),\n        contentId\n    };\n    const showFn = () => instance.show({\n        ...props,\n        title: `${title} ${getRandomId()}`,\n    });\n    const hideFn = () => instance.hide({\n        ...props,\n        title: `${title} ${getRandomId()} hiding`,\n    });\n    return {\n        showFn,\n        hideFn\n    };\n};\n","import m from 'mithril';\nexport const Default = {\n    view: ({ attrs }) => m('div', {\n        className: attrs.className,\n        'data-test-id': `content-default${attrs.contentId ? `-${attrs.contentId}` : ''}`,\n    }, [\n        m('h2', attrs.title),\n        m('button', {\n            className: 'button',\n            onclick: () => attrs.hide(),\n            'data-test-id': 'button-hide-content',\n        }, 'Hide from component'),\n    ]),\n};\n","import m from \"mithril\";\nexport const buttons = ({ showFn, hideFn, id, spawn, name }) => {\n    const genName = name || `${id ? `id${id}` : ''}${spawn ? `spawn${spawn}` : ''}` || \"default\";\n    return m(\"div\", { className: \"buttons\" }, [\n        showFn && m(\"button\", {\n            className: \"button primary\",\n            onclick: showFn,\n            \"data-test-id\": `button-show-${genName}`\n        }, `Show ${genName}`),\n        hideFn && m(\"button\", {\n            className: \"button\",\n            onclick: hideFn,\n            \"data-test-id\": `button-hide-${genName}`\n        }, `Hide ${genName}`),\n    ]);\n};\n","import Stream from 'mithril/stream';\nexport { default as Stream } from 'mithril/stream';\n\nconst pipe = (...fns) => (x) => fns.filter(Boolean).reduce((y, f) => f(y), x);\nconst getStyleValue = ({ domElement, prop, }) => {\n    const defaultView = document.defaultView;\n    if (defaultView) {\n        const style = defaultView.getComputedStyle(domElement);\n        if (style) {\n            return style.getPropertyValue(prop);\n        }\n    }\n};\n\nconst MODE = {\n    SHOW: 'show',\n    HIDE: 'hide',\n};\nconst removeTransitionClassNames = (domElement, transitionClassNames) => domElement.classList.remove(...transitionClassNames.showStart, ...transitionClassNames.showEnd, ...transitionClassNames.hideStart, ...transitionClassNames.hideEnd);\nconst applyTransitionStyles = (domElement, step, styles) => {\n    const transitionStyle = styles[step] || {};\n    Object.keys(transitionStyle).forEach((key) => {\n        const value = transitionStyle[key].toString();\n        domElement.style[key] = value;\n        // if (domElement.style[key] !== value) {\n        // \tconsole.warn(`Invalid style: ${key}: ${value} (${domElement.style[key]})`);\n        // }\n    });\n};\nconst applyNoDurationTransitionStyle = (domElement) => (domElement.style.transitionDuration = '0ms');\nconst getTransitionStyles = (domElement, styles) => (typeof styles === 'function' ? styles(domElement) : styles) || {};\nconst createClassList = (className, step) => className.split(/ /).map((n) => `${n}-${step}`);\nconst applyStylesForState = (domElement, props, step, isEnterStep) => {\n    if (props.styles) {\n        const styles = getTransitionStyles(domElement, props.styles);\n        applyTransitionStyles(domElement, 'default', styles);\n        isEnterStep && applyNoDurationTransitionStyle(domElement);\n        applyTransitionStyles(domElement, step, styles);\n    }\n    if (props.className) {\n        const transitionClassNames = {\n            showStart: createClassList(props.className, 'show-start'),\n            showEnd: createClassList(props.className, 'show-end'),\n            hideStart: createClassList(props.className, 'hide-start'),\n            hideEnd: createClassList(props.className, 'hide-end'),\n        };\n        removeTransitionClassNames(domElement, transitionClassNames);\n        transitionClassNames &&\n            domElement.classList.add(...transitionClassNames[step]);\n    }\n    // reflow\n    domElement.scrollTop;\n};\nconst getDuration = (domElement) => {\n    const durationStyleValue = getStyleValue({\n        domElement,\n        prop: 'transition-duration',\n    });\n    const durationValue = durationStyleValue !== undefined\n        ? styleDurationToMs(durationStyleValue)\n        : 0;\n    const delayStyleValue = getStyleValue({\n        domElement,\n        prop: 'transition-delay',\n    });\n    const delayValue = delayStyleValue !== undefined ? styleDurationToMs(delayStyleValue) : 0;\n    return durationValue + delayValue;\n};\nconst steps = {\n    showStart: {\n        nextStep: 'showEnd',\n    },\n    showEnd: {\n        nextStep: undefined,\n    },\n    hideStart: {\n        nextStep: 'hideEnd',\n    },\n    hideEnd: {\n        nextStep: undefined,\n    },\n};\nconst transition = (props, mode) => {\n    const domElement = props.domElement;\n    if (!domElement) {\n        return Promise.resolve('no domElement');\n    }\n    clearTimeout(props.__transitionTimeoutId__);\n    let currentStep = mode === MODE.SHOW ? 'showStart' : 'hideStart';\n    return new Promise(resolve => {\n        applyStylesForState(domElement, props, currentStep, currentStep === 'showStart');\n        setTimeout(() => {\n            const nextStep = steps[currentStep].nextStep;\n            if (nextStep) {\n                currentStep = nextStep;\n                applyStylesForState(domElement, props, currentStep);\n                // addEventListener sometimes hangs this function because it never finishes\n                // Using setTimeout instead of addEventListener gives more consistent results\n                const duration = getDuration(domElement);\n                props.__transitionTimeoutId__ = setTimeout(resolve, duration);\n            }\n        }, 0);\n    });\n};\nconst styleDurationToMs = (durationStr) => {\n    const parsed = parseFloat(durationStr) * (durationStr.indexOf('ms') === -1 ? 1000 : 1);\n    return isNaN(parsed) ? 0 : parsed;\n};\n\nconst findItem = (id, items) => {\n    return items.find(item => item.id === id);\n};\nconst itemIndex = (id, items) => {\n    const item = findItem(id, items);\n    return items.indexOf(item);\n};\nconst removeItem = (id, items) => {\n    const index = itemIndex(id, items);\n    if (index !== -1) {\n        items.splice(index, 1);\n    }\n    return items;\n};\nconst createId = (identityOptions, ns) => [ns, identityOptions.id, identityOptions.spawn].filter(Boolean).join('-');\nconst store = {\n    initialState: {\n        store: {},\n    },\n    actions: (update) => {\n        return {\n            /**\n             * Add an item to the end of the list.\n             */\n            add: (ns, item) => {\n                update((state) => {\n                    const items = state.store[ns] || [];\n                    state.store[ns] = [...items, item];\n                    if (item.timer) {\n                        // When the timer state updates, refresh the store so that UI can pick up the change\n                        item.timer.states.map(() => store.actions(update).refresh());\n                    }\n                    return state;\n                });\n            },\n            /**\n             * Removes the first item with a match on `id`.\n             */\n            remove: (ns, id) => {\n                update((state) => {\n                    const items = state.store[ns] || [];\n                    const remaining = removeItem(id, items);\n                    state.store[ns] = remaining;\n                    return state;\n                });\n            },\n            /**\n             * Replaces the first item with a match on `id` with a newItem.\n             */\n            replace: (ns, id, newItem) => {\n                update((state) => {\n                    const items = state.store[ns] || [];\n                    if (items) {\n                        const index = itemIndex(id, items);\n                        if (index !== -1) {\n                            items[index] = newItem;\n                            state.store[ns] = [...items];\n                        }\n                    }\n                    return state;\n                });\n            },\n            /**\n             * Removes all items within a namespace.\n             */\n            removeAll: (ns) => {\n                update((state) => {\n                    state.store[ns] = [];\n                    return state;\n                });\n            },\n            /**\n             * Replaces all items within a namespace.\n             */\n            store: (ns, newItems) => {\n                update((state) => {\n                    state.store[ns] = [...newItems];\n                    return state;\n                });\n            },\n            refresh: () => {\n                update((state) => {\n                    return {\n                        ...state,\n                    };\n                });\n            },\n        };\n    },\n    selectors: (states) => {\n        const fns = {\n            getStore: () => {\n                const state = states();\n                return state.store;\n            },\n            find: (ns, identityOptions) => {\n                const state = states();\n                const items = state.store[ns] || [];\n                const id = createId(identityOptions, ns);\n                const item = items.find((item) => item.id === id);\n                return item ? { just: item } : { nothing: undefined };\n            },\n            getAll: (ns, identityOptions) => {\n                const state = states();\n                const items = state.store[ns] || [];\n                const spawn = identityOptions !== undefined ? identityOptions.spawn : undefined;\n                const id = identityOptions !== undefined ? identityOptions.id : undefined;\n                const itemsBySpawn = spawn !== undefined\n                    ? items.filter(item => item.identityOptions.spawn === spawn)\n                    : items;\n                const itemsById = id !== undefined\n                    ? itemsBySpawn.filter(item => item.identityOptions.id === id)\n                    : itemsBySpawn;\n                return itemsById;\n            },\n            getCount: (ns, identityOptions) => fns.getAll(ns, identityOptions).length,\n        };\n        return fns;\n    },\n};\nconst update = Stream();\nconst states = Stream.scan((state, patch) => patch(state), {\n    ...store.initialState,\n}, update);\nconst actions = {\n    ...store.actions(update),\n};\nconst selectors = {\n    ...store.selectors(states),\n};\n// states.map(state =>\n//   console.log(JSON.stringify(state, null, 2))\n// );\n\nconst initialState = {\n    callback: () => { },\n    isPaused: false,\n    onAbort: () => { },\n    onDone: () => { },\n    promise: undefined,\n    remaining: undefined,\n    startTime: undefined,\n    timeoutFn: () => { },\n    timerId: undefined,\n};\nconst appendStartTimer = (state, callback, duration, updateState) => {\n    const timeoutFn = () => {\n        callback();\n        state.onDone();\n        updateState();\n    };\n    return {\n        timeoutFn,\n        promise: new Promise((resolve, reject) => {\n            state.onDone = () => resolve();\n            state.onAbort = () => resolve();\n        }),\n        ...(state.isPaused\n            ? {}\n            : {\n                startTime: new Date().getTime(),\n                timerId: window.setTimeout(timeoutFn, duration),\n                remaining: duration,\n            })\n    };\n};\nconst appendStopTimeout = (state) => {\n    window.clearTimeout(state.timerId);\n    return {\n        timerId: initialState.timerId\n    };\n};\nconst appendStopTimer = (state) => {\n    return {\n        ...appendStopTimeout(state),\n    };\n};\nconst appendPauseTimer = (state) => {\n    return {\n        ...appendStopTimeout(state),\n        isPaused: true,\n        remaining: getRemaining(state)\n    };\n};\nconst appendResumeTimer = (state, minimumDuration) => {\n    window.clearTimeout(state.timerId);\n    const remaining = minimumDuration\n        ? Math.max(state.remaining || 0, minimumDuration)\n        : state.remaining;\n    return {\n        startTime: new Date().getTime(),\n        isPaused: false,\n        remaining,\n        timerId: window.setTimeout(state.timeoutFn, remaining),\n    };\n};\nconst getRemaining = (state) => (state.remaining === 0 || state.remaining === undefined)\n    ? state.remaining\n    : state.remaining - (new Date().getTime() - (state.startTime || 0));\nconst Timer = () => {\n    const timer = {\n        initialState,\n        actions: (update) => {\n            return {\n                start: (callback, duration) => {\n                    update((state) => {\n                        return {\n                            ...state,\n                            ...appendStopTimeout(state),\n                            ...appendStartTimer(state, callback, duration, () => timer.actions(update).done()),\n                            ...(state.isPaused && appendPauseTimer(state)),\n                        };\n                    });\n                },\n                stop: () => {\n                    update((state) => {\n                        return {\n                            ...state,\n                            ...appendStopTimer(state),\n                            ...initialState\n                        };\n                    });\n                },\n                pause: () => {\n                    update((state) => {\n                        return {\n                            ...state,\n                            ...(!state.isPaused && appendPauseTimer(state)),\n                        };\n                    });\n                },\n                resume: (minimumDuration) => {\n                    update((state) => {\n                        return {\n                            ...state,\n                            ...(state.isPaused && appendResumeTimer(state, minimumDuration))\n                        };\n                    });\n                },\n                abort: () => {\n                    update((state) => {\n                        state.onAbort();\n                        return {\n                            ...state,\n                            ...appendStopTimeout(state),\n                        };\n                    });\n                },\n                done: () => {\n                    update((state) => {\n                        return initialState;\n                    });\n                },\n                refresh: () => {\n                    update((state) => {\n                        return {\n                            ...state,\n                        };\n                    });\n                },\n            };\n        },\n        selectors: (states) => {\n            return {\n                isPaused: () => {\n                    const state = states();\n                    return state.isPaused;\n                },\n                getRemaining: () => {\n                    const state = states();\n                    return state.isPaused\n                        ? state.remaining\n                        : getRemaining(state);\n                },\n                getResultPromise: () => {\n                    const state = states();\n                    return state.promise;\n                },\n            };\n        },\n    };\n    const update = Stream();\n    const states = Stream.scan((state, patch) => patch(state), {\n        ...timer.initialState,\n    }, update);\n    const actions = {\n        ...timer.actions(update),\n    };\n    const selectors = {\n        ...timer.selectors(states),\n    };\n    // states.map(state => \n    //   console.log(JSON.stringify(state, null, 2))\n    // );\n    return {\n        states,\n        actions,\n        selectors,\n    };\n};\n\nlet uid = 0;\nconst getUid = () => (uid === Number.MAX_VALUE ? 0 : uid++);\nconst transitionStates = {\n    default: 0,\n    displaying: 1,\n    hiding: 2,\n};\nconst getMaybeItem = (ns) => (defaultDialogicOptions) => (identityOptions) => selectors.find(ns, getMergedIdentityOptions(defaultDialogicOptions, identityOptions));\nconst filterBySpawn = (identityOptions) => (items) => identityOptions.spawn !== undefined\n    ? items.filter(item => item.identityOptions.spawn === identityOptions.spawn)\n    : items;\nconst filterById = (identityOptions) => (items) => identityOptions.id !== undefined\n    ? items.filter(item => item.identityOptions.id === identityOptions.id)\n    : items;\n/**\n * Gets a list of all non-queued items.\n * From the queued items only the first item is listed.\n * */\nconst filterFirstInQueue = (nsItems) => {\n    let queuedCount = 0;\n    return nsItems\n        .map(item => ({\n        item,\n        queueCount: item.dialogicOptions.queued ? queuedCount++ : 0,\n    }))\n        .filter(({ queueCount }) => queueCount === 0)\n        .map(({ item }) => item);\n};\nconst filterCandidates = (ns, items, identityOptions) => {\n    const nsItems = items[ns] || [];\n    if (nsItems.length == 0) {\n        return [];\n    }\n    return pipe(filterBySpawn(identityOptions), filterFirstInQueue)(nsItems);\n};\nconst getPassThroughOptions = options => {\n    const copy = {\n        ...options,\n    };\n    delete copy.dialogic;\n    return copy;\n};\nconst getMergedIdentityOptions = (defaultDialogicOptions, identityOptions = {}) => ({\n    id: identityOptions.id || defaultDialogicOptions.id,\n    spawn: identityOptions.spawn || defaultDialogicOptions.spawn,\n});\nconst handleOptions = (defaultDialogicOptions, options = {}) => {\n    const identityOptions = {\n        id: options.dialogic ? options.dialogic.id : undefined,\n        spawn: options.dialogic ? options.dialogic.spawn : undefined,\n    };\n    const mergedIdentityOptions = getMergedIdentityOptions(defaultDialogicOptions || {}, identityOptions);\n    const dialogicOptions = {\n        ...defaultDialogicOptions,\n        ...options.dialogic,\n        __transitionTimeoutId__: 0,\n    };\n    const passThroughOptions = getPassThroughOptions(options);\n    return {\n        identityOptions: mergedIdentityOptions,\n        dialogicOptions,\n        passThroughOptions,\n    };\n};\nconst createInstance = (ns) => (defaultDialogicOptions) => (options = {}) => {\n    const { identityOptions, dialogicOptions, passThroughOptions, } = handleOptions(defaultDialogicOptions, options);\n    return new Promise(resolve => {\n        const callbacks = {\n            didShow: (item) => {\n                if (dialogicOptions.didShow) {\n                    dialogicOptions.didShow(item);\n                }\n                return resolve(item);\n            },\n            didHide: (item) => {\n                if (dialogicOptions.didHide) {\n                    dialogicOptions.didHide(item);\n                }\n                return resolve(item);\n            },\n        };\n        const item = {\n            ns,\n            identityOptions,\n            dialogicOptions,\n            callbacks,\n            passThroughOptions,\n            id: createId(identityOptions, ns),\n            timer: dialogicOptions.timeout ? Timer() : undefined,\n            key: getUid().toString(),\n            transitionState: transitionStates.default,\n        };\n        const maybeExistingItem = selectors.find(ns, identityOptions);\n        if (maybeExistingItem.just && dialogicOptions.toggle) {\n            const hideResult = hide(ns)(defaultDialogicOptions)(options);\n            return resolve(hideResult);\n        }\n        if (maybeExistingItem.just && !dialogicOptions.queued) {\n            const existingItem = maybeExistingItem.just;\n            // Preserve dialogicOptions\n            const dialogicOptions = existingItem.dialogicOptions;\n            const replacingItem = {\n                ...item,\n                transitionState: existingItem.transitionState,\n                dialogicOptions,\n            };\n            actions.replace(ns, existingItem.id, replacingItem);\n        }\n        else {\n            actions.add(ns, item);\n            // This will instantiate and draw the instance\n            // The instance will call `showDialog` in `onMount`\n        }\n        resolve(item);\n    });\n};\nconst show = createInstance;\nconst hide = (ns) => (defaultDialogicOptions) => (options) => {\n    const { identityOptions, dialogicOptions, passThroughOptions, } = handleOptions(defaultDialogicOptions, options);\n    const maybeExistingItem = selectors.find(ns, identityOptions);\n    if (maybeExistingItem.just) {\n        const existingItem = maybeExistingItem.just;\n        const item = {\n            ...existingItem,\n            dialogicOptions: {\n                ...existingItem.dialogicOptions,\n                ...dialogicOptions,\n            },\n            passThroughOptions: {\n                ...existingItem.passThroughOptions,\n                passThroughOptions,\n            },\n        };\n        actions.replace(ns, existingItem.id, item);\n        if (item.transitionState !== transitionStates.hiding) {\n            return hideItem(item);\n        }\n        else {\n            return Promise.resolve(item);\n        }\n    }\n    return Promise.resolve();\n};\nconst pause = (ns) => (defaultDialogicOptions) => (identityOptions) => {\n    const items = getValidItems(ns, identityOptions).filter(item => !!item.timer);\n    items.forEach((item) => item.timer && item.timer.actions.pause());\n    return Promise.all(items);\n};\nconst resume = (ns) => (defaultDialogicOptions) => (commandOptions) => {\n    const options = commandOptions || {};\n    const identityOptions = {\n        id: options.id,\n        spawn: options.spawn,\n    };\n    const items = getValidItems(ns, identityOptions).filter(item => !!item.timer);\n    items.forEach((item) => item.timer && item.timer.actions.resume(options.minimumDuration));\n    return Promise.all(items);\n};\nconst getTimerProperty = (timerProp, defaultValue) => (ns) => (defaultDialogicOptions) => (identityOptions) => {\n    const maybeItem = getMaybeItem(ns)(defaultDialogicOptions)(identityOptions);\n    if (maybeItem.just) {\n        if (maybeItem.just && maybeItem.just.timer) {\n            return maybeItem.just.timer.selectors[timerProp]();\n        }\n        else {\n            return defaultValue;\n        }\n    }\n    else {\n        return defaultValue;\n    }\n};\nconst isPaused = getTimerProperty('isPaused', false);\nconst getRemaining$1 = getTimerProperty('getRemaining', undefined);\nconst exists = (ns) => (defaultDialogicOptions) => (identityOptions) => !!getValidItems(ns, identityOptions).length;\nconst getValidItems = (ns, identityOptions) => {\n    const allItems = selectors.getAll(ns);\n    let validItems;\n    if (identityOptions) {\n        validItems = pipe(filterBySpawn(identityOptions), filterById(identityOptions))(allItems);\n    }\n    else {\n        validItems = allItems;\n    }\n    return validItems;\n};\nconst resetAll = (ns) => (defaultDialogicOptions) => (identityOptions) => {\n    const validItems = getValidItems(ns, identityOptions);\n    const items = [];\n    validItems.forEach((item) => {\n        item.timer && item.timer.actions.abort();\n        items.push(item);\n    });\n    if (identityOptions) {\n        items.forEach((item) => {\n            actions.remove(ns, item.id);\n        });\n    }\n    else {\n        actions.removeAll(ns);\n    }\n    return Promise.resolve(items);\n};\nconst getOverridingTransitionOptions = (item, dialogicOptions) => {\n    return {\n        ...item,\n        dialogicOptions: {\n            ...item.dialogicOptions,\n            ...dialogicOptions,\n        },\n    };\n};\n/**\n * Triggers a `hideItem` for each item in the store.\n * Queued items: will trigger `hideItem` only for the first item, then reset the store.\n * Optional `dialogicOptions` may be passed with specific transition options. This comes in handy when all items should hide in the same way.\n */\nconst hideAll = (ns) => (defaultDialogicOptions) => (dialogicOptions) => {\n    const options = dialogicOptions || {};\n    const identityOptions = {\n        id: options.id,\n        spawn: options.spawn,\n    };\n    const validItems = getValidItems(ns, identityOptions);\n    const regularItems = validItems.filter((item) => !options.queued && !item.dialogicOptions.queued);\n    const queuedItems = validItems.filter((item) => options.queued || item.dialogicOptions.queued);\n    const items = [];\n    regularItems.forEach((item) => items.push(hideItem(getOverridingTransitionOptions(item, options))));\n    if (queuedItems.length > 0) {\n        const [current] = queuedItems;\n        // Make sure that any remaining items don't suddenly appear\n        actions.store(ns, [current]);\n        // Transition the current item\n        items.push(hideItem(getOverridingTransitionOptions(current, options)));\n    }\n    return Promise.all(items);\n};\nconst getCount = (ns) => (identityOptions) => selectors.getCount(ns, identityOptions);\nconst transitionItem = (item, mode) => transition(item.dialogicOptions, mode);\nconst deferredHideItem = async function (item, timer, timeout) {\n    timer.actions.start(() => hideItem(item), timeout);\n    return getTimerProperty('getResultPromise', undefined);\n};\nconst showItem = async function (item) {\n    if (item.transitionState !== transitionStates.displaying) {\n        item.transitionState = transitionStates.displaying;\n        await transitionItem(item, MODE.SHOW);\n    }\n    item.callbacks.didShow && (await item.callbacks.didShow(item));\n    if (item.dialogicOptions.timeout && item.timer) {\n        await deferredHideItem(item, item.timer, item.dialogicOptions.timeout);\n    }\n    return Promise.resolve(item);\n};\nconst hideItem = async function (item) {\n    item.transitionState = transitionStates.hiding;\n    // Stop any running timer\n    if (item.timer) {\n        item.timer.actions.stop();\n    }\n    await transitionItem(item, MODE.HIDE);\n    item.callbacks.didHide(item);\n    const copy = {\n        ...item,\n    };\n    actions.remove(item.ns, item.id);\n    return Promise.resolve(copy);\n};\nconst setDomElement = (domElement, item) => {\n    item.dialogicOptions.domElement = domElement;\n};\n\nconst dialogical = ({ ns, queued, timeout, }) => {\n    const defaultId = `default_${ns}`;\n    const defaultSpawn = `default_${ns}`;\n    const defaultDialogicOptions = {\n        id: defaultId,\n        spawn: defaultSpawn,\n        ...(queued && { queued }),\n        ...(timeout !== undefined && { timeout }),\n    };\n    return {\n        // Identification\n        ns,\n        defaultId,\n        defaultSpawn,\n        // Configuration\n        defaultDialogicOptions,\n        // Commands\n        show: show(ns)(defaultDialogicOptions),\n        hide: hide(ns)(defaultDialogicOptions),\n        hideAll: hideAll(ns)(defaultDialogicOptions),\n        resetAll: resetAll(ns)(defaultDialogicOptions),\n        // Timer commands\n        pause: pause(ns)(defaultDialogicOptions),\n        resume: resume(ns)(defaultDialogicOptions),\n        // State\n        exists: exists(ns)(defaultDialogicOptions),\n        getCount: getCount(ns),\n        // Timer state\n        isPaused: isPaused(ns)(defaultDialogicOptions),\n        getRemaining: getRemaining$1(ns)(defaultDialogicOptions),\n    };\n};\n\nconst dialog = dialogical({ ns: \"dialog\" });\n\nconst notification = dialogical({ ns: \"notification\", queued: true, timeout: 3000 });\n\n/**\n * Utility script that uses an animation frame to pass the current remaining value\n * (which is utilized when setting `timeout`).\n */\nconst remaining = (props) => {\n    let displayValue = undefined;\n    let reqId;\n    let isCanceled = false;\n    const update = () => {\n        const remaining = props.instance.getRemaining();\n        if (displayValue !== remaining) {\n            displayValue = remaining === undefined\n                ? remaining\n                : props.roundToSeconds\n                    ? Math.round(Math.max(remaining, 0) / 1000)\n                    : Math.max(remaining, 0);\n        }\n        props.callback(displayValue);\n        if (!props.instance.exists()) {\n            window.cancelAnimationFrame(reqId);\n            isCanceled = true;\n        }\n        else if (!isCanceled) {\n            reqId = window.requestAnimationFrame(update);\n        }\n    };\n    reqId = window.requestAnimationFrame(update);\n};\n\nexport { actions, dialog, dialogical, exists, filterCandidates, getCount, getRemaining$1 as getRemaining, getTimerProperty, hide, hideAll, hideItem, isPaused, notification, pause, remaining, resetAll, resume, selectors, setDomElement, show, showItem, states };\n","import m from 'mithril';\nimport { selectors, setDomElement, showItem, hideItem, filterCandidates, dialog, notification, states } from 'dialogic';\nexport { dialog, notification } from 'dialogic';\n\nconst handleDispatch = (ns) => (event, fn) => {\n    // Update dispatching item:\n    const maybeItem = selectors.find(ns, event.detail.identityOptions);\n    if (maybeItem.just) {\n        setDomElement(event.detail.domElement, maybeItem.just);\n    }\n    // Find item to transition:\n    const maybeTransitioningItem = selectors.find(ns, event.detail.identityOptions);\n    if (maybeTransitioningItem.just) {\n        fn(maybeTransitioningItem.just);\n    }\n};\nconst onInstanceMounted = (ns) => (event) => handleDispatch(ns)(event, showItem);\nconst onShowInstance = (ns) => (event) => handleDispatch(ns)(event, showItem);\nconst onHideInstance = (ns) => (event) => handleDispatch(ns)(event, hideItem);\n\nconst Instance = ({ attrs: componentAttrs }) => {\n    let domElement;\n    const dispatchTransition = (dispatchFn) => {\n        dispatchFn({\n            detail: {\n                identityOptions: componentAttrs.identityOptions,\n                domElement,\n            },\n        });\n    };\n    const onMount = () => {\n        dispatchTransition(componentAttrs.onMount);\n    };\n    const show = () => {\n        dispatchTransition(componentAttrs.onShow);\n    };\n    const hide = () => {\n        dispatchTransition(componentAttrs.onHide);\n    };\n    return {\n        oncreate: (vnode) => {\n            domElement = vnode.dom;\n            onMount();\n        },\n        view: ({ attrs }) => {\n            const component = attrs.dialogicOptions.component;\n            return m('div', { className: attrs.dialogicOptions.className }, m(component, {\n                ...attrs.passThroughOptions,\n                show,\n                hide,\n            }));\n        },\n    };\n};\n\nconst Wrapper = {\n    view: ({ attrs }) => {\n        const nsOnInstanceMounted = onInstanceMounted(attrs.ns);\n        const nsOnShowInstance = onShowInstance(attrs.ns);\n        const nsOnHideInstance = onHideInstance(attrs.ns);\n        const identityOptions = attrs.identityOptions || {};\n        const filtered = filterCandidates(attrs.ns, selectors.getStore(), identityOptions);\n        return filtered.map(item => m(Instance, {\n            key: item.key,\n            identityOptions: item.identityOptions,\n            dialogicOptions: item.dialogicOptions,\n            passThroughOptions: item.passThroughOptions,\n            onMount: nsOnInstanceMounted,\n            onShow: nsOnShowInstance,\n            onHide: nsOnHideInstance,\n        }));\n    },\n};\n\nconst Dialogical = type => ({\n    oncreate: ({ attrs }) => {\n        if (typeof attrs.onMount === \"function\") {\n            attrs.onMount();\n        }\n    },\n    view: ({ attrs }) => {\n        const identityOptions = {\n            id: attrs.id || type.defaultId,\n            spawn: attrs.spawn || type.defaultSpawn,\n        };\n        return m(Wrapper, {\n            identityOptions,\n            ns: type.ns,\n        });\n    }\n});\n\nconst Dialog = Dialogical(dialog);\nconst Notification = Dialogical(notification);\nstates.map(state => (m.redraw()\n// , console.log(state)\n));\n\nexport { Dialog, Dialogical, Notification };\n","import m from \"mithril\";\nexport const Remaining = ({ attrs }) => {\n    let displayValue = 0;\n    let reqId;\n    const update = () => {\n        const remaining = attrs.getRemaining();\n        if (remaining !== undefined) {\n            if (displayValue !== remaining) {\n                m.redraw();\n                displayValue = Math.max(remaining, 0);\n            }\n        }\n        else {\n            displayValue = undefined;\n            m.redraw();\n        }\n        reqId = window.requestAnimationFrame(update);\n    };\n    return {\n        oncreate: () => reqId = window.requestAnimationFrame(update),\n        onremove: () => window.cancelAnimationFrame(reqId),\n        view: () => m(\"div\", { \"data-test-id\": \"remaining\" }, [\n            m(\"span\", \"Remaining: \"),\n            m(\"span[data-test-id=remaining-value]\", displayValue === undefined ? \"undefined\" : displayValue.toString()),\n        ])\n    };\n};\n","import m from \"mithril\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nconst DemoContent = {\n    view: () => (m(\"article\", { \"class\": \"media\" }, [\n        m(\"div\", { \"class\": \"media-left\" }, m(\"figure\", { \"class\": \"image is-64x64\" }, m(\"img\", { \"src\": \"https://bulma.io/images/placeholders/128x128.png\", \"alt\": \"Image\" }))),\n        m(\"div\", { \"class\": \"media-content\" }, [\n            m(\"div\", { \"class\": \"content\" }, m(\"p\", [\n                m(\"strong\", \"John Smith\"),\n                m(\"small\", \" \"),\n                m(\"small\", \"@johnsmith\"),\n                m(\"small\", \"31m\"),\n                m(\"br\"),\n                \" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis. \"\n            ])),\n            m(\"nav\", { \"class\": \"level is-mobile\" }, m(\"div\", { \"class\": \"level-left\" }, [\n                m(\"a\", { \"class\": \"level-item\", \"aria-label\": \"retweet\" }, m(\"span\", { \"class\": \"icon is-small\" }, m(\"svg\", { \"class\": \"svg-inline--fa fa-retweet fa-w-20\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"retweet\", \"role\": \"img\", \"xmlns\": \"http://www.w3.org/2000/svg\", \"viewBox\": \"0 0 640 512\", \"data-fa-i2svg\": \"\" }, m(\"path\", { \"fill\": \"currentColor\", \"d\": \"M629.657 343.598L528.971 444.284c-9.373 9.372-24.568 9.372-33.941 0L394.343 343.598c-9.373-9.373-9.373-24.569 0-33.941l10.823-10.823c9.562-9.562 25.133-9.34 34.419.492L480 342.118V160H292.451a24.005 24.005 0 0 1-16.971-7.029l-16-16C244.361 121.851 255.069 96 276.451 96H520c13.255 0 24 10.745 24 24v222.118l40.416-42.792c9.285-9.831 24.856-10.054 34.419-.492l10.823 10.823c9.372 9.372 9.372 24.569-.001 33.941zm-265.138 15.431A23.999 23.999 0 0 0 347.548 352H160V169.881l40.416 42.792c9.286 9.831 24.856 10.054 34.419.491l10.822-10.822c9.373-9.373 9.373-24.569 0-33.941L144.971 67.716c-9.373-9.373-24.569-9.373-33.941 0L10.343 168.402c-9.373 9.373-9.373 24.569 0 33.941l10.822 10.822c9.562 9.562 25.133 9.34 34.419-.491L96 169.881V392c0 13.255 10.745 24 24 24h243.549c21.382 0 32.09-25.851 16.971-40.971l-16.001-16z\" })))),\n                m(\"a\", { \"class\": \"level-item\", \"aria-label\": \"like\" }, m(\"span\", { \"class\": \"icon is-small\" }, m(\"svg\", { \"class\": \"svg-inline--fa fa-heart fa-w-16\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"heart\", \"role\": \"img\", \"xmlns\": \"http://www.w3.org/2000/svg\", \"viewBox\": \"0 0 512 512\", \"data-fa-i2svg\": \"\" }, m(\"path\", { \"fill\": \"currentColor\", \"d\": \"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z\" }))))\n            ]))\n        ])\n    ]))\n};\nconst BulmaDialogComponent = (isModal = false) => ({\n    view: () => (m(\".modal.is-active\", [\n        m(\".modal-background\", {\n            onclick: () => !isModal && dialog.hide()\n        }),\n        m(\".modal-content\", m(\".bulma-dialog-content-box\", m(DemoContent))),\n        m(\".modal-close.is-large\", {\n            onclick: () => dialog.hide()\n        })\n    ]))\n});\nexport default () => {\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".buttons\", [\n                    m(\".button\", {\n                        onclick: () => {\n                            dialog.show({\n                                dialogic: {\n                                    component: BulmaDialogComponent(),\n                                    className: \"dialog\",\n                                }\n                            });\n                        }\n                    }, \"Show dialog\"),\n                    m(\".button\", {\n                        onclick: () => {\n                            dialog.show({\n                                dialogic: {\n                                    component: BulmaDialogComponent(true),\n                                    className: \"dialog\",\n                                }\n                            });\n                        }\n                    }, \"Show modal dialog\"),\n                ]),\n                m(\".bulma\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nconst DialogContent = {\n    view: () => (m(\".mdc-dialog__container\", m(\".mdc-dialog__surface\", [\n        m(\"h2.mdc-dialog__title\", \"Dialog Title\"),\n        m(\".mdc-dialog__content\", \"Dialog body text goes here.\"),\n        m(\"footer.mdc-dialog__actions\", [\n            m(\"button.mdc-button.mdc-dialog__button\", m(\"span.mdc-button__label\", {\n                onclick: () => dialog.hide()\n            }, \"No\")),\n            m(\"button.mdc-button.mdc-dialog__button\", m(\"span.mdc-button__label\", {\n                onclick: () => dialog.hide()\n            }, \"Yes\"))\n        ])\n    ])))\n};\nconst MaterialIODialogComponent = (isModal = false) => ({\n    view: () => m(\".mdc-dialog.mdc-dialog--open\", [\n        m(DialogContent),\n        m(\".mdc-dialog__scrim\", {\n            onclick: () => !isModal && dialog.hide()\n        })\n    ])\n});\nexport default {\n    view: () => {\n        return m(\".test\", [\n            m(\".buttons\", [\n                m(\".button\", {\n                    onclick: () => {\n                        dialog.show({\n                            dialogic: {\n                                component: MaterialIODialogComponent(),\n                                className: \"dialog\",\n                            }\n                        });\n                    }\n                }, \"Show dialog\"),\n                m(\".button\", {\n                    onclick: () => {\n                        dialog.show({\n                            dialogic: {\n                                component: MaterialIODialogComponent(true),\n                                className: \"dialog\",\n                            }\n                        });\n                    }\n                }, \"Show modal dialog\"),\n            ]),\n            m(\".materialIO\", m(Dialog)),\n        ]);\n    }\n};\n","import m from \"mithril\";\nimport DialogClassName from \"./cypress-tests/DialogClassName\";\nimport DialogClassNameDelay from \"./cypress-tests/DialogClassNameDelay\";\nimport DialogStyles from \"./cypress-tests/DialogStyles\";\nimport DialogIds from \"./cypress-tests/DialogIds\";\nimport DialogExists from \"./cypress-tests/DialogExists\";\nimport DialogCount from \"./cypress-tests/DialogCount\";\nimport DialogHideAll from \"./cypress-tests/DialogHideAll\";\nimport DialogResetAll from \"./cypress-tests/DialogResetAll\";\nimport DialogTimeout from \"./cypress-tests/DialogTimeout\";\nimport DialogQueued from \"./cypress-tests/DialogQueued\";\nimport NotificationCount from \"./cypress-tests/NotificationCount\";\nimport NotificationPause from \"./cypress-tests/NotificationPause\";\nimport NotificationTimeout from \"./cypress-tests/NotificationTimeout\";\nimport LibBulmaDialog from \"./cypress-tests/LibBulmaDialog\";\nimport LibMaterialIODialog from \"./cypress-tests/LibMaterialIODialog\";\nimport \"./app-styles.css\";\nimport \"./test-styles.css\";\nconst Home = {\n    view: () => m(\".menu\", m(\"ul\", Object.keys(routes).map(path => m(\"li\", m(m.route.Link, { href: path }, path.substr(1))))))\n};\nconst routes = {\n    \"/\": Home,\n    \"/DialogClassName\": DialogClassName,\n    \"/DialogClassNameDelay\": DialogClassNameDelay,\n    \"/DialogStyles\": DialogStyles,\n    \"/DialogIds\": DialogIds,\n    \"/DialogExists\": DialogExists,\n    \"/DialogCount\": DialogCount,\n    \"/DialogHideAll\": DialogHideAll,\n    \"/DialogResetAll\": DialogResetAll,\n    \"/DialogTimeout\": DialogTimeout,\n    \"/DialogQueued\": DialogQueued,\n    \"/NotificationCount\": NotificationCount,\n    \"/NotificationPause\": NotificationPause,\n    \"/NotificationTimeout\": NotificationTimeout,\n    \"/LibBulmaDialog\": LibBulmaDialog,\n    \"/LibMaterialIODialog\": LibMaterialIODialog,\n};\nm.route.prefix = \"#\";\nconst mountNode = document.getElementById(\"root\");\nif (mountNode) {\n    m.route(mountNode, \"/\", routes);\n}\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    dialog.resetAll();\n    const fns = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"DialogClassName\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons(fns),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns = createFns({ instance: dialog, component: Default, className: \"dialog-delay\", title: \"DialogClassDelay\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons(fns),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    dialog.resetAll();\n    const fns = createFns({\n        instance: dialog,\n        component: Default,\n        title: \"DialogStyles\",\n        styles: (domElement) => {\n            const height = domElement.getBoundingClientRect().height;\n            return {\n                default: {\n                    transition: \"all 350ms ease-in-out\",\n                },\n                showStart: {\n                    opacity: \"0\",\n                    transform: `translate3d(0, ${height}px, 0)`,\n                },\n                showEnd: {\n                    opacity: \"1\",\n                    transform: \"translate3d(0, 0px,  0)\",\n                },\n                hideEnd: {\n                    transitionDuration: \"450ms\",\n                    transform: `translate3d(0, ${height}px, 0)`,\n                    opacity: \"0\",\n                },\n            };\n        },\n    });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons(fns),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    dialog.resetAll();\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"DialogIds default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"1\", title: \"DialogIds 1\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"2\", title: \"DialogIds 2\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                buttons({ ...fns1 }),\n                buttons({ ...fns2, id: \"1\" }),\n                buttons({ ...fns3, id: \"2\" }),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Exists any: ${dialog.exists().toString()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Exists id: ${dialog.exists({ id: \"1\" }).toString()}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Exists spawn: ${dialog.exists({ spawn: \"1\" }).toString()}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Exists spawn, id: ${dialog.exists({ spawn: \"1\", id: \"1\" }).toString()}`),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    const fns5 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"2\", queued: true, title: \"Spawn queued\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${dialog.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${dialog.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${dialog.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-queued\" }, `Count spawn, queued: ${dialog.getCount({ spawn: \"2\" })}`),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                    buttons({ ...fns5, spawn: \"5\", name: \"queued\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"2\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog dialog-delay\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    const hideAllStyles = {\n        showEnd: {\n            opacity: \"1\",\n        },\n        hideEnd: {\n            transition: \"all 450ms ease-in-out\",\n            opacity: \"0\",\n        },\n    };\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${dialog.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${dialog.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${dialog.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"hide-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll(),\n                        \"data-test-id\": \"button-hide-all\"\n                    }, \"Hide all\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ styles: hideAllStyles }),\n                        \"data-test-id\": \"button-hide-all-simultaneous\"\n                    }, \"Hide all simulaneously\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ id: \"1\" }),\n                        \"data-test-id\": \"button-hide-all-id\"\n                    }, \"Hide all with id\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ spawn: \"1\" }),\n                        \"data-test-id\": \"button-hide-all-spawn\"\n                    }, \"Hide all with spawn\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.hideAll({ id: \"1\", spawn: \"1\" }),\n                        \"data-test-id\": \"button-hide-all-spawn-id\"\n                    }, \"Hide all with spawn and id\")\n                ])),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\" });\n    const fns2 = createFns({ instance: dialog, component: Default, className: \"dialog dialog-delay\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: dialog, component: Default, className: \"dialog\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${dialog.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${dialog.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${dialog.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll(),\n                        \"data-test-id\": \"button-reset-all\"\n                    }, \"Reset all\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll({ id: \"1\" }),\n                        \"data-test-id\": \"button-reset-all-id\"\n                    }, \"Reset all with id\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll({ spawn: \"1\" }),\n                        \"data-test-id\": \"button-reset-all-spawn\"\n                    }, \"Reset all with spawn\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll({ id: \"1\", spawn: \"1\" }),\n                        \"data-test-id\": \"button-reset-all-spawn-id\"\n                    }, \"Reset all with spawn and id\")\n                ])),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n                m(\".spawn.custom-spawn\", m(Dialog, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nimport { Remaining } from \"./Remaining\";\nexport default () => {\n    dialog.resetAll();\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\", timeout: 2000 });\n    return {\n        view: () => {\n            return m(\".test\", { key: new Date().getTime() }, [\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.pause(),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resume(),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => dialog.resetAll(),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])),\n                m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${dialog.isPaused()}`),\n                m(\".control\", m(Remaining, { key: \"DialogTimeout\", getRemaining: dialog.getRemaining })),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { dialog, Dialog } from \"dialogic-mithril\";\nexport default () => {\n    const fns1 = createFns({ instance: dialog, component: Default, className: \"dialog\", title: \"Default\", queued: true });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${dialog.getCount()}`),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                ]),\n                m(\".spawn.default-spawn\", m(Dialog)),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { notification, Notification } from \"dialogic-mithril\";\nexport default () => {\n    notification.resetAll();\n    const fns1 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Default\" });\n    const fns2 = createFns({ instance: notification, component: Default, className: \"notification\", id: \"1\", title: \"ID\" });\n    const fns3 = createFns({ instance: notification, component: Default, className: \"notification\", spawn: \"1\", title: \"Spawn\" });\n    const fns4 = createFns({ instance: notification, component: Default, className: \"notification\", spawn: \"1\", id: \"1\", title: \"Spawn and ID\" });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"count-all\" }, `Count all: ${notification.getCount()}`),\n                m(\".control\", { \"data-test-id\": \"count-id\" }, `Count id: ${notification.getCount({ id: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn\" }, `Count spawn: ${notification.getCount({ spawn: \"1\" })}`),\n                m(\".control\", { \"data-test-id\": \"count-spawn-id\" }, `Count spawn, id: ${notification.getCount({ spawn: \"1\", id: \"1\" })}`),\n                m(\".control\", m(\"button\", {\n                    className: \"button\",\n                    onclick: () => notification.resetAll(),\n                    \"data-test-id\": \"button-reset\"\n                }, \"Reset\")),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\" }),\n                    buttons({ ...fns3, spawn: \"1\" }),\n                    buttons({ ...fns4, spawn: \"1\", id: \"1\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Notification)),\n                m(\".spawn.custom-spawn\", m(Notification, { spawn: \"1\" })),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { notification, Notification } from \"dialogic-mithril\";\nimport { Remaining } from \"./Remaining\";\nexport default () => {\n    const fns1 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Default\", timeout: 2000 });\n    const fns2 = createFns({ instance: notification, component: Default, className: \"notification\", spawn: \"2\", title: \"Spawn\", timeout: 2000 });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".section\", { \"data-test-id\": \"pause-default\" }, m(\".control\", { \"data-test-id\": \"pause-default\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.pause(),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resume(),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resetAll(),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])), m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${notification.isPaused()}`), m(\".control\", m(Remaining, { key: \"NotificationPause\", getRemaining: notification.getRemaining })), m(\".content\", [\n                    buttons({ ...fns1 }),\n                ]), m(\".spawn.default-spawn\", m(Notification))),\n                m(\".section\", { \"data-test-id\": \"pause-id\" }, m(\".control\", m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.pause({ spawn: \"2\" }),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resume({ spawn: \"2\" }),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resetAll({ spawn: \"2\" }),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])), m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${notification.isPaused({ spawn: \"2\" })}`), m(\".control\", m(Remaining, { key: \"NotificationPause\", getRemaining: () => notification.getRemaining({ spawn: \"2\" }) })), m(\".content\", [\n                    buttons({ ...fns2, name: \"spawn\" }),\n                ]), m(\".spawn.custom-spawn\", m(Notification, { spawn: \"2\" }))),\n            ]);\n        }\n    };\n};\n","import m from \"mithril\";\nimport { createFns } from \"./createFns\";\nimport { Default } from \"../content/Default\";\nimport { buttons } from \"./buttons\";\nimport { notification, Notification } from \"dialogic-mithril\";\nimport { Remaining } from \"./Remaining\";\nexport default () => {\n    const fns1 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Default\", timeout: 1000 });\n    const fns2 = createFns({ instance: notification, component: Default, className: \"notification\", title: \"Timeout: 0\", timeout: 0 });\n    return {\n        view: () => {\n            return m(\".test\", [\n                m(\".control\", { \"data-test-id\": \"reset-all\" }, m(\".buttons\", [\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.pause(),\n                        \"data-test-id\": \"button-pause\"\n                    }, \"Pause\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resume(),\n                        \"data-test-id\": \"button-resume\"\n                    }, \"Resume\"),\n                    m(\"button\", {\n                        className: \"button\",\n                        onclick: () => notification.resetAll(),\n                        \"data-test-id\": \"button-reset\"\n                    }, \"Reset\"),\n                ])),\n                m(\".control\", { \"data-test-id\": \"is-paused\" }, `Is paused: ${notification.isPaused()}`),\n                m(\".control\", m(Remaining, { key: \"NotificationTimeout\", getRemaining: notification.getRemaining })),\n                m(\".content\", [\n                    buttons({ ...fns1 }),\n                    buttons({ ...fns2, id: \"1\", name: \"zero-timeout\" }),\n                ]),\n                m(\".spawn.default-spawn\", m(Notification)),\n            ]);\n        }\n    };\n};\n"],"sourceRoot":""}