!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=18)}([function(t,n,e){(function(n,e){!function(){"use strict";function r(t,n,e,r,i,o){return{tag:t,key:n,attrs:e,children:r,text:i,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}r.normalize=function(t){return Array.isArray(t)?r("[",void 0,void 0,r.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:r("#",void 0,void 0,String(t),void 0,void 0)},r.normalizeChildren=function(t){var n=[];if(t.length){for(var e=null!=t[0]&&null!=t[0].key,i=1;i<t.length;i++)if((null!=t[i]&&null!=t[i].key)!==e)throw new TypeError("Vnodes must either always have keys or never have keys!");for(i=0;i<t.length;i++)n[i]=r.normalize(t[i])}return n};var i=function(){var t,n=arguments[this],e=this+1;if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},e=this),arguments.length===e+1)t=arguments[e],Array.isArray(t)||(t=[t]);else for(t=[];e<arguments.length;)t.push(arguments[e++]);return r("",n.key,n,t)},o=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,a={},u={}.hasOwnProperty;function c(t){for(var n in t)if(u.call(t,n))return!1;return!0}function s(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var n=i.apply(1,arguments);return"string"==typeof t&&(n.children=r.normalizeChildren(n.children),"["!==t)?function(t,n){var e=n.attrs,i=r.normalizeChildren(n.children),o=u.call(e,"class"),a=o?e.class:e.className;if(n.tag=t.tag,n.attrs=null,n.children=void 0,!c(t.attrs)&&!c(e)){var s={};for(var l in e)u.call(e,l)&&(s[l]=e[l]);e=s}for(var l in t.attrs)u.call(t.attrs,l)&&"className"!==l&&!u.call(e,l)&&(e[l]=t.attrs[l]);for(var l in null==a&&null==t.attrs.className||(e.className=null!=a?null!=t.attrs.className?String(t.attrs.className)+" "+String(a):a:null!=t.attrs.className?t.attrs.className:null),o&&(e.class=null),e)if(u.call(e,l)&&"key"!==l){n.attrs=e;break}return Array.isArray(i)&&1===i.length&&null!=i[0]&&"#"===i[0].tag?n.text=i[0].children:n.children=i,n}(a[t]||function(t){for(var n,e="div",r=[],i={};n=o.exec(t);){var u=n[1],c=n[2];if(""===u&&""!==c)e=c;else if("#"===u)i.id=c;else if("."===u)r.push(c);else if("["===n[3][0]){var s=n[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===n[4]?r.push(s):i[n[4]]=""===s?s:s||!0}}return r.length>0&&(i.className=r.join(" ")),a[t]={tag:e,attrs:i}}(t),n):(n.tag=t,n)}if(s.trust=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)},s.fragment=function(){var t=i.apply(0,arguments);return t.tag="[",t.children=r.normalizeChildren(t.children),t},(l=function(t){if(!(this instanceof l))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var e=this,r=[],i=[],o=s(r,!0),a=s(i,!1),u=e._instance={resolvers:r,rejectors:i},c="function"==typeof n?n:setTimeout;function s(t,n){return function o(s){var l;try{if(!n||null==s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof(l=s.then))c((function(){n||0!==t.length||console.error("Possible unhandled promise rejection:",s);for(var e=0;e<t.length;e++)t[e](s);r.length=0,i.length=0,u.state=n,u.retry=function(){o(s)}}));else{if(s===e)throw new TypeError("Promise can't be resolved w/ itself");f(l.bind(s))}}catch(t){a(t)}}}function f(t){var n=0;function e(t){return function(e){n++>0||t(e)}}var r=e(a);try{t(e(o),r)}catch(t){r(t)}}f(t)}).prototype.then=function(t,n){var e,r,i=this._instance;function o(t,n,o,a){n.push((function(n){if("function"!=typeof t)o(n);else try{e(t(n))}catch(t){r&&r(t)}})),"function"==typeof i.retry&&a===i.state&&i.retry()}var a=new l((function(t,n){e=t,r=n}));return o(t,i.resolvers,e,!0),o(n,i.rejectors,r,!1),a},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.finally=function(t){return this.then((function(n){return l.resolve(t()).then((function(){return n}))}),(function(n){return l.resolve(t()).then((function(){return l.reject(n)}))}))},l.resolve=function(t){return t instanceof l?t:new l((function(n){n(t)}))},l.reject=function(t){return new l((function(n,e){e(t)}))},l.all=function(t){return new l((function(n,e){var r=t.length,i=0,o=[];if(0===t.length)n([]);else for(var a=0;a<t.length;a++)!function(a){function u(t){i++,o[a]=t,i===r&&n(o)}null==t[a]||"object"!=typeof t[a]&&"function"!=typeof t[a]||"function"!=typeof t[a].then?u(t[a]):t[a].then(u,e)}(a)}))},l.race=function(t){return new l((function(n,e){for(var r=0;r<t.length;r++)t[r].then(n,e)}))},"undefined"!=typeof window){void 0===window.Promise?window.Promise=l:window.Promise.prototype.finally||(window.Promise.prototype.finally=l.prototype.finally);var l=window.Promise}else if(void 0!==e){void 0===e.Promise?e.Promise=l:e.Promise.prototype.finally||(e.Promise.prototype.finally=l.prototype.finally);l=e.Promise}var f=function(t){var n,e=t&&t.document,i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(t){return t.attrs&&t.attrs.xmlns||i[t.tag]}function a(t,n){if(t.state!==n)throw new Error("`vnode.state` must not be modified")}function u(t){var n=t.state;try{return this.apply(n,arguments)}finally{a(t,n)}}function c(){try{return e.activeElement}catch(t){return null}}function s(t,n,e,r,i,o,a){for(var u=e;u<r;u++){var c=n[u];null!=c&&l(t,c,i,a,o)}}function l(t,n,i,a,c){var f=n.tag;if("string"==typeof f)switch(n.state={},null!=n.attrs&&D(n.attrs,n,i),f){case"#":!function(t,n,r){n.dom=e.createTextNode(n.children),w(t,n.dom,r)}(t,n,c);break;case"<":d(t,n,a,c);break;case"[":!function(t,n,r,i,o){var a=e.createDocumentFragment();if(null!=n.children){var u=n.children;s(a,u,0,u.length,r,null,i)}n.dom=a.firstChild,n.domSize=a.childNodes.length,w(t,a,o)}(t,n,i,a,c);break;default:!function(t,n,i,a,u){var c=n.tag,l=n.attrs,f=l&&l.is,d=(a=o(n)||a)?f?e.createElementNS(a,c,{is:f}):e.createElementNS(a,c):f?e.createElement(c,{is:f}):e.createElement(c);n.dom=d,null!=l&&function(t,n,e){for(var r in n)P(t,r,null,n[r],e)}(n,l,a);if(w(t,d,u),!b(n)&&(null!=n.text&&(""!==n.text?d.textContent=n.text:n.children=[r("#",void 0,void 0,n.text,void 0,void 0)]),null!=n.children)){var p=n.children;s(d,p,0,p.length,i,null,a),"select"===n.tag&&null!=l&&function(t,n){if("value"in n)if(null===n.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var e=""+n.value;t.dom.value===e&&-1!==t.dom.selectedIndex||(t.dom.value=e)}"selectedIndex"in n&&P(t,"selectedIndex",null,n.selectedIndex,void 0)}(n,l)}}(t,n,i,a,c)}else!function(t,n,e,i,o){(function(t,n){var e;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(e=t.state.view).$$reentrantLock$$)return;e.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(e=t.tag).$$reentrantLock$$)return;e.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}D(t.state,t,n),null!=t.attrs&&D(t.attrs,t,n);if(t.instance=r.normalize(u.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");e.$$reentrantLock$$=null})(n,e),null!=n.instance?(l(t,n.instance,e,i,o),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}(t,n,i,a,c)}var f={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function d(t,n,r,i){var o=n.children.match(/^\s*?<(\w+)/im)||[],a=e.createElement(f[o[1]]||"div");"http://www.w3.org/2000/svg"===r?(a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",a=a.firstChild):a.innerHTML=n.children,n.dom=a.firstChild,n.domSize=a.childNodes.length,n.instance=[];for(var u,c=e.createDocumentFragment();u=a.firstChild;)n.instance.push(u),c.appendChild(u);w(t,c,i)}function p(t,n,e,r,i,o){if(n!==e&&(null!=n||null!=e))if(null==n||0===n.length)s(t,e,0,e.length,r,i,o);else if(null==e||0===e.length)O(t,n,0,n.length);else{var a=null!=n[0]&&null!=n[0].key,u=null!=e[0]&&null!=e[0].key,c=0,f=0;if(!a)for(;f<n.length&&null==n[f];)f++;if(!u)for(;c<e.length&&null==e[c];)c++;if(null===u&&null==a)return;if(a!==u)O(t,n,f,n.length),s(t,e,c,e.length,r,i,o);else if(u){for(var d,p,w,b,S,E=n.length-1,_=e.length-1;E>=f&&_>=c&&(w=n[E],b=e[_],w.key===b.key);)w!==b&&m(t,w,b,r,i,o),null!=b.dom&&(i=b.dom),E--,_--;for(;E>=f&&_>=c&&(d=n[f],p=e[c],d.key===p.key);)f++,c++,d!==p&&m(t,d,p,r,g(n,f,i),o);for(;E>=f&&_>=c&&c!==_&&d.key===b.key&&w.key===p.key;)y(t,w,S=g(n,f,i)),w!==p&&m(t,w,p,r,S,o),++c<=--_&&y(t,d,i),d!==b&&m(t,d,b,r,i,o),null!=b.dom&&(i=b.dom),f++,w=n[--E],b=e[_],d=n[f],p=e[c];for(;E>=f&&_>=c&&w.key===b.key;)w!==b&&m(t,w,b,r,i,o),null!=b.dom&&(i=b.dom),_--,w=n[--E],b=e[_];if(c>_)O(t,n,f,E+1);else if(f>E)s(t,e,c,_+1,r,i,o);else{var P,T,k=i,j=_-c+1,A=new Array(j),I=0,N=0,C=2147483647,L=0;for(N=0;N<j;N++)A[N]=-1;for(N=_;N>=c;N--){null==P&&(P=h(n,f,E+1));var R=P[(b=e[N]).key];null!=R&&(C=R<C?R:-1,A[N-c]=R,w=n[R],n[R]=null,w!==b&&m(t,w,b,r,i,o),null!=b.dom&&(i=b.dom),L++)}if(i=k,L!==E-f+1&&O(t,n,f,E+1),0===L)s(t,e,c,_+1,r,i,o);else if(-1===C)for(I=(T=function(t){var n=[0],e=0,r=0,i=0,o=v.length=t.length;for(i=0;i<o;i++)v[i]=t[i];for(i=0;i<o;++i)if(-1!==t[i]){var a=n[n.length-1];if(t[a]<t[i])v[i]=a,n.push(i);else{for(e=0,r=n.length-1;e<r;){var u=(e>>>1)+(r>>>1)+(e&r&1);t[n[u]]<t[i]?e=u+1:r=u}t[i]<t[n[e]]&&(e>0&&(v[i]=n[e-1]),n[e]=i)}}e=n.length,r=n[e-1];for(;e-- >0;)n[e]=r,r=v[r];return v.length=0,n}(A)).length-1,N=_;N>=c;N--)p=e[N],-1===A[N-c]?l(t,p,r,o,i):T[I]===N-c?I--:y(t,p,i),null!=p.dom&&(i=e[N].dom);else for(N=_;N>=c;N--)p=e[N],-1===A[N-c]&&l(t,p,r,o,i),null!=p.dom&&(i=e[N].dom)}}else{var D=n.length<e.length?n.length:e.length;for(c=c<f?c:f;c<D;c++)(d=n[c])===(p=e[c])||null==d&&null==p||(null==d?l(t,p,r,o,g(n,c+1,i)):null==p?x(t,d):m(t,d,p,r,g(n,c+1,i),o));n.length>D&&O(t,n,c,n.length),e.length>D&&s(t,e,c,e.length,r,i,o)}}}function m(t,n,e,i,a,c){var s=n.tag;if(s===e.tag){if(e.state=n.state,e.events=n.events,function(t,n){do{var e;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate)if(void 0!==(e=u.call(t.attrs.onbeforeupdate,t,n))&&!e)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate)if(void 0!==(e=u.call(t.state.onbeforeupdate,t,n))&&!e)break;return!1}while(0);return t.dom=n.dom,t.domSize=n.domSize,t.instance=n.instance,t.attrs=n.attrs,t.children=n.children,t.text=n.text,!0}(e,n))return;if("string"==typeof s)switch(null!=e.attrs&&M(e.attrs,e,i),s){case"#":!function(t,n){t.children.toString()!==n.children.toString()&&(t.dom.nodeValue=n.children);n.dom=t.dom}(n,e);break;case"<":!function(t,n,e,r,i){n.children!==e.children?(S(t,n),d(t,e,r,i)):(e.dom=n.dom,e.domSize=n.domSize,e.instance=n.instance)}(t,n,e,c,a);break;case"[":!function(t,n,e,r,i,o){p(t,n.children,e.children,r,i,o);var a=0,u=e.children;if(e.dom=null,null!=u){for(var c=0;c<u.length;c++){var s=u[c];null!=s&&null!=s.dom&&(null==e.dom&&(e.dom=s.dom),a+=s.domSize||1)}1!==a&&(e.domSize=a)}}(t,n,e,i,a,c);break;default:!function(t,n,e,i){var a=n.dom=t.dom;i=o(n)||i,"textarea"===n.tag&&(null==n.attrs&&(n.attrs={}),null!=n.text&&(n.attrs.value=n.text,n.text=void 0));(function(t,n,e,r){if(null!=e)for(var i in e)P(t,i,n&&n[i],e[i],r);var o;if(null!=n)for(var i in n)null==(o=n[i])||null!=e&&null!=e[i]||T(t,i,o,r)})(n,t.attrs,n.attrs,i),b(n)||(null!=t.text&&null!=n.text&&""!==n.text?t.text.toString()!==n.text.toString()&&(t.dom.firstChild.nodeValue=n.text):(null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=n.text&&(n.children=[r("#",void 0,void 0,n.text,void 0,void 0)]),p(a,t.children,n.children,e,null,i)))}(n,e,i,c)}else!function(t,n,e,i,o,a){if(e.instance=r.normalize(u.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");M(e.state,e,i),null!=e.attrs&&M(e.attrs,e,i);null!=e.instance?(null==n.instance?l(t,e.instance,i,a,o):m(t,n.instance,e.instance,i,o,a),e.dom=e.instance.dom,e.domSize=e.instance.domSize):null!=n.instance?(x(t,n.instance),e.dom=void 0,e.domSize=0):(e.dom=n.dom,e.domSize=n.domSize)}(t,n,e,i,a,c)}else x(t,n),l(t,e,i,c,a)}function h(t,n,e){for(var r=Object.create(null);n<e;n++){var i=t[n];if(null!=i){var o=i.key;null!=o&&(r[o]=n)}}return r}var v=[];function g(t,n,e){for(;n<t.length;n++)if(null!=t[n]&&null!=t[n].dom)return t[n].dom;return e}function y(t,n,r){var i=e.createDocumentFragment();!function t(n,e,r){for(;null!=r.dom&&r.dom.parentNode===n;){if("string"!=typeof r.tag){if(null!=(r=r.instance))continue}else if("<"===r.tag)for(var i=0;i<r.instance.length;i++)e.appendChild(r.instance[i]);else if("["!==r.tag)e.appendChild(r.dom);else if(1===r.children.length){if(null!=(r=r.children[0]))continue}else for(i=0;i<r.children.length;i++){var o=r.children[i];null!=o&&t(n,e,o)}break}}(t,i,n),w(t,i,r)}function w(t,n,e){null!=e?t.insertBefore(n,e):t.appendChild(n)}function b(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var n=t.children;if(null!=n&&1===n.length&&"<"===n[0].tag){var e=n[0].children;t.dom.innerHTML!==e&&(t.dom.innerHTML=e)}else if(null!=t.text||null!=n&&0!==n.length)throw new Error("Child node of a contenteditable must be trusted");return!0}function O(t,n,e,r){for(var i=e;i<r;i++){var o=n[i];null!=o&&x(t,o)}}function x(t,n){var e,r,i,o=0,c=n.state;"string"!=typeof n.tag&&"function"==typeof n.state.onbeforeremove&&(null!=(i=u.call(n.state.onbeforeremove,n))&&"function"==typeof i.then&&(o=1,e=i));n.attrs&&"function"==typeof n.attrs.onbeforeremove&&(null!=(i=u.call(n.attrs.onbeforeremove,n))&&"function"==typeof i.then&&(o|=2,r=i));if(a(n,c),o){if(null!=e){var s=function(){1&o&&((o&=2)||l())};e.then(s,s)}if(null!=r){s=function(){2&o&&((o&=1)||l())};r.then(s,s)}}else _(n),E(t,n);function l(){a(n,c),_(n),E(t,n)}}function S(t,n){for(var e=0;e<n.instance.length;e++)t.removeChild(n.instance[e])}function E(t,n){for(;null!=n.dom&&n.dom.parentNode===t;){if("string"!=typeof n.tag){if(null!=(n=n.instance))continue}else if("<"===n.tag)S(t,n);else{if("["!==n.tag&&(t.removeChild(n.dom),!Array.isArray(n.children)))break;if(1===n.children.length){if(null!=(n=n.children[0]))continue}else for(var e=0;e<n.children.length;e++){var r=n.children[e];null!=r&&E(t,r)}}break}}function _(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&u.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&u.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&_(t.instance);else{var n=t.children;if(Array.isArray(n))for(var e=0;e<n.length;e++){var r=n[e];null!=r&&_(r)}}}function P(t,n,r,i,o){if("key"!==n&&"is"!==n&&null!=i&&!k(n)&&(r!==i||function(t,n){return"value"===n||"checked"===n||"selectedIndex"===n||"selected"===n&&t.dom===c()||"option"===t.tag&&t.dom.parentNode===e.activeElement}(t,n)||"object"==typeof i)){if("o"===n[0]&&"n"===n[1])return R(t,n,i);if("xlink:"===n.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),i);else if("style"===n)C(t.dom,r,i);else if(j(t,n,o)){if("value"===n){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+i&&t.dom===c())return;if("select"===t.tag&&null!==r&&t.dom.value===""+i)return;if("option"===t.tag&&null!==r&&t.dom.value===""+i)return}"input"===t.tag&&"type"===n?t.dom.setAttribute(n,i):t.dom[n]=i}else"boolean"==typeof i?i?t.dom.setAttribute(n,""):t.dom.removeAttribute(n):t.dom.setAttribute("className"===n?"class":n,i)}}function T(t,n,e,r){if("key"!==n&&"is"!==n&&null!=e&&!k(n))if("o"!==n[0]||"n"!==n[1]||k(n))if("style"===n)C(t.dom,e,null);else if(!j(t,n,r)||"className"===n||"value"===n&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===c())||"input"===t.tag&&"type"===n){var i=n.indexOf(":");-1!==i&&(n=n.slice(i+1)),!1!==e&&t.dom.removeAttribute("className"===n?"class":n)}else t.dom[n]=null;else R(t,n,void 0)}function k(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function j(t,n,e){return void 0===e&&(t.tag.indexOf("-")>-1||null!=t.attrs&&t.attrs.is||"href"!==n&&"list"!==n&&"form"!==n&&"width"!==n&&"height"!==n)&&n in t.dom}var A=/[A-Z]/g;function I(t){return"-"+t.toLowerCase()}function N(t){return"-"===t[0]&&"-"===t[1]?t:"cssFloat"===t?"float":t.replace(A,I)}function C(t,n,e){if(n===e);else if(null==e)t.style.cssText="";else if("object"!=typeof e)t.style.cssText=e;else if(null==n||"object"!=typeof n)for(var r in t.style.cssText="",e){null!=(i=e[r])&&t.style.setProperty(N(r),String(i))}else{for(var r in e){var i;null!=(i=e[r])&&(i=String(i))!==String(n[r])&&t.style.setProperty(N(r),i)}for(var r in n)null!=n[r]&&null==e[r]&&t.style.removeProperty(N(r))}}function L(){this._=n}function R(t,n,e){if(null!=t.events){if(t.events[n]===e)return;null==e||"function"!=typeof e&&"object"!=typeof e?(null!=t.events[n]&&t.dom.removeEventListener(n.slice(2),t.events,!1),t.events[n]=void 0):(null==t.events[n]&&t.dom.addEventListener(n.slice(2),t.events,!1),t.events[n]=e)}else null==e||"function"!=typeof e&&"object"!=typeof e||(t.events=new L,t.dom.addEventListener(n.slice(2),t.events,!1),t.events[n]=e)}function D(t,n,e){"function"==typeof t.oninit&&u.call(t.oninit,n),"function"==typeof t.oncreate&&e.push(u.bind(t.oncreate,n))}function M(t,n,e){"function"==typeof t.onupdate&&e.push(u.bind(t.onupdate,n))}return L.prototype=Object.create(null),L.prototype.handleEvent=function(t){var n,e=this["on"+t.type];"function"==typeof e?n=e.call(t.currentTarget,t):"function"==typeof e.handleEvent&&e.handleEvent(t),this._&&!1!==t.redraw&&(0,this._)(),!1===n&&(t.preventDefault(),t.stopPropagation())},function(t,e,i){if(!t)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var o=[],a=c(),u=t.namespaceURI;null==t.vnodes&&(t.textContent=""),e=r.normalizeChildren(Array.isArray(e)?e:[e]);var s=n;try{n="function"==typeof i?i:void 0,p(t,t.vnodes,e,o,null,"http://www.w3.org/1999/xhtml"===u?void 0:u)}finally{n=s}t.vnodes=e,null!=a&&c()!==a&&"function"==typeof a.focus&&a.focus();for(var l=0;l<o.length;l++)o[l]()}}(window),d=function(t,n,e){var i=[],o=!1,a=!1;function u(){if(o)throw new Error("Nested m.redraw.sync() call");o=!0;for(var n=0;n<i.length;n+=2)try{t(i[n],r(i[n+1]),c)}catch(t){e.error(t)}o=!1}function c(){a||(a=!0,n((function(){a=!1,u()})))}return c.sync=u,{mount:function(n,e){if(null!=e&&null==e.view&&"function"!=typeof e)throw new TypeError("m.mount(element, component) expects a component, not a vnode");var o=i.indexOf(n);o>=0&&(i.splice(o,2),t(n,[],c)),null!=e&&(i.push(n,e),t(n,r(e),c))},redraw:c}}(f,requestAnimationFrame,console),p=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var n=[];for(var e in t)r(e,t[e]);return n.join("&");function r(t,e){if(Array.isArray(e))for(var i=0;i<e.length;i++)r(t+"["+i+"]",e[i]);else if("[object Object]"===Object.prototype.toString.call(e))for(var i in e)r(t+"["+i+"]",e[i]);else n.push(encodeURIComponent(t)+(null!=e&&""!==e?"="+encodeURIComponent(e):""))}},m=Object.assign||function(t,n){n&&Object.keys(n).forEach((function(e){t[e]=n[e]}))},h=function(t,n){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names *must* be separated");if(null==n)return t;var e=t.indexOf("?"),r=t.indexOf("#"),i=r<0?t.length:r,o=e<0?i:e,a=t.slice(0,o),u={};m(u,n);var c=a.replace(/:([^\/\.-]+)(\.{3})?/g,(function(t,e,r){return delete u[e],null==n[e]?t:r?n[e]:encodeURIComponent(String(n[e]))})),s=c.indexOf("?"),l=c.indexOf("#"),f=l<0?c.length:l,d=s<0?f:s,h=c.slice(0,d);e>=0&&(h+=t.slice(e,i)),s>=0&&(h+=(e<0?"?":"&")+c.slice(s,f));var v=p(u);return v&&(h+=(e<0&&s<0?"?":"&")+v),r>=0&&(h+=t.slice(r)),l>=0&&(h+=(r<0?"":"&")+c.slice(l)),h},v=function(t,n,e){var r=0;function i(t){return new n(t)}function o(t){return function(r,o){"string"!=typeof r?(o=r,r=r.url):null==o&&(o={});var a=new n((function(n,e){t(h(r,o.params),o,(function(t){if("function"==typeof o.type)if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e]=new o.type(t[e]);else t=new o.type(t);n(t)}),e)}));if(!0===o.background)return a;var u=0;function c(){0==--u&&"function"==typeof e&&e()}return function t(n){var e=n.then;n.constructor=i;n.then=function(){u++;var r=e.apply(n,arguments);return r.then(c,(function(t){if(c(),0===u)throw t})),t(r)};return n}(a)}}function a(t,n){for(var e in t.headers)if({}.hasOwnProperty.call(t.headers,e)&&n.test(e))return!0;return!1}return i.prototype=n.prototype,i.__proto__=n,{request:o((function(n,e,r,i){var o,u=null!=e.method?e.method.toUpperCase():"GET",c=e.body,s=!(null!=e.serialize&&e.serialize!==JSON.serialize||c instanceof t.FormData),l=e.responseType||("function"==typeof e.extract?"":"json"),f=new t.XMLHttpRequest,d=!1,p=f,m=f.abort;for(var h in f.abort=function(){d=!0,m.call(this)},f.open(u,n,!1!==e.async,"string"==typeof e.user?e.user:void 0,"string"==typeof e.password?e.password:void 0),s&&null!=c&&!a(e,/^content0-type1$/i)&&f.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof e.deserialize||a(e,/^accept$/i)||f.setRequestHeader("Accept","application/json, text/*"),e.withCredentials&&(f.withCredentials=e.withCredentials),e.timeout&&(f.timeout=e.timeout),f.responseType=l,e.headers)({}).hasOwnProperty.call(e.headers,h)&&f.setRequestHeader(h,e.headers[h]);f.onreadystatechange=function(t){if(!d&&4===t.target.readyState)try{var o,a=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(n),u=t.target.response;if("json"===l?t.target.responseType||"function"==typeof e.extract||(u=JSON.parse(t.target.responseText)):l&&"text"!==l||null==u&&(u=t.target.responseText),"function"==typeof e.extract?(u=e.extract(t.target,e),a=!0):"function"==typeof e.deserialize&&(u=e.deserialize(u)),a)r(u);else{try{o=t.target.responseText}catch(t){o=u}var c=new Error(o);c.code=t.target.status,c.response=u,i(c)}}catch(t){i(t)}},"function"==typeof e.config&&(f=e.config(f,e,n)||f)!==p&&(o=f.abort,f.abort=function(){d=!0,o.call(this)}),null==c?f.send():"function"==typeof e.serialize?f.send(e.serialize(c)):c instanceof t.FormData?f.send(c):f.send(JSON.stringify(c))})),jsonp:o((function(n,e,i,o){var a=e.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,u=t.document.createElement("script");t[a]=function(n){delete t[a],u.parentNode.removeChild(u),i(n)},u.onerror=function(){delete t[a],u.parentNode.removeChild(u),o(new Error("JSONP request failed"))},u.src=n+(n.indexOf("?")<0?"?":"&")+encodeURIComponent(e.callbackKey||"callback")+"="+encodeURIComponent(a),t.document.documentElement.appendChild(u)}))}}(window,l,d.redraw),g=d,y=function(){return s.apply(this,arguments)};y.m=s,y.trust=s.trust,y.fragment=s.fragment,y.mount=g.mount;var w=s,b=l,O=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var n=t.split("&"),e={},r={},i=0;i<n.length;i++){var o=n[i].split("="),a=decodeURIComponent(o[0]),u=2===o.length?decodeURIComponent(o[1]):"";"true"===u?u=!0:"false"===u&&(u=!1);var c=a.split(/\]\[?|\[/),s=r;a.indexOf("[")>-1&&c.pop();for(var l=0;l<c.length;l++){var f=c[l],d=c[l+1],p=""==d||!isNaN(parseInt(d,10));if(""===f)null==e[a=c.slice(0,l).join()]&&(e[a]=Array.isArray(s)?s.length:0),f=e[a]++;else if("__proto__"===f)break;if(l===c.length-1)s[f]=u;else{var m=Object.getOwnPropertyDescriptor(s,f);null!=m&&(m=m.value),null==m&&(s[f]=m=p?[]:{}),s=m}}}return r},x=function(t){var n=t.indexOf("?"),e=t.indexOf("#"),r=e<0?t.length:e,i=n<0?r:n,o=t.slice(0,i).replace(/\/{2,}/g,"/");return o?("/"!==o[0]&&(o="/"+o),o.length>1&&"/"===o[o.length-1]&&(o=o.slice(0,-1))):o="/",{path:o,params:n<0?{}:O(t.slice(n+1,r))}},S=function(t){var n=x(t),e=Object.keys(n.params),r=[],i=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(t,n,e){return null==n?"\\"+t:(r.push({k:n,r:"..."===e}),"..."===e?"(.*)":"."===e?"([^/]+)\\.":"([^/]+)"+(e||""))}))+"$");return function(t){for(var o=0;o<e.length;o++)if(n.params[e[o]]!==t.params[e[o]])return!1;if(!r.length)return i.test(t.path);var a=i.exec(t.path);if(null==a)return!1;for(o=0;o<r.length;o++)t.params[r[o].k]=r[o].r?a[o+1]:decodeURIComponent(a[o+1]);return!0}},E={};y.route=function(t,e){var i;function o(n,e,r){if(n=h(n,e),null!=i){i();var o=r?r.state:null,a=r?r.title:null;r&&r.replace?t.history.replaceState(o,a,d.prefix+n):t.history.pushState(o,a,d.prefix+n)}else t.location.href=d.prefix+n}var a,u,c,s,l=E,f=d.SKIP={};function d(p,h,v){if(null==p)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var g,y=0,w=Object.keys(v).map((function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:t,component:v[t],check:S(t)}})),O="function"==typeof n?n:setTimeout,_=b.resolve(),P=!1;if(i=null,null!=h){var T=x(h);if(!w.some((function(t){return t.check(T)})))throw new ReferenceError("Default route doesn't match any known routes")}function k(){P=!1;var n=t.location.hash;"#"!==d.prefix[0]&&(n=t.location.search+n,"?"!==d.prefix[0]&&"/"!==(n=t.location.pathname+n)[0]&&(n="/"+n));var r=n.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(d.prefix.length),i=x(r);function p(){if(r===h)throw new Error("Could not resolve default route "+h);o(h,null,{replace:!0})}m(i.params,t.history.state),function t(n){for(;n<w.length;n++)if(w[n].check(i)){var o=w[n].component,d=w[n].route,m=o,h=s=function(d){if(h===s){if(d===f)return t(n+1);a=null==d||"function"!=typeof d.view&&"function"!=typeof d?"div":d,u=i.params,c=r,s=null,l=o.render?o:null,2===y?e.redraw():(y=2,e.redraw.sync())}};return void(o.view||"function"==typeof o?(o={},h(m)):o.onmatch?_.then((function(){return o.onmatch(i.params,r,d)})).then(h,p):h("div"))}p()}(0)}return i=function(){P||(P=!0,O(k))},"function"==typeof t.history.pushState?(g=function(){t.removeEventListener("popstate",i,!1)},t.addEventListener("popstate",i,!1)):"#"===d.prefix[0]&&(i=null,g=function(){t.removeEventListener("hashchange",k,!1)},t.addEventListener("hashchange",k,!1)),e.mount(p,{onbeforeupdate:function(){return!(!(y=y?2:1)||E===l)},oncreate:k,onremove:g,view:function(){if(y&&E!==l){var t=[r(a,u.key,u)];return l&&(t=l.render(t[0])),t}}})}return d.set=function(t,n,e){null!=s&&((e=e||{}).replace=!0),s=null,o(t,n,e)},d.get=function(){return c},d.prefix="#!",d.Link={view:function(t){var n,e,r=t.attrs.options,i={};m(i,t.attrs),i.selector=i.options=i.key=i.oninit=i.oncreate=i.onbeforeupdate=i.onupdate=i.onbeforeremove=i.onremove=null;var o=w(t.attrs.selector||"a",i,t.children);return(o.attrs.disabled=Boolean(o.attrs.disabled))?(o.attrs.href=null,o.attrs["aria-disabled"]="true",o.attrs.onclick=null):(n=o.attrs.onclick,e=o.attrs.href,o.attrs.href=d.prefix+e,o.attrs.onclick=function(t){var i;"function"==typeof n?i=n.call(t.currentTarget,t):null==n||"object"!=typeof n||"function"==typeof n.handleEvent&&n.handleEvent(t),!1===i||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,d.set(e,null,r))}),o}},d.param=function(t){return u&&null!=t?u[t]:u},d}(window,g),y.render=f,y.redraw=g.redraw,y.request=v.request,y.jsonp=v.jsonp,y.parseQueryString=O,y.buildQueryString=p,y.parsePathname=x,y.buildPathname=h,y.vnode=r,y.PromisePolyfill=l,t.exports=y}()}).call(this,e(7).setImmediate,e(6))},function(t,n,e){var r=e(14),i=e(15),o=e(16);t.exports=function(t){return r(t)||i(t)||o()}},function(t,n,e){t.exports=e(10)},function(t,n){function e(t,n,e,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=t.apply(n,r);function u(t){e(a,i,o,u,c,"next",t)}function c(t){e(a,i,o,u,c,"throw",t)}u(void 0)}))}}},function(t,n,e){var r=e(11),i=e(12),o=e(13);t.exports=function(t,n){return r(t)||i(t,n)||o()}},function(t,n){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},e(8),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(6))},function(t,n,e){(function(t,n){!function(t,e){"use strict";if(!t.setImmediate){var r,i,o,a,u,c=1,s={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){n.nextTick((function(){m(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){m(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var n=f.createElement("script");n.onreadystatechange=function(){m(t),n.onreadystatechange=null,i.removeChild(n),n=null},i.appendChild(n)}):r=function(t){setTimeout(m,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(a)&&m(+n.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(n){t.postMessage(a+n,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var i={callback:t,args:n};return s[c]=i,r(c),c++},d.clearImmediate=p}function p(t){delete s[t]}function m(t){if(l)setTimeout(m,0,t);else{var n=s[t];if(n){l=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e(6),e(9))},function(t,n){var e,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=u(d);l=!0;for(var n=s.length;n;){for(c=s,s=[];++f<n;)c&&c[f].run();f=-1,n=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function m(t,n){this.fun=t,this.array=n}function h(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new m(t,n)),1!==s.length||l||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n,e){var r=function(t){"use strict";var n,e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,n,e,r){var i=n&&n.prototype instanceof h?n:h,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(t,n,e){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return j()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var u=E(a,e);if(u){if(u===m)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===l)throw r=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=d;var c=s(t,n,e);if("normal"===c.type){if(r=e.done?p:f,c.arg===m)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=p,e.method="throw",e.arg=c.arg)}}}(t,e,a),o}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",m={};function h(){}function v(){}function g(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(k([])));b&&b!==e&&r.call(b,o)&&(y=b);var O=g.prototype=h.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function S(t){var n;this._invoke=function(e,i){function o(){return new Promise((function(n,o){!function n(e,i,o,a){var u=s(t[e],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,a)}))}a(u.arg)}(e,i,n,o)}))}return n=n?n.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=s(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function _(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:n,done:!0}}return v.prototype=O.constructor=g,g.constructor=v,g[u]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(n,e,r,i){var o=new S(c(n,e,r,i));return t.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(O),O[u]="Generator",O[o]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),P(e),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;P(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,n){t.exports=function(t){if(Array.isArray(t))return t}},function(t,n){t.exports=function(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return e}}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}},function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,n,e){},function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),o=e(2),a=e.n(o),u=e(3),c=e.n(u),s=e(4),l=e.n(s),f=e(5),d=e.n(f),p=e(1),m=e.n(p);function h(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?h(e,!0).forEach((function(n){d()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var g=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return n.filter(Boolean).reduce((function(t,n){return n(t)}),t)}},y=function(t){var n=t.domElement,e=t.prop;if(window.getComputedStyle){var r=document.defaultView;if(r){var i=r.getComputedStyle(n);if(i)return i.getPropertyValue(e)}}},w="show",b="hide",O=function(t,n,e){var r=e[n]||{};Object.keys(r).forEach((function(n){var e=r[n].toString();t.style[n]=e}))},x=function(t,n){return t.split(/ /).map((function(t){return"".concat(t,"-").concat(n)}))},S=function(t,n,e,r){if(n.styles){var i=function(t,n){return("function"==typeof n?n(t):n)||{}}(t,n.styles);O(t,"default",i),r&&function(t){t.style.transitionDuration="0ms"}(t),O(t,e,i)}if(n.className){var o,a={showStart:x(n.className,"show-start"),showEnd:x(n.className,"show-end"),hideStart:x(n.className,"hide-start"),hideEnd:x(n.className,"hide-end")};!function(t,n){var e;(e=t.classList).remove.apply(e,m()(n.showStart).concat(m()(n.showEnd),m()(n.hideStart),m()(n.hideEnd)))}(t,a),a&&(o=t.classList).add.apply(o,m()(a[e]))}t.scrollTop},E={showStart:{nextStep:"showEnd"},showEnd:{nextStep:void 0},hideStart:{nextStep:"hideEnd"},hideEnd:{nextStep:void 0}},_=function(t,n){var e=t.domElement;if(!e)return Promise.resolve("no domElement");var r=n===w?"showStart":"hideStart";return new Promise((function(n){S(e,t,r,"showStart"===r),setTimeout((function(){var i=E[r].nextStep;if(i){S(e,t,r=i);var o=function(t){var n=y({domElement:t,prop:"transition-duration"}),e=void 0!==n?P(n):0,r=y({domElement:t,prop:"transition-delay"});return e+(void 0!==r?P(r):0)}(e);setTimeout(n,o)}}),0)}))},P=function(t){var n=parseFloat(t)*(-1===t.indexOf("ms")?1e3:1);return isNaN(n)?0:n};var T=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t){!function(){e.SKIP={},e.lift=function(){var t=arguments[0];return i(Array.prototype.slice.call(arguments,1)).map((function(n){return t.apply(void 0,n)}))},e.scan=function(t,n,r){var i=r.map((function(r){var i=t(n,r);return i!==e.SKIP&&(n=i),i}));return i(n),i},e.merge=i,e.combine=r,e.scanMerge=function(t,n){var e=t.map((function(t){return t[0]})),i=r((function(){var r=arguments[arguments.length-1];return e.forEach((function(e,i){r.indexOf(e)>-1&&(n=t[i][1](n,e()))})),n}),e);return i(n),i},e["fantasy-land/of"]=e;var n=!1;function e(t){var n,i=[],a=[];function u(n){return arguments.length&&n!==e.SKIP&&(t=n,o(u)&&(u._changing(),u._state="active",i.forEach((function(n,e){n(a[e](t))})))),t}return u.constructor=e,u._state=arguments.length&&t!==e.SKIP?"active":"pending",u._parents=[],u._changing=function(){o(u)&&(u._state="changing"),i.forEach((function(t){t._changing()}))},u._map=function(n,r){var o=r?e():e(n(t));return o._parents.push(u),i.push(o),a.push(n),o},u.map=function(t){return u._map(t,"active"!==u._state)},u.toJSON=function(){return null!=t&&"function"==typeof t.toJSON?t.toJSON():t},u["fantasy-land/map"]=u.map,u["fantasy-land/ap"]=function(t){return r((function(t,n){return t()(n())}),[t,u])},u._unregisterChild=function(t){var n=i.indexOf(t);-1!==n&&(i.splice(n,1),a.splice(n,1))},Object.defineProperty(u,"end",{get:function(){return n||((n=e()).map((function(t){return!0===t&&(u._parents.forEach((function(t){t._unregisterChild(u)})),u._state="ended",u._parents.length=i.length=a.length=0),t})),n)}}),u}function r(t,n){var r=n.every((function(t){if(t.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===t._state})),i=r?e(t.apply(null,n.concat([n]))):e(),o=[],a=n.map((function(e){return e._map((function(a){return o.push(e),(r||n.every((function(t){return"pending"!==t._state})))&&(r=!0,i(t.apply(null,n.concat([o]))),o=[]),a}),!0)})),u=i.end.map((function(t){!0===t&&(a.forEach((function(t){t.end(!0)})),u.end(!0))}));return i}function i(t){return r((function(){return t.map((function(t){return t()}))}),t)}function o(t){return"pending"===t._state||"active"===t._state||"changing"===t._state}Object.defineProperty(e,"HALT",{get:function(){return n||console.log("HALT is deprecated and has been renamed to SKIP"),n=!0,e.SKIP}}),t.exports=e}()})),k=function(t,n){var e=function(t,n){return n.find((function(n){return n.id===t}))}(t,n);return n.indexOf(e)},j=function(t,n){return[n,t.id,t.spawn].filter(Boolean).join("-")},A={initialState:{store:{}},actions:function(t){return{add:function(n,e){t((function(r){var i=r.store[n]||[];return r.store[n]=[].concat(m()(i),[e]),e.timer&&e.timer.states.map((function(){return A.actions(t).refresh()})),r}))},remove:function(n,e){t((function(t){var r=t.store[n]||[],i=function(t,n){var e=k(t,n);return-1!==e&&n.splice(e,1),n}(e,r);return t.store[n]=i,t}))},replace:function(n,e,r){t((function(t){var i=t.store[n]||[];if(i){var o=k(e,i);-1!==o&&(i[o]=r,t.store[n]=m()(i))}return t}))},removeAll:function(n){t((function(t){return t.store[n]=[],t}))},store:function(n,e){t((function(t){return t.store[n]=m()(e),t}))},refresh:function(){t((function(t){return v({},t)}))}}},selectors:function(t){var n={getStore:function(){return t().store},find:function(n,e){var r=t().store[n]||[],i=j(e,n),o=r.find((function(t){return t.id===i}));return o?{just:o}:{nothing:void 0}},getAll:function(n,e){var r=t().store[n]||[],i=void 0!==e?e.spawn:void 0,o=void 0!==e?e.id:void 0,a=void 0!==i?r.filter((function(t){return t.identityOptions.spawn===i})):r;return void 0!==o?a.filter((function(t){return t.identityOptions.id===o})):a},getCount:function(t,e){return n.getAll(t,e).length}};return n}},I=T(),N=T.scan((function(t,n){return n(t)}),v({},A.initialState),I),C=v({},A.actions(I)),L=v({},A.selectors(N)),R={callback:function(){},isPaused:!1,onAbort:function(){},onDone:function(){},promise:void 0,remaining:void 0,startTime:void 0,timeoutFn:function(){},timerId:void 0},D=function(t){return window.clearTimeout(t.timerId),{timerId:R.timerId}},M=function(t){return v({},D(t),{isPaused:!0,remaining:z(t)})},z=function(t){return 0===t.remaining||void 0===t.remaining?t.remaining:t.remaining-((new Date).getTime()-(t.startTime||0))},F=function(){var t={initialState:R,actions:function(n){return{start:function(e,r){n((function(i){return v({},i,{},D(i),{},function(t,n,e,r){var i=function(){n(),t.onDone(),r()};return v({timeoutFn:i,promise:new Promise((function(n,e){t.onDone=function(){return n()},t.onAbort=function(){return n()}}))},t.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(i,e),remaining:e})}(i,e,r,(function(){return t.actions(n).done()})),{},i.isPaused&&M(i))}))},stop:function(){n((function(t){return v({},t,{},function(t){return v({},D(t))}(t),{},R)}))},pause:function(){n((function(t){return v({},t,{},!t.isPaused&&M(t))}))},resume:function(t){n((function(n){return v({},n,{},n.isPaused&&function(t,n){window.clearTimeout(t.timerId);var e=n?Math.max(t.remaining||0,n):t.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(t.timeoutFn,e)}}(n,t))}))},abort:function(){n((function(t){return t.onAbort(),v({},t,{},D(t))}))},done:function(){n((function(t){return R}))},refresh:function(){n((function(t){return v({},t)}))}}},selectors:function(t){return{isPaused:function(){return t().isPaused},getRemaining:function(){var n=t();return n.isPaused?n.remaining:z(n)},getResultPromise:function(){return t().promise}}}},n=T(),e=T.scan((function(t,n){return n(t)}),v({},t.initialState),n);return{states:e,actions:v({},t.actions(n)),selectors:v({},t.selectors(e))}},q=0,$=function(){return q===Number.MAX_SAFE_INTEGER?0:q++},H=0,K=1,G=2,U=function(t){return function(n){return void 0!==t.spawn?n.filter((function(n){return n.identityOptions.spawn===t.spawn})):n}},J=function(t){var n=0;return t.map((function(t){return{item:t,queueCount:t.dialogicOptions.queued?n++:0}})).filter((function(t){return 0===t.queueCount})).map((function(t){return t.item}))},B=function(t){var n=v({},t);return delete n.dialogic,n},V=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{id:n.id||t.id,spawn:n.spawn||t.spawn}},X=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e={id:n.dialogic?n.dialogic.id:void 0,spawn:n.dialogic?n.dialogic.spawn:void 0},r=V(t||{},e),i=v({},t,{},n.dialogic),o=B(n);return{identityOptions:r,dialogicOptions:i,passThroughOptions:o}},Y=function(t){return function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=X(n,e),i=r.identityOptions,o=r.dialogicOptions,a=r.passThroughOptions;return new Promise((function(r){var u={didShow:function(t){return o.didShow&&o.didShow(t),r(t)},didHide:function(t){return o.didHide&&o.didHide(t),r(t)}},c={ns:t,identityOptions:i,dialogicOptions:o,callbacks:u,passThroughOptions:a,id:j(i,t),timer:o.timeout?F():void 0,key:$().toString(),transitionState:H},s=L.find(t,i);if(s.just&&o.toggle){var l=Q(t)(n)(e);return r(l)}if(s.just&&!o.queued){var f=s.just,d=f.dialogicOptions,p=v({},c,{transitionState:f.transitionState,dialogicOptions:d});C.replace(t,f.id,p)}else C.add(t,c);r(c)}))}}},Q=function(t){return function(n){return function(e){var r=X(n,e),i=r.identityOptions,o=r.dialogicOptions,a=r.passThroughOptions,u=L.find(t,i);if(u.just){var c=u.just,s=v({},c,{dialogicOptions:v({},c.dialogicOptions,{},o),passThroughOptions:v({},c.passThroughOptions,{passThroughOptions:a})});return C.replace(t,c.id,s),s.transitionState!==G?dt(s):Promise.resolve(s)}return Promise.resolve()}}},W=function(t){return function(n){return function(n){var e=it(t,n).filter((function(t){return!!t.timer}));return e.forEach((function(t){return t.timer&&t.timer.actions.pause()})),Promise.all(e)}}},Z=function(t){return function(n){return function(n){var e=n||{},r={id:e.id,spawn:e.spawn},i=it(t,r).filter((function(t){return!!t.timer}));return i.forEach((function(t){return t.timer&&t.timer.actions.resume(e.minimumDuration)})),Promise.all(i)}}},tt=function(t,n){return function(e){return function(r){return function(i){var o=function(t){return function(n){return function(e){return L.find(t,V(n,e))}}}(e)(r)(i);return o.just&&o.just&&o.just.timer?o.just.timer.selectors[t]():n}}}},nt=tt("isPaused",!1),et=tt("getRemaining",void 0),rt=function(t){return function(n){return function(n){return!!it(t,n).length}}},it=function(t,n){var e=L.getAll(t);return n?g(U(n),function(t){return function(n){return void 0!==t.id?n.filter((function(n){return n.identityOptions.id===t.id})):n}}(n))(e):e},ot=function(t){return function(n){return function(n){var e=it(t,n),r=[];return e.forEach((function(t){t.timer&&t.timer.actions.abort(),r.push(t)})),n?r.forEach((function(n){C.remove(t,n.id)})):C.removeAll(t),Promise.resolve(r)}}},at=function(t,n){return v({},t,{dialogicOptions:v({},t.dialogicOptions,{},n)})},ut=function(t){return function(n){return function(n){var e=n||{},r={id:e.id,spawn:e.spawn},i=it(t,r),o=i.filter((function(t){return!e.queued&&!t.dialogicOptions.queued})),a=i.filter((function(t){return e.queued||t.dialogicOptions.queued})),u=[];if(o.forEach((function(t){return u.push(dt(at(t,e)))})),a.length>0){var c=l()(a,1)[0];C.store(t,[c]),u.push(dt(at(c,e)))}return Promise.all(u)}}},ct=function(t){return function(n){return L.getCount(t,n)}},st=function(t,n){return _(t.dialogicOptions,n)},lt=function(){var t=c()(a.a.mark((function t(n,e,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.actions.start((function(){return dt(n)}),r),t.abrupt("return",tt("getResultPromise",void 0));case 2:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),ft=function(){var t=c()(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.transitionState===K){t.next=4;break}return n.transitionState=K,t.next=4,st(n,w);case 4:if(t.t0=n.callbacks.didShow,!t.t0){t.next=8;break}return t.next=8,n.callbacks.didShow(n);case 8:if(!n.dialogicOptions.timeout||!n.timer){t.next=11;break}return t.next=11,lt(n,n.timer,n.dialogicOptions.timeout);case 11:return t.abrupt("return",Promise.resolve(n));case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),dt=function(){var t=c()(a.a.mark((function t(n){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.transitionState=G,n.timer&&n.timer.actions.stop(),t.next=4,st(n,b);case 4:if(t.t0=n.callbacks.didHide,!t.t0){t.next=8;break}return t.next=8,n.callbacks.didHide(n);case 8:return e=v({},n),C.remove(n.ns,n.id),t.abrupt("return",Promise.resolve(e));case 11:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),pt=function(t){var n=t.ns,e=t.queued,r=t.timeout,i="default_".concat(n),o="default_".concat(n),a=v({id:i,spawn:o},e&&{queued:e},{},void 0!==r&&{timeout:r});return{ns:n,defaultId:i,defaultSpawn:o,defaultDialogicOptions:a,show:Y(n)(a),hide:Q(n)(a),hideAll:ut(n)(a),resetAll:ot(n)(a),pause:W(n)(a),resume:Z(n)(a),exists:rt(n)(a),getCount:ct(n),isPaused:nt(n)(a),getRemaining:et(n)(a)}},mt=pt({ns:"dialog"}),ht=pt({ns:"notification",queued:!0,timeout:3e3}),vt=function(t){return function(n,e){var r,i=L.find(t,n.detail.identityOptions);i.just&&(r=n.detail.domElement,i.just.dialogicOptions.domElement=r);var o=L.find(t,n.detail.identityOptions);o.just&&e(o.just)}},gt=function(t){var n,e=t.attrs,r=function(t){t({detail:{identityOptions:e.identityOptions,domElement:n}})},o=function(){r(e.onShow)},a=function(){r(e.onHide)};return{oncreate:function(t){n=t.dom,r(e.onMount)},view:function(t){var n=t.attrs;return i()("div",{className:n.dialogicOptions.className},i()(n.dialogicOptions.component,v({},n.passThroughOptions,{show:o,hide:a})))}}},yt={view:function(t){var n,e=t.attrs,r=(n=e.ns,function(t){return vt(n)(t,ft)}),o=function(t){return function(n){return vt(t)(n,ft)}}(e.ns),a=function(t){return function(n){return vt(t)(n,dt)}}(e.ns),u=e.identityOptions||{};return function(t,n,e){var r=n[t]||[];return 0==r.length?[]:g(U(e),J)(r)}(e.ns,L.getStore(),u).map((function(t){return i()(gt,{key:t.key,identityOptions:t.identityOptions,dialogicOptions:t.dialogicOptions,passThroughOptions:t.passThroughOptions,onMount:r,onShow:o,onHide:a})}))}},wt=function(t){return{oncreate:function(t){var n=t.attrs;"function"==typeof n.onMount&&n.onMount()},view:function(n){var e=n.attrs,r={id:e.id||t.defaultId,spawn:e.spawn||t.defaultSpawn};return i()(yt,{identityOptions:r,ns:t.ns})}}},bt=wt(mt),Ot=wt(ht);function xt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function St(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?xt(e,!0).forEach((function(n){d()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xt(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}N.map((function(t){return i.a.redraw()}));var Et=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return n.filter(Boolean).reduce((function(t,n){return n(t)}),t)}},_t=function(t){var n=t.domElement,e=t.prop;if(window.getComputedStyle){var r=document.defaultView;if(r){var i=r.getComputedStyle(n);if(i)return i.getPropertyValue(e)}}},Pt="show",Tt="hide",kt=function(t,n,e){var r=e[n]||{};Object.keys(r).forEach((function(n){var e=r[n].toString();t.style[n]=e}))},jt=function(t,n){return t.split(/ /).map((function(t){return"".concat(t,"-").concat(n)}))},At=function(t,n,e,r){if(n.styles){var i=function(t,n){return("function"==typeof n?n(t):n)||{}}(t,n.styles);kt(t,"default",i),r&&function(t){t.style.transitionDuration="0ms"}(t),kt(t,e,i)}if(n.className){var o,a={showStart:jt(n.className,"show-start"),showEnd:jt(n.className,"show-end"),hideStart:jt(n.className,"hide-start"),hideEnd:jt(n.className,"hide-end")};!function(t,n){var e;(e=t.classList).remove.apply(e,m()(n.showStart).concat(m()(n.showEnd),m()(n.hideStart),m()(n.hideEnd)))}(t,a),a&&(o=t.classList).add.apply(o,m()(a[e]))}t.scrollTop},It={showStart:{nextStep:"showEnd"},showEnd:{nextStep:void 0},hideStart:{nextStep:"hideEnd"},hideEnd:{nextStep:void 0}},Nt=function(t,n){var e=t.domElement;if(!e)return Promise.resolve("no domElement");var r=n===Pt?"showStart":"hideStart";return new Promise((function(n){At(e,t,r,"showStart"===r),setTimeout((function(){var i=It[r].nextStep;if(i){At(e,t,r=i);var o=function(t){var n=_t({domElement:t,prop:"transition-duration"}),e=void 0!==n?Ct(n):0,r=_t({domElement:t,prop:"transition-delay"});return e+(void 0!==r?Ct(r):0)}(e);setTimeout(n,o)}}),0)}))},Ct=function(t){var n=parseFloat(t)*(-1===t.indexOf("ms")?1e3:1);return isNaN(n)?0:n};var Lt=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t){!function(){e.SKIP={},e.lift=function(){var t=arguments[0];return i(Array.prototype.slice.call(arguments,1)).map((function(n){return t.apply(void 0,n)}))},e.scan=function(t,n,r){var i=r.map((function(r){var i=t(n,r);return i!==e.SKIP&&(n=i),i}));return i(n),i},e.merge=i,e.combine=r,e.scanMerge=function(t,n){var e=t.map((function(t){return t[0]})),i=r((function(){var r=arguments[arguments.length-1];return e.forEach((function(e,i){r.indexOf(e)>-1&&(n=t[i][1](n,e()))})),n}),e);return i(n),i},e["fantasy-land/of"]=e;var n=!1;function e(t){var n,i=[],a=[];function u(n){return arguments.length&&n!==e.SKIP&&(t=n,o(u)&&(u._changing(),u._state="active",i.forEach((function(n,e){n(a[e](t))})))),t}return u.constructor=e,u._state=arguments.length&&t!==e.SKIP?"active":"pending",u._parents=[],u._changing=function(){o(u)&&(u._state="changing"),i.forEach((function(t){t._changing()}))},u._map=function(n,r){var o=r?e():e(n(t));return o._parents.push(u),i.push(o),a.push(n),o},u.map=function(t){return u._map(t,"active"!==u._state)},u.toJSON=function(){return null!=t&&"function"==typeof t.toJSON?t.toJSON():t},u["fantasy-land/map"]=u.map,u["fantasy-land/ap"]=function(t){return r((function(t,n){return t()(n())}),[t,u])},u._unregisterChild=function(t){var n=i.indexOf(t);-1!==n&&(i.splice(n,1),a.splice(n,1))},Object.defineProperty(u,"end",{get:function(){return n||((n=e()).map((function(t){return!0===t&&(u._parents.forEach((function(t){t._unregisterChild(u)})),u._state="ended",u._parents.length=i.length=a.length=0),t})),n)}}),u}function r(t,n){var r=n.every((function(t){if(t.constructor!==e)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===t._state})),i=r?e(t.apply(null,n.concat([n]))):e(),o=[],a=n.map((function(e){return e._map((function(a){return o.push(e),(r||n.every((function(t){return"pending"!==t._state})))&&(r=!0,i(t.apply(null,n.concat([o]))),o=[]),a}),!0)})),u=i.end.map((function(t){!0===t&&(a.forEach((function(t){t.end(!0)})),u.end(!0))}));return i}function i(t){return r((function(){return t.map((function(t){return t()}))}),t)}function o(t){return"pending"===t._state||"active"===t._state||"changing"===t._state}Object.defineProperty(e,"HALT",{get:function(){return n||console.log("HALT is deprecated and has been renamed to SKIP"),n=!0,e.SKIP}}),t.exports=e}()})),Rt=function(t,n){var e=function(t,n){return n.find((function(n){return n.id===t}))}(t,n);return n.indexOf(e)},Dt=function(t,n){return[n,t.id,t.spawn].filter(Boolean).join("-")},Mt={initialState:{store:{}},actions:function(t){return{add:function(n,e){t((function(r){var i=r.store[n]||[];return r.store[n]=[].concat(m()(i),[e]),e.timer&&e.timer.states.map((function(){return Mt.actions(t).refresh()})),r}))},remove:function(n,e){t((function(t){var r=t.store[n]||[],i=function(t,n){var e=Rt(t,n);return-1!==e&&n.splice(e,1),n}(e,r);return t.store[n]=i,t}))},replace:function(n,e,r){t((function(t){var i=t.store[n]||[];if(i){var o=Rt(e,i);-1!==o&&(i[o]=r,t.store[n]=m()(i))}return t}))},removeAll:function(n){t((function(t){return t.store[n]=[],t}))},store:function(n,e){t((function(t){return t.store[n]=m()(e),t}))},refresh:function(){t((function(t){return St({},t)}))}}},selectors:function(t){var n={getStore:function(){return t().store},find:function(n,e){var r=t().store[n]||[],i=Dt(e,n),o=r.find((function(t){return t.id===i}));return o?{just:o}:{nothing:void 0}},getAll:function(n,e){var r=t().store[n]||[],i=void 0!==e?e.spawn:void 0,o=void 0!==e?e.id:void 0,a=void 0!==i?r.filter((function(t){return t.identityOptions.spawn===i})):r;return void 0!==o?a.filter((function(t){return t.identityOptions.id===o})):a},getCount:function(t,e){return n.getAll(t,e).length}};return n}},zt=Lt(),Ft=Lt.scan((function(t,n){return n(t)}),St({},Mt.initialState),zt),qt=St({},Mt.actions(zt)),$t=St({},Mt.selectors(Ft)),Ht={callback:function(){},isPaused:!1,onAbort:function(){},onDone:function(){},promise:void 0,remaining:void 0,startTime:void 0,timeoutFn:function(){},timerId:void 0},Kt=function(t){return window.clearTimeout(t.timerId),{timerId:Ht.timerId}},Gt=function(t){return St({},Kt(t),{isPaused:!0,remaining:Ut(t)})},Ut=function(t){return 0===t.remaining||void 0===t.remaining?t.remaining:t.remaining-((new Date).getTime()-(t.startTime||0))},Jt=function(){var t={initialState:Ht,actions:function(n){return{start:function(e,r){n((function(i){return St({},i,{},Kt(i),{},function(t,n,e,r){var i=function(){n(),t.onDone(),r()};return St({timeoutFn:i,promise:new Promise((function(n,e){t.onDone=function(){return n()},t.onAbort=function(){return n()}}))},t.isPaused?{}:{startTime:(new Date).getTime(),timerId:window.setTimeout(i,e),remaining:e})}(i,e,r,(function(){return t.actions(n).done()})),{},i.isPaused&&Gt(i))}))},stop:function(){n((function(t){return St({},t,{},function(t){return St({},Kt(t))}(t),{},Ht)}))},pause:function(){n((function(t){return St({},t,{},!t.isPaused&&Gt(t))}))},resume:function(t){n((function(n){return St({},n,{},n.isPaused&&function(t,n){window.clearTimeout(t.timerId);var e=n?Math.max(t.remaining||0,n):t.remaining;return{startTime:(new Date).getTime(),isPaused:!1,remaining:e,timerId:window.setTimeout(t.timeoutFn,e)}}(n,t))}))},abort:function(){n((function(t){return t.onAbort(),St({},t,{},Kt(t))}))},done:function(){n((function(t){return Ht}))},refresh:function(){n((function(t){return St({},t)}))}}},selectors:function(t){return{isPaused:function(){return t().isPaused},getRemaining:function(){var n=t();return n.isPaused?n.remaining:Ut(n)},getResultPromise:function(){return t().promise}}}},n=Lt(),e=Lt.scan((function(t,n){return n(t)}),St({},t.initialState),n);return{states:e,actions:St({},t.actions(n)),selectors:St({},t.selectors(e))}},Bt=0,Vt=function(){return Bt===Number.MAX_SAFE_INTEGER?0:Bt++},Xt=0,Yt=2,Qt=function(t){return function(n){return void 0!==t.spawn?n.filter((function(n){return n.identityOptions.spawn===t.spawn})):n}},Wt=function(t){var n=St({},t);return delete n.dialogic,n},Zt=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{id:n.id||t.id,spawn:n.spawn||t.spawn}},tn=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e={id:n.dialogic?n.dialogic.id:void 0,spawn:n.dialogic?n.dialogic.spawn:void 0},r=Zt(t||{},e),i=St({},t,{},n.dialogic),o=Wt(n);return{identityOptions:r,dialogicOptions:i,passThroughOptions:o}},nn=function(t){return function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=tn(n,e),i=r.identityOptions,o=r.dialogicOptions,a=r.passThroughOptions;return new Promise((function(r){var u={didShow:function(t){return o.didShow&&o.didShow(t),r(t)},didHide:function(t){return o.didHide&&o.didHide(t),r(t)}},c={ns:t,identityOptions:i,dialogicOptions:o,callbacks:u,passThroughOptions:a,id:Dt(i,t),timer:o.timeout?Jt():void 0,key:Vt().toString(),transitionState:Xt},s=$t.find(t,i);if(s.just&&o.toggle){var l=en(t)(n)(e);return r(l)}if(s.just&&!o.queued){var f=s.just,d=f.dialogicOptions,p=St({},c,{transitionState:f.transitionState,dialogicOptions:d});qt.replace(t,f.id,p)}else qt.add(t,c);r(c)}))}}},en=function(t){return function(n){return function(e){var r=tn(n,e),i=r.identityOptions,o=r.dialogicOptions,a=r.passThroughOptions,u=$t.find(t,i);if(u.just){var c=u.just,s=St({},c,{dialogicOptions:St({},c.dialogicOptions,{},o),passThroughOptions:St({},c.passThroughOptions,{passThroughOptions:a})});return qt.replace(t,c.id,s),s.transitionState!==Yt?vn(s):Promise.resolve(s)}return Promise.resolve()}}},rn=function(t){return function(n){return function(n){var e=ln(t,n).filter((function(t){return!!t.timer}));return e.forEach((function(t){return t.timer&&t.timer.actions.pause()})),Promise.all(e)}}},on=function(t){return function(n){return function(n){var e=n||{},r={id:e.id,spawn:e.spawn},i=ln(t,r).filter((function(t){return!!t.timer}));return i.forEach((function(t){return t.timer&&t.timer.actions.resume(e.minimumDuration)})),Promise.all(i)}}},an=function(t,n){return function(e){return function(r){return function(i){var o=function(t){return function(n){return function(e){return $t.find(t,Zt(n,e))}}}(e)(r)(i);return o.just&&o.just&&o.just.timer?o.just.timer.selectors[t]():n}}}},un=an("isPaused",!1),cn=an("getRemaining",void 0),sn=function(t){return function(n){return function(n){return!!ln(t,n).length}}},ln=function(t,n){var e=$t.getAll(t);return n?Et(Qt(n),function(t){return function(n){return void 0!==t.id?n.filter((function(n){return n.identityOptions.id===t.id})):n}}(n))(e):e},fn=function(t){return function(n){return function(n){var e=ln(t,n),r=[];return e.forEach((function(t){t.timer&&t.timer.actions.abort(),r.push(t)})),n?r.forEach((function(n){qt.remove(t,n.id)})):qt.removeAll(t),Promise.resolve(r)}}},dn=function(t,n){return St({},t,{dialogicOptions:St({},t.dialogicOptions,{},n)})},pn=function(t){return function(n){return function(n){var e=n||{},r={id:e.id,spawn:e.spawn},i=ln(t,r),o=i.filter((function(t){return!e.queued&&!t.dialogicOptions.queued})),a=i.filter((function(t){return e.queued||t.dialogicOptions.queued})),u=[];if(o.forEach((function(t){return u.push(vn(dn(t,e)))})),a.length>0){var c=l()(a,1)[0];qt.store(t,[c]),u.push(vn(dn(c,e)))}return Promise.all(u)}}},mn=function(t){return function(n){return $t.getCount(t,n)}},hn=function(t,n){return Nt(t.dialogicOptions,n)},vn=function(){var t=c()(a.a.mark((function t(n){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.transitionState=Yt,n.timer&&n.timer.actions.stop(),t.next=4,hn(n,Tt);case 4:if(t.t0=n.callbacks.didHide,!t.t0){t.next=8;break}return t.next=8,n.callbacks.didHide(n);case 8:return e=St({},n),qt.remove(n.ns,n.id),t.abrupt("return",Promise.resolve(e));case 11:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),gn=function(t){var n=t.ns,e=t.queued,r=t.timeout,i="default_".concat(n),o="default_".concat(n),a=St({id:i,spawn:o},e&&{queued:e},{},void 0!==r&&{timeout:r});return{ns:n,defaultId:i,defaultSpawn:o,defaultDialogicOptions:a,show:nn(n)(a),hide:en(n)(a),hideAll:pn(n)(a),resetAll:fn(n)(a),pause:rn(n)(a),resume:on(n)(a),exists:sn(n)(a),getCount:mn(n),isPaused:un(n)(a),getRemaining:cn(n)(a)}},yn=(gn({ns:"dialog"}),gn({ns:"notification",queued:!0,timeout:3e3}),function(t){var n,e=void 0,r=!1;n=window.requestAnimationFrame((function i(){var o=t.instance.getRemaining();e!==o&&(e=void 0===o?o:t.roundToSeconds?Math.round(Math.max(o,0)/1e3):Math.max(o,0)),t.callback(e),t.instance.exists()?r||(n=window.requestAnimationFrame(i)):(window.cancelAnimationFrame(n),r=!0)}))});const wn=()=>{let t;return yn({instance:ht,roundToSeconds:!1,callback:n=>{t=n,i.a.redraw()}}),{view:()=>i()("span",{style:{minWidth:"3em",textAlign:"left"}},void 0===t?"0":t.toString())}},bn={view:({attrs:t})=>i()(".mdc-dialog.mdc-dialog--open",[i()(On,{...t}),i()(".mdc-dialog__scrim")])},On={view:({attrs:t})=>i()(".mdc-dialog__container",i()(".mdc-dialog__surface",[i()("h2.mdc-dialog__title",t.title),i()(".mdc-dialog__content",t.body),i()("footer.mdc-dialog__actions",[i()("button.mdc-button.mdc-dialog__button",{onclick:()=>{mt.hide(),t.onReject()}},i()("span.mdc-button__label","Never mind")),i()("button.mdc-button.mdc-dialog__button",{onclick:()=>{mt.hide(),t.onAccept()}},i()("span.mdc-button__label","Yes, retry"))])]))},xn=t=>{let n;return yn({instance:ht,roundToSeconds:!0,callback:t=>{t!==n&&(n=t,i.a.redraw())}}),{view:()=>i()(".mdc-snackbar.mdc-snackbar--open",i()(".mdc-snackbar__surface",i()(Sn,{remainingSeconds:n})))}},Sn={view:({attrs:t})=>[i()(".mdc-snackbar__label",void 0!==t.remainingSeconds?`Can't send photo. Retrying in ${t.remainingSeconds} seconds.`:"Can't send photo."),i()(".mdc-snackbar__actions",i()("button.mdc-button.mdc-snackbar__action",{onclick:()=>{ht.pause(),mt.show({dialogic:{component:bn,className:"dialog"},title:"Retry sending?",body:"We have noticed a slow internet connection. Even when you retry now, sending may take longer than usual.",onAccept:()=>{ht.hide(),ht.resume()},onReject:()=>{ht.resume({minimumDuration:2e3})}})}},"Retry now"))]};e(17);const En={view:()=>[i()(".page",[i()("main",[i()("h1","Dialogic for Mithril demo"),i()(".message","Add one or more notifications, then click on the Retry button in the message."),i()(".ui.message",[i()(".ui.button.primary",{onclick:()=>{ht.show({dialogic:{component:xn,className:"notification",timeout:4e3}})}},"Add notification"),i()(".ui.button",{onclick:()=>{ht.pause()}},"Pause"),i()(".ui.button",{onclick:()=>{ht.resume()}},"Resume"),i()(".ui.button",{onclick:()=>{ht.hideAll()}},"Hide all"),i()(".ui.button",{onclick:()=>{ht.resetAll()}},"Reset all")]),i()(".ui.message",[i()(".ui.label",["Notifications",i()(".detail",ht.getCount())]),i()(".ui.label",["Is paused",i()(".detail",ht.isPaused().toString())]),ht.exists()&&i()(".ui.label",["Remaining",i()(".detail",i()(wn))])])]),i()("footer",[i()("div",i.a.trust("Dialogic: manage dialogs and notifications. <a href='https://github.com/ArthurClemens/dialogic'>Main documentation on GitHub</a>"))])]),i()(Ot),i()(bt)]},_n=document.getElementById("root");_n&&i.a.mount(_n,En)}]);
//# sourceMappingURL=index.js.map